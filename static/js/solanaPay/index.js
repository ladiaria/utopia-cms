"use strict";var solanaPay=(()=>{var hd=Object.create;var gs=Object.defineProperty;var ld=Object.getOwnPropertyDescriptor;var dd=Object.getOwnPropertyNames;var pd=Object.getPrototypeOf,yd=Object.prototype.hasOwnProperty;var cf=(r=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(r,{get:(t,e)=>(typeof require<"u"?require:t)[e]}):r)(function(r){if(typeof require<"u")return require.apply(this,arguments);throw new Error('Dynamic require of "'+r+'" is not supported')});var Dr=(r,t)=>()=>(r&&(t=r(r=0)),t);var _e=(r,t)=>()=>(t||r((t={exports:{}}).exports,t),t.exports),uf=(r,t)=>{for(var e in t)gs(r,e,{get:t[e],enumerable:!0})},ff=(r,t,e,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of dd(t))!yd.call(r,i)&&i!==e&&gs(r,i,{get:()=>t[i],enumerable:!(n=ld(t,i))||n.enumerable});return r};var de=(r,t,e)=>(e=r!=null?hd(pd(r)):{},ff(t||!r||!r.__esModule?gs(e,"default",{value:r,enumerable:!0}):e,r)),dc=r=>ff(gs({},"__esModule",{value:!0}),r);var yc=_e(ms=>{"use strict";ms.byteLength=md;ms.toByteArray=xd;ms.fromByteArray=kd;var dn=[],en=[],gd=typeof Uint8Array<"u"?Uint8Array:Array,pc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(gi=0,hf=pc.length;gi<hf;++gi)dn[gi]=pc[gi],en[pc.charCodeAt(gi)]=gi;var gi,hf;en["-".charCodeAt(0)]=62;en["_".charCodeAt(0)]=63;function lf(r){var t=r.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var e=r.indexOf("=");e===-1&&(e=t);var n=e===t?0:4-e%4;return[e,n]}function md(r){var t=lf(r),e=t[0],n=t[1];return(e+n)*3/4-n}function wd(r,t,e){return(t+e)*3/4-e}function xd(r){var t,e=lf(r),n=e[0],i=e[1],o=new gd(wd(r,n,i)),s=0,d=i>0?n-4:n,g;for(g=0;g<d;g+=4)t=en[r.charCodeAt(g)]<<18|en[r.charCodeAt(g+1)]<<12|en[r.charCodeAt(g+2)]<<6|en[r.charCodeAt(g+3)],o[s++]=t>>16&255,o[s++]=t>>8&255,o[s++]=t&255;return i===2&&(t=en[r.charCodeAt(g)]<<2|en[r.charCodeAt(g+1)]>>4,o[s++]=t&255),i===1&&(t=en[r.charCodeAt(g)]<<10|en[r.charCodeAt(g+1)]<<4|en[r.charCodeAt(g+2)]>>2,o[s++]=t>>8&255,o[s++]=t&255),o}function bd(r){return dn[r>>18&63]+dn[r>>12&63]+dn[r>>6&63]+dn[r&63]}function vd(r,t,e){for(var n,i=[],o=t;o<e;o+=3)n=(r[o]<<16&16711680)+(r[o+1]<<8&65280)+(r[o+2]&255),i.push(bd(n));return i.join("")}function kd(r){for(var t,e=r.length,n=e%3,i=[],o=16383,s=0,d=e-n;s<d;s+=o)i.push(vd(r,s,s+o>d?d:s+o));return n===1?(t=r[e-1],i.push(dn[t>>2]+dn[t<<4&63]+"==")):n===2&&(t=(r[e-2]<<8)+r[e-1],i.push(dn[t>>10]+dn[t>>4&63]+dn[t<<2&63]+"=")),i.join("")}});var mc=_e(gc=>{gc.read=function(r,t,e,n,i){var o,s,d=i*8-n-1,g=(1<<d)-1,A=g>>1,L=-7,M=e?i-1:0,$=e?-1:1,K=r[t+M];for(M+=$,o=K&(1<<-L)-1,K>>=-L,L+=d;L>0;o=o*256+r[t+M],M+=$,L-=8);for(s=o&(1<<-L)-1,o>>=-L,L+=n;L>0;s=s*256+r[t+M],M+=$,L-=8);if(o===0)o=1-A;else{if(o===g)return s?NaN:(K?-1:1)*(1/0);s=s+Math.pow(2,n),o=o-A}return(K?-1:1)*s*Math.pow(2,o-n)};gc.write=function(r,t,e,n,i,o){var s,d,g,A=o*8-i-1,L=(1<<A)-1,M=L>>1,$=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,K=n?0:o-1,et=n?1:-1,tt=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(d=isNaN(t)?1:0,s=L):(s=Math.floor(Math.log(t)/Math.LN2),t*(g=Math.pow(2,-s))<1&&(s--,g*=2),s+M>=1?t+=$/g:t+=$*Math.pow(2,1-M),t*g>=2&&(s++,g/=2),s+M>=L?(d=0,s=L):s+M>=1?(d=(t*g-1)*Math.pow(2,i),s=s+M):(d=t*Math.pow(2,M-1)*Math.pow(2,i),s=0));i>=8;r[e+K]=d&255,K+=et,d/=256,i-=8);for(s=s<<i|d,A+=i;A>0;r[e+K]=s&255,K+=et,s/=256,A-=8);r[e+K-et]|=tt*128}});var Rf=_e(Ci=>{"use strict";var wc=yc(),Pi=mc(),df=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;Ci.Buffer=st;Ci.SlowBuffer=Bd;Ci.INSPECT_MAX_BYTES=50;var ws=2147483647;Ci.kMaxLength=ws;st.TYPED_ARRAY_SUPPORT=Id();!st.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function Id(){try{let r=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(r,t),r.foo()===42}catch{return!1}}Object.defineProperty(st.prototype,"parent",{enumerable:!0,get:function(){if(!!st.isBuffer(this))return this.buffer}});Object.defineProperty(st.prototype,"offset",{enumerable:!0,get:function(){if(!!st.isBuffer(this))return this.byteOffset}});function En(r){if(r>ws)throw new RangeError('The value "'+r+'" is invalid for option "size"');let t=new Uint8Array(r);return Object.setPrototypeOf(t,st.prototype),t}function st(r,t,e){if(typeof r=="number"){if(typeof t=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return kc(r)}return mf(r,t,e)}st.poolSize=8192;function mf(r,t,e){if(typeof r=="string")return _d(r,t);if(ArrayBuffer.isView(r))return Ed(r);if(r==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r);if(pn(r,ArrayBuffer)||r&&pn(r.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(pn(r,SharedArrayBuffer)||r&&pn(r.buffer,SharedArrayBuffer)))return bc(r,t,e);if(typeof r=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let n=r.valueOf&&r.valueOf();if(n!=null&&n!==r)return st.from(n,t,e);let i=Sd(r);if(i)return i;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof r[Symbol.toPrimitive]=="function")return st.from(r[Symbol.toPrimitive]("string"),t,e);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r)}st.from=function(r,t,e){return mf(r,t,e)};Object.setPrototypeOf(st.prototype,Uint8Array.prototype);Object.setPrototypeOf(st,Uint8Array);function wf(r){if(typeof r!="number")throw new TypeError('"size" argument must be of type number');if(r<0)throw new RangeError('The value "'+r+'" is invalid for option "size"')}function Ad(r,t,e){return wf(r),r<=0?En(r):t!==void 0?typeof e=="string"?En(r).fill(t,e):En(r).fill(t):En(r)}st.alloc=function(r,t,e){return Ad(r,t,e)};function kc(r){return wf(r),En(r<0?0:Ic(r)|0)}st.allocUnsafe=function(r){return kc(r)};st.allocUnsafeSlow=function(r){return kc(r)};function _d(r,t){if((typeof t!="string"||t==="")&&(t="utf8"),!st.isEncoding(t))throw new TypeError("Unknown encoding: "+t);let e=xf(r,t)|0,n=En(e),i=n.write(r,t);return i!==e&&(n=n.slice(0,i)),n}function xc(r){let t=r.length<0?0:Ic(r.length)|0,e=En(t);for(let n=0;n<t;n+=1)e[n]=r[n]&255;return e}function Ed(r){if(pn(r,Uint8Array)){let t=new Uint8Array(r);return bc(t.buffer,t.byteOffset,t.byteLength)}return xc(r)}function bc(r,t,e){if(t<0||r.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(r.byteLength<t+(e||0))throw new RangeError('"length" is outside of buffer bounds');let n;return t===void 0&&e===void 0?n=new Uint8Array(r):e===void 0?n=new Uint8Array(r,t):n=new Uint8Array(r,t,e),Object.setPrototypeOf(n,st.prototype),n}function Sd(r){if(st.isBuffer(r)){let t=Ic(r.length)|0,e=En(t);return e.length===0||r.copy(e,0,0,t),e}if(r.length!==void 0)return typeof r.length!="number"||_c(r.length)?En(0):xc(r);if(r.type==="Buffer"&&Array.isArray(r.data))return xc(r.data)}function Ic(r){if(r>=ws)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+ws.toString(16)+" bytes");return r|0}function Bd(r){return+r!=r&&(r=0),st.alloc(+r)}st.isBuffer=function(t){return t!=null&&t._isBuffer===!0&&t!==st.prototype};st.compare=function(t,e){if(pn(t,Uint8Array)&&(t=st.from(t,t.offset,t.byteLength)),pn(e,Uint8Array)&&(e=st.from(e,e.offset,e.byteLength)),!st.isBuffer(t)||!st.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;let n=t.length,i=e.length;for(let o=0,s=Math.min(n,i);o<s;++o)if(t[o]!==e[o]){n=t[o],i=e[o];break}return n<i?-1:i<n?1:0};st.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};st.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(t.length===0)return st.alloc(0);let n;if(e===void 0)for(e=0,n=0;n<t.length;++n)e+=t[n].length;let i=st.allocUnsafe(e),o=0;for(n=0;n<t.length;++n){let s=t[n];if(pn(s,Uint8Array))o+s.length>i.length?(st.isBuffer(s)||(s=st.from(s)),s.copy(i,o)):Uint8Array.prototype.set.call(i,s,o);else if(st.isBuffer(s))s.copy(i,o);else throw new TypeError('"list" argument must be an Array of Buffers');o+=s.length}return i};function xf(r,t){if(st.isBuffer(r))return r.length;if(ArrayBuffer.isView(r)||pn(r,ArrayBuffer))return r.byteLength;if(typeof r!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof r);let e=r.length,n=arguments.length>2&&arguments[2]===!0;if(!n&&e===0)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return e;case"utf8":case"utf-8":return vc(r).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return e*2;case"hex":return e>>>1;case"base64":return Bf(r).length;default:if(i)return n?-1:vc(r).length;t=(""+t).toLowerCase(),i=!0}}st.byteLength=xf;function Rd(r,t,e){let n=!1;if((t===void 0||t<0)&&(t=0),t>this.length||((e===void 0||e>this.length)&&(e=this.length),e<=0)||(e>>>=0,t>>>=0,e<=t))return"";for(r||(r="utf8");;)switch(r){case"hex":return Fd(this,t,e);case"utf8":case"utf-8":return vf(this,t,e);case"ascii":return Nd(this,t,e);case"latin1":case"binary":return zd(this,t,e);case"base64":return Cd(this,t,e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Dd(this,t,e);default:if(n)throw new TypeError("Unknown encoding: "+r);r=(r+"").toLowerCase(),n=!0}}st.prototype._isBuffer=!0;function mi(r,t,e){let n=r[t];r[t]=r[e],r[e]=n}st.prototype.swap16=function(){let t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let e=0;e<t;e+=2)mi(this,e,e+1);return this};st.prototype.swap32=function(){let t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let e=0;e<t;e+=4)mi(this,e,e+3),mi(this,e+1,e+2);return this};st.prototype.swap64=function(){let t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let e=0;e<t;e+=8)mi(this,e,e+7),mi(this,e+1,e+6),mi(this,e+2,e+5),mi(this,e+3,e+4);return this};st.prototype.toString=function(){let t=this.length;return t===0?"":arguments.length===0?vf(this,0,t):Rd.apply(this,arguments)};st.prototype.toLocaleString=st.prototype.toString;st.prototype.equals=function(t){if(!st.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t?!0:st.compare(this,t)===0};st.prototype.inspect=function(){let t="",e=Ci.INSPECT_MAX_BYTES;return t=this.toString("hex",0,e).replace(/(.{2})/g,"$1 ").trim(),this.length>e&&(t+=" ... "),"<Buffer "+t+">"};df&&(st.prototype[df]=st.prototype.inspect);st.prototype.compare=function(t,e,n,i,o){if(pn(t,Uint8Array)&&(t=st.from(t,t.offset,t.byteLength)),!st.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(e===void 0&&(e=0),n===void 0&&(n=t?t.length:0),i===void 0&&(i=0),o===void 0&&(o=this.length),e<0||n>t.length||i<0||o>this.length)throw new RangeError("out of range index");if(i>=o&&e>=n)return 0;if(i>=o)return-1;if(e>=n)return 1;if(e>>>=0,n>>>=0,i>>>=0,o>>>=0,this===t)return 0;let s=o-i,d=n-e,g=Math.min(s,d),A=this.slice(i,o),L=t.slice(e,n);for(let M=0;M<g;++M)if(A[M]!==L[M]){s=A[M],d=L[M];break}return s<d?-1:d<s?1:0};function bf(r,t,e,n,i){if(r.length===0)return-1;if(typeof e=="string"?(n=e,e=0):e>2147483647?e=2147483647:e<-2147483648&&(e=-2147483648),e=+e,_c(e)&&(e=i?0:r.length-1),e<0&&(e=r.length+e),e>=r.length){if(i)return-1;e=r.length-1}else if(e<0)if(i)e=0;else return-1;if(typeof t=="string"&&(t=st.from(t,n)),st.isBuffer(t))return t.length===0?-1:pf(r,t,e,n,i);if(typeof t=="number")return t=t&255,typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(r,t,e):Uint8Array.prototype.lastIndexOf.call(r,t,e):pf(r,[t],e,n,i);throw new TypeError("val must be string, number or Buffer")}function pf(r,t,e,n,i){let o=1,s=r.length,d=t.length;if(n!==void 0&&(n=String(n).toLowerCase(),n==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(r.length<2||t.length<2)return-1;o=2,s/=2,d/=2,e/=2}function g(L,M){return o===1?L[M]:L.readUInt16BE(M*o)}let A;if(i){let L=-1;for(A=e;A<s;A++)if(g(r,A)===g(t,L===-1?0:A-L)){if(L===-1&&(L=A),A-L+1===d)return L*o}else L!==-1&&(A-=A-L),L=-1}else for(e+d>s&&(e=s-d),A=e;A>=0;A--){let L=!0;for(let M=0;M<d;M++)if(g(r,A+M)!==g(t,M)){L=!1;break}if(L)return A}return-1}st.prototype.includes=function(t,e,n){return this.indexOf(t,e,n)!==-1};st.prototype.indexOf=function(t,e,n){return bf(this,t,e,n,!0)};st.prototype.lastIndexOf=function(t,e,n){return bf(this,t,e,n,!1)};function Td(r,t,e,n){e=Number(e)||0;let i=r.length-e;n?(n=Number(n),n>i&&(n=i)):n=i;let o=t.length;n>o/2&&(n=o/2);let s;for(s=0;s<n;++s){let d=parseInt(t.substr(s*2,2),16);if(_c(d))return s;r[e+s]=d}return s}function Md(r,t,e,n){return xs(vc(t,r.length-e),r,e,n)}function Ld(r,t,e,n){return xs(Hd(t),r,e,n)}function Pd(r,t,e,n){return xs(Bf(t),r,e,n)}function Od(r,t,e,n){return xs($d(t,r.length-e),r,e,n)}st.prototype.write=function(t,e,n,i){if(e===void 0)i="utf8",n=this.length,e=0;else if(n===void 0&&typeof e=="string")i=e,n=this.length,e=0;else if(isFinite(e))e=e>>>0,isFinite(n)?(n=n>>>0,i===void 0&&(i="utf8")):(i=n,n=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let o=this.length-e;if((n===void 0||n>o)&&(n=o),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");let s=!1;for(;;)switch(i){case"hex":return Td(this,t,e,n);case"utf8":case"utf-8":return Md(this,t,e,n);case"ascii":case"latin1":case"binary":return Ld(this,t,e,n);case"base64":return Pd(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Od(this,t,e,n);default:if(s)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),s=!0}};st.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Cd(r,t,e){return t===0&&e===r.length?wc.fromByteArray(r):wc.fromByteArray(r.slice(t,e))}function vf(r,t,e){e=Math.min(r.length,e);let n=[],i=t;for(;i<e;){let o=r[i],s=null,d=o>239?4:o>223?3:o>191?2:1;if(i+d<=e){let g,A,L,M;switch(d){case 1:o<128&&(s=o);break;case 2:g=r[i+1],(g&192)===128&&(M=(o&31)<<6|g&63,M>127&&(s=M));break;case 3:g=r[i+1],A=r[i+2],(g&192)===128&&(A&192)===128&&(M=(o&15)<<12|(g&63)<<6|A&63,M>2047&&(M<55296||M>57343)&&(s=M));break;case 4:g=r[i+1],A=r[i+2],L=r[i+3],(g&192)===128&&(A&192)===128&&(L&192)===128&&(M=(o&15)<<18|(g&63)<<12|(A&63)<<6|L&63,M>65535&&M<1114112&&(s=M))}}s===null?(s=65533,d=1):s>65535&&(s-=65536,n.push(s>>>10&1023|55296),s=56320|s&1023),n.push(s),i+=d}return Ud(n)}var yf=4096;function Ud(r){let t=r.length;if(t<=yf)return String.fromCharCode.apply(String,r);let e="",n=0;for(;n<t;)e+=String.fromCharCode.apply(String,r.slice(n,n+=yf));return e}function Nd(r,t,e){let n="";e=Math.min(r.length,e);for(let i=t;i<e;++i)n+=String.fromCharCode(r[i]&127);return n}function zd(r,t,e){let n="";e=Math.min(r.length,e);for(let i=t;i<e;++i)n+=String.fromCharCode(r[i]);return n}function Fd(r,t,e){let n=r.length;(!t||t<0)&&(t=0),(!e||e<0||e>n)&&(e=n);let i="";for(let o=t;o<e;++o)i+=jd[r[o]];return i}function Dd(r,t,e){let n=r.slice(t,e),i="";for(let o=0;o<n.length-1;o+=2)i+=String.fromCharCode(n[o]+n[o+1]*256);return i}st.prototype.slice=function(t,e){let n=this.length;t=~~t,e=e===void 0?n:~~e,t<0?(t+=n,t<0&&(t=0)):t>n&&(t=n),e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),e<t&&(e=t);let i=this.subarray(t,e);return Object.setPrototypeOf(i,st.prototype),i};function kr(r,t,e){if(r%1!==0||r<0)throw new RangeError("offset is not uint");if(r+t>e)throw new RangeError("Trying to access beyond buffer length")}st.prototype.readUintLE=st.prototype.readUIntLE=function(t,e,n){t=t>>>0,e=e>>>0,n||kr(t,e,this.length);let i=this[t],o=1,s=0;for(;++s<e&&(o*=256);)i+=this[t+s]*o;return i};st.prototype.readUintBE=st.prototype.readUIntBE=function(t,e,n){t=t>>>0,e=e>>>0,n||kr(t,e,this.length);let i=this[t+--e],o=1;for(;e>0&&(o*=256);)i+=this[t+--e]*o;return i};st.prototype.readUint8=st.prototype.readUInt8=function(t,e){return t=t>>>0,e||kr(t,1,this.length),this[t]};st.prototype.readUint16LE=st.prototype.readUInt16LE=function(t,e){return t=t>>>0,e||kr(t,2,this.length),this[t]|this[t+1]<<8};st.prototype.readUint16BE=st.prototype.readUInt16BE=function(t,e){return t=t>>>0,e||kr(t,2,this.length),this[t]<<8|this[t+1]};st.prototype.readUint32LE=st.prototype.readUInt32LE=function(t,e){return t=t>>>0,e||kr(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+this[t+3]*16777216};st.prototype.readUint32BE=st.prototype.readUInt32BE=function(t,e){return t=t>>>0,e||kr(t,4,this.length),this[t]*16777216+(this[t+1]<<16|this[t+2]<<8|this[t+3])};st.prototype.readBigUInt64LE=Wn(function(t){t=t>>>0,Oi(t,"offset");let e=this[t],n=this[t+7];(e===void 0||n===void 0)&&mo(t,this.length-8);let i=e+this[++t]*2**8+this[++t]*2**16+this[++t]*2**24,o=this[++t]+this[++t]*2**8+this[++t]*2**16+n*2**24;return BigInt(i)+(BigInt(o)<<BigInt(32))});st.prototype.readBigUInt64BE=Wn(function(t){t=t>>>0,Oi(t,"offset");let e=this[t],n=this[t+7];(e===void 0||n===void 0)&&mo(t,this.length-8);let i=e*2**24+this[++t]*2**16+this[++t]*2**8+this[++t],o=this[++t]*2**24+this[++t]*2**16+this[++t]*2**8+n;return(BigInt(i)<<BigInt(32))+BigInt(o)});st.prototype.readIntLE=function(t,e,n){t=t>>>0,e=e>>>0,n||kr(t,e,this.length);let i=this[t],o=1,s=0;for(;++s<e&&(o*=256);)i+=this[t+s]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*e)),i};st.prototype.readIntBE=function(t,e,n){t=t>>>0,e=e>>>0,n||kr(t,e,this.length);let i=e,o=1,s=this[t+--i];for(;i>0&&(o*=256);)s+=this[t+--i]*o;return o*=128,s>=o&&(s-=Math.pow(2,8*e)),s};st.prototype.readInt8=function(t,e){return t=t>>>0,e||kr(t,1,this.length),this[t]&128?(255-this[t]+1)*-1:this[t]};st.prototype.readInt16LE=function(t,e){t=t>>>0,e||kr(t,2,this.length);let n=this[t]|this[t+1]<<8;return n&32768?n|4294901760:n};st.prototype.readInt16BE=function(t,e){t=t>>>0,e||kr(t,2,this.length);let n=this[t+1]|this[t]<<8;return n&32768?n|4294901760:n};st.prototype.readInt32LE=function(t,e){return t=t>>>0,e||kr(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24};st.prototype.readInt32BE=function(t,e){return t=t>>>0,e||kr(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]};st.prototype.readBigInt64LE=Wn(function(t){t=t>>>0,Oi(t,"offset");let e=this[t],n=this[t+7];(e===void 0||n===void 0)&&mo(t,this.length-8);let i=this[t+4]+this[t+5]*2**8+this[t+6]*2**16+(n<<24);return(BigInt(i)<<BigInt(32))+BigInt(e+this[++t]*2**8+this[++t]*2**16+this[++t]*2**24)});st.prototype.readBigInt64BE=Wn(function(t){t=t>>>0,Oi(t,"offset");let e=this[t],n=this[t+7];(e===void 0||n===void 0)&&mo(t,this.length-8);let i=(e<<24)+this[++t]*2**16+this[++t]*2**8+this[++t];return(BigInt(i)<<BigInt(32))+BigInt(this[++t]*2**24+this[++t]*2**16+this[++t]*2**8+n)});st.prototype.readFloatLE=function(t,e){return t=t>>>0,e||kr(t,4,this.length),Pi.read(this,t,!0,23,4)};st.prototype.readFloatBE=function(t,e){return t=t>>>0,e||kr(t,4,this.length),Pi.read(this,t,!1,23,4)};st.prototype.readDoubleLE=function(t,e){return t=t>>>0,e||kr(t,8,this.length),Pi.read(this,t,!0,52,8)};st.prototype.readDoubleBE=function(t,e){return t=t>>>0,e||kr(t,8,this.length),Pi.read(this,t,!1,52,8)};function Hr(r,t,e,n,i,o){if(!st.isBuffer(r))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(e+n>r.length)throw new RangeError("Index out of range")}st.prototype.writeUintLE=st.prototype.writeUIntLE=function(t,e,n,i){if(t=+t,e=e>>>0,n=n>>>0,!i){let d=Math.pow(2,8*n)-1;Hr(this,t,e,n,d,0)}let o=1,s=0;for(this[e]=t&255;++s<n&&(o*=256);)this[e+s]=t/o&255;return e+n};st.prototype.writeUintBE=st.prototype.writeUIntBE=function(t,e,n,i){if(t=+t,e=e>>>0,n=n>>>0,!i){let d=Math.pow(2,8*n)-1;Hr(this,t,e,n,d,0)}let o=n-1,s=1;for(this[e+o]=t&255;--o>=0&&(s*=256);)this[e+o]=t/s&255;return e+n};st.prototype.writeUint8=st.prototype.writeUInt8=function(t,e,n){return t=+t,e=e>>>0,n||Hr(this,t,e,1,255,0),this[e]=t&255,e+1};st.prototype.writeUint16LE=st.prototype.writeUInt16LE=function(t,e,n){return t=+t,e=e>>>0,n||Hr(this,t,e,2,65535,0),this[e]=t&255,this[e+1]=t>>>8,e+2};st.prototype.writeUint16BE=st.prototype.writeUInt16BE=function(t,e,n){return t=+t,e=e>>>0,n||Hr(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=t&255,e+2};st.prototype.writeUint32LE=st.prototype.writeUInt32LE=function(t,e,n){return t=+t,e=e>>>0,n||Hr(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=t&255,e+4};st.prototype.writeUint32BE=st.prototype.writeUInt32BE=function(t,e,n){return t=+t,e=e>>>0,n||Hr(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=t&255,e+4};function kf(r,t,e,n,i){Sf(t,n,i,r,e,7);let o=Number(t&BigInt(4294967295));r[e++]=o,o=o>>8,r[e++]=o,o=o>>8,r[e++]=o,o=o>>8,r[e++]=o;let s=Number(t>>BigInt(32)&BigInt(4294967295));return r[e++]=s,s=s>>8,r[e++]=s,s=s>>8,r[e++]=s,s=s>>8,r[e++]=s,e}function If(r,t,e,n,i){Sf(t,n,i,r,e,7);let o=Number(t&BigInt(4294967295));r[e+7]=o,o=o>>8,r[e+6]=o,o=o>>8,r[e+5]=o,o=o>>8,r[e+4]=o;let s=Number(t>>BigInt(32)&BigInt(4294967295));return r[e+3]=s,s=s>>8,r[e+2]=s,s=s>>8,r[e+1]=s,s=s>>8,r[e]=s,e+8}st.prototype.writeBigUInt64LE=Wn(function(t,e=0){return kf(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))});st.prototype.writeBigUInt64BE=Wn(function(t,e=0){return If(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))});st.prototype.writeIntLE=function(t,e,n,i){if(t=+t,e=e>>>0,!i){let g=Math.pow(2,8*n-1);Hr(this,t,e,n,g-1,-g)}let o=0,s=1,d=0;for(this[e]=t&255;++o<n&&(s*=256);)t<0&&d===0&&this[e+o-1]!==0&&(d=1),this[e+o]=(t/s>>0)-d&255;return e+n};st.prototype.writeIntBE=function(t,e,n,i){if(t=+t,e=e>>>0,!i){let g=Math.pow(2,8*n-1);Hr(this,t,e,n,g-1,-g)}let o=n-1,s=1,d=0;for(this[e+o]=t&255;--o>=0&&(s*=256);)t<0&&d===0&&this[e+o+1]!==0&&(d=1),this[e+o]=(t/s>>0)-d&255;return e+n};st.prototype.writeInt8=function(t,e,n){return t=+t,e=e>>>0,n||Hr(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=t&255,e+1};st.prototype.writeInt16LE=function(t,e,n){return t=+t,e=e>>>0,n||Hr(this,t,e,2,32767,-32768),this[e]=t&255,this[e+1]=t>>>8,e+2};st.prototype.writeInt16BE=function(t,e,n){return t=+t,e=e>>>0,n||Hr(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=t&255,e+2};st.prototype.writeInt32LE=function(t,e,n){return t=+t,e=e>>>0,n||Hr(this,t,e,4,2147483647,-2147483648),this[e]=t&255,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4};st.prototype.writeInt32BE=function(t,e,n){return t=+t,e=e>>>0,n||Hr(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=t&255,e+4};st.prototype.writeBigInt64LE=Wn(function(t,e=0){return kf(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});st.prototype.writeBigInt64BE=Wn(function(t,e=0){return If(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Af(r,t,e,n,i,o){if(e+n>r.length)throw new RangeError("Index out of range");if(e<0)throw new RangeError("Index out of range")}function _f(r,t,e,n,i){return t=+t,e=e>>>0,i||Af(r,t,e,4,34028234663852886e22,-34028234663852886e22),Pi.write(r,t,e,n,23,4),e+4}st.prototype.writeFloatLE=function(t,e,n){return _f(this,t,e,!0,n)};st.prototype.writeFloatBE=function(t,e,n){return _f(this,t,e,!1,n)};function Ef(r,t,e,n,i){return t=+t,e=e>>>0,i||Af(r,t,e,8,17976931348623157e292,-17976931348623157e292),Pi.write(r,t,e,n,52,8),e+8}st.prototype.writeDoubleLE=function(t,e,n){return Ef(this,t,e,!0,n)};st.prototype.writeDoubleBE=function(t,e,n){return Ef(this,t,e,!1,n)};st.prototype.copy=function(t,e,n,i){if(!st.isBuffer(t))throw new TypeError("argument should be a Buffer");if(n||(n=0),!i&&i!==0&&(i=this.length),e>=t.length&&(e=t.length),e||(e=0),i>0&&i<n&&(i=n),i===n||t.length===0||this.length===0)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-e<i-n&&(i=t.length-e+n);let o=i-n;return this===t&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(e,n,i):Uint8Array.prototype.set.call(t,this.subarray(n,i),e),o};st.prototype.fill=function(t,e,n,i){if(typeof t=="string"){if(typeof e=="string"?(i=e,e=0,n=this.length):typeof n=="string"&&(i=n,n=this.length),i!==void 0&&typeof i!="string")throw new TypeError("encoding must be a string");if(typeof i=="string"&&!st.isEncoding(i))throw new TypeError("Unknown encoding: "+i);if(t.length===1){let s=t.charCodeAt(0);(i==="utf8"&&s<128||i==="latin1")&&(t=s)}}else typeof t=="number"?t=t&255:typeof t=="boolean"&&(t=Number(t));if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;e=e>>>0,n=n===void 0?this.length:n>>>0,t||(t=0);let o;if(typeof t=="number")for(o=e;o<n;++o)this[o]=t;else{let s=st.isBuffer(t)?t:st.from(t,i),d=s.length;if(d===0)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(o=0;o<n-e;++o)this[o+e]=s[o%d]}return this};var Li={};function Ac(r,t,e){Li[r]=class extends e{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${r}]`,this.stack,delete this.name}get code(){return r}set code(i){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:i,writable:!0})}toString(){return`${this.name} [${r}]: ${this.message}`}}}Ac("ERR_BUFFER_OUT_OF_BOUNDS",function(r){return r?`${r} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError);Ac("ERR_INVALID_ARG_TYPE",function(r,t){return`The "${r}" argument must be of type number. Received type ${typeof t}`},TypeError);Ac("ERR_OUT_OF_RANGE",function(r,t,e){let n=`The value of "${r}" is out of range.`,i=e;return Number.isInteger(e)&&Math.abs(e)>2**32?i=gf(String(e)):typeof e=="bigint"&&(i=String(e),(e>BigInt(2)**BigInt(32)||e<-(BigInt(2)**BigInt(32)))&&(i=gf(i)),i+="n"),n+=` It must be ${t}. Received ${i}`,n},RangeError);function gf(r){let t="",e=r.length,n=r[0]==="-"?1:0;for(;e>=n+4;e-=3)t=`_${r.slice(e-3,e)}${t}`;return`${r.slice(0,e)}${t}`}function qd(r,t,e){Oi(t,"offset"),(r[t]===void 0||r[t+e]===void 0)&&mo(t,r.length-(e+1))}function Sf(r,t,e,n,i,o){if(r>e||r<t){let s=typeof t=="bigint"?"n":"",d;throw o>3?t===0||t===BigInt(0)?d=`>= 0${s} and < 2${s} ** ${(o+1)*8}${s}`:d=`>= -(2${s} ** ${(o+1)*8-1}${s}) and < 2 ** ${(o+1)*8-1}${s}`:d=`>= ${t}${s} and <= ${e}${s}`,new Li.ERR_OUT_OF_RANGE("value",d,r)}qd(n,i,o)}function Oi(r,t){if(typeof r!="number")throw new Li.ERR_INVALID_ARG_TYPE(t,"number",r)}function mo(r,t,e){throw Math.floor(r)!==r?(Oi(r,e),new Li.ERR_OUT_OF_RANGE(e||"offset","an integer",r)):t<0?new Li.ERR_BUFFER_OUT_OF_BOUNDS:new Li.ERR_OUT_OF_RANGE(e||"offset",`>= ${e?1:0} and <= ${t}`,r)}var Kd=/[^+/0-9A-Za-z-_]/g;function Wd(r){if(r=r.split("=")[0],r=r.trim().replace(Kd,""),r.length<2)return"";for(;r.length%4!==0;)r=r+"=";return r}function vc(r,t){t=t||1/0;let e,n=r.length,i=null,o=[];for(let s=0;s<n;++s){if(e=r.charCodeAt(s),e>55295&&e<57344){if(!i){if(e>56319){(t-=3)>-1&&o.push(239,191,189);continue}else if(s+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=e;continue}if(e<56320){(t-=3)>-1&&o.push(239,191,189),i=e;continue}e=(i-55296<<10|e-56320)+65536}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,e<128){if((t-=1)<0)break;o.push(e)}else if(e<2048){if((t-=2)<0)break;o.push(e>>6|192,e&63|128)}else if(e<65536){if((t-=3)<0)break;o.push(e>>12|224,e>>6&63|128,e&63|128)}else if(e<1114112){if((t-=4)<0)break;o.push(e>>18|240,e>>12&63|128,e>>6&63|128,e&63|128)}else throw new Error("Invalid code point")}return o}function Hd(r){let t=[];for(let e=0;e<r.length;++e)t.push(r.charCodeAt(e)&255);return t}function $d(r,t){let e,n,i,o=[];for(let s=0;s<r.length&&!((t-=2)<0);++s)e=r.charCodeAt(s),n=e>>8,i=e%256,o.push(i),o.push(n);return o}function Bf(r){return wc.toByteArray(Wd(r))}function xs(r,t,e,n){let i;for(i=0;i<n&&!(i+e>=t.length||i>=r.length);++i)t[i+e]=r[i];return i}function pn(r,t){return r instanceof t||r!=null&&r.constructor!=null&&r.constructor.name!=null&&r.constructor.name===t.name}function _c(r){return r!==r}var jd=function(){let r="0123456789abcdef",t=new Array(256);for(let e=0;e<16;++e){let n=e*16;for(let i=0;i<16;++i)t[n+i]=r[e]+r[i]}return t}();function Wn(r){return typeof BigInt>"u"?Gd:r}function Gd(){throw new Error("BigInt not supported")}});var ks=_e(()=>{});var Hf=_e(()=>{});var zc=_e(($f,Nc)=>{(function(r,t){"use strict";function e(y,a){if(!y)throw new Error(a||"Assertion failed")}function n(y,a){y.super_=a;var c=function(){};c.prototype=a.prototype,y.prototype=new c,y.prototype.constructor=y}function i(y,a,c){if(i.isBN(y))return y;this.negative=0,this.words=null,this.length=0,this.red=null,y!==null&&((a==="le"||a==="be")&&(c=a,a=10),this._init(y||0,a||10,c||"be"))}typeof r=="object"?r.exports=i:t.BN=i,i.BN=i,i.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=Hf().Buffer}catch{}i.isBN=function(a){return a instanceof i?!0:a!==null&&typeof a=="object"&&a.constructor.wordSize===i.wordSize&&Array.isArray(a.words)},i.max=function(a,c){return a.cmp(c)>0?a:c},i.min=function(a,c){return a.cmp(c)<0?a:c},i.prototype._init=function(a,c,f){if(typeof a=="number")return this._initNumber(a,c,f);if(typeof a=="object")return this._initArray(a,c,f);c==="hex"&&(c=16),e(c===(c|0)&&c>=2&&c<=36),a=a.toString().replace(/\s+/g,"");var p=0;a[0]==="-"&&(p++,this.negative=1),p<a.length&&(c===16?this._parseHex(a,p,f):(this._parseBase(a,c,p),f==="le"&&this._initArray(this.toArray(),c,f)))},i.prototype._initNumber=function(a,c,f){a<0&&(this.negative=1,a=-a),a<67108864?(this.words=[a&67108863],this.length=1):a<4503599627370496?(this.words=[a&67108863,a/67108864&67108863],this.length=2):(e(a<9007199254740992),this.words=[a&67108863,a/67108864&67108863,1],this.length=3),f==="le"&&this._initArray(this.toArray(),c,f)},i.prototype._initArray=function(a,c,f){if(e(typeof a.length=="number"),a.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(a.length/3),this.words=new Array(this.length);for(var p=0;p<this.length;p++)this.words[p]=0;var m,b,P=0;if(f==="be")for(p=a.length-1,m=0;p>=0;p-=3)b=a[p]|a[p-1]<<8|a[p-2]<<16,this.words[m]|=b<<P&67108863,this.words[m+1]=b>>>26-P&67108863,P+=24,P>=26&&(P-=26,m++);else if(f==="le")for(p=0,m=0;p<a.length;p+=3)b=a[p]|a[p+1]<<8|a[p+2]<<16,this.words[m]|=b<<P&67108863,this.words[m+1]=b>>>26-P&67108863,P+=24,P>=26&&(P-=26,m++);return this._strip()};function s(y,a){var c=y.charCodeAt(a);if(c>=48&&c<=57)return c-48;if(c>=65&&c<=70)return c-55;if(c>=97&&c<=102)return c-87;e(!1,"Invalid character in "+y)}function d(y,a,c){var f=s(y,c);return c-1>=a&&(f|=s(y,c-1)<<4),f}i.prototype._parseHex=function(a,c,f){this.length=Math.ceil((a.length-c)/6),this.words=new Array(this.length);for(var p=0;p<this.length;p++)this.words[p]=0;var m=0,b=0,P;if(f==="be")for(p=a.length-1;p>=c;p-=2)P=d(a,c,p)<<m,this.words[b]|=P&67108863,m>=18?(m-=18,b+=1,this.words[b]|=P>>>26):m+=8;else{var E=a.length-c;for(p=E%2===0?c+1:c;p<a.length;p+=2)P=d(a,c,p)<<m,this.words[b]|=P&67108863,m>=18?(m-=18,b+=1,this.words[b]|=P>>>26):m+=8}this._strip()};function g(y,a,c,f){for(var p=0,m=0,b=Math.min(y.length,c),P=a;P<b;P++){var E=y.charCodeAt(P)-48;p*=f,E>=49?m=E-49+10:E>=17?m=E-17+10:m=E,e(E>=0&&m<f,"Invalid character"),p+=m}return p}i.prototype._parseBase=function(a,c,f){this.words=[0],this.length=1;for(var p=0,m=1;m<=67108863;m*=c)p++;p--,m=m/c|0;for(var b=a.length-f,P=b%p,E=Math.min(b,b-P)+f,u=0,l=f;l<E;l+=p)u=g(a,l,l+p,c),this.imuln(m),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(P!==0){var _=1;for(u=g(a,l,a.length,c),l=0;l<P;l++)_*=c;this.imuln(_),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this._strip()},i.prototype.copy=function(a){a.words=new Array(this.length);for(var c=0;c<this.length;c++)a.words[c]=this.words[c];a.length=this.length,a.negative=this.negative,a.red=this.red};function A(y,a){y.words=a.words,y.length=a.length,y.negative=a.negative,y.red=a.red}if(i.prototype._move=function(a){A(a,this)},i.prototype.clone=function(){var a=new i(null);return this.copy(a),a},i.prototype._expand=function(a){for(;this.length<a;)this.words[this.length++]=0;return this},i.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{i.prototype[Symbol.for("nodejs.util.inspect.custom")]=L}catch{i.prototype.inspect=L}else i.prototype.inspect=L;function L(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var M=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],$=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],K=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(a,c){a=a||10,c=c|0||1;var f;if(a===16||a==="hex"){f="";for(var p=0,m=0,b=0;b<this.length;b++){var P=this.words[b],E=((P<<p|m)&16777215).toString(16);m=P>>>24-p&16777215,p+=2,p>=26&&(p-=26,b--),m!==0||b!==this.length-1?f=M[6-E.length]+E+f:f=E+f}for(m!==0&&(f=m.toString(16)+f);f.length%c!==0;)f="0"+f;return this.negative!==0&&(f="-"+f),f}if(a===(a|0)&&a>=2&&a<=36){var u=$[a],l=K[a];f="";var _=this.clone();for(_.negative=0;!_.isZero();){var S=_.modrn(l).toString(a);_=_.idivn(l),_.isZero()?f=S+f:f=M[u-S.length]+S+f}for(this.isZero()&&(f="0"+f);f.length%c!==0;)f="0"+f;return this.negative!==0&&(f="-"+f),f}e(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var a=this.words[0];return this.length===2?a+=this.words[1]*67108864:this.length===3&&this.words[2]===1?a+=4503599627370496+this.words[1]*67108864:this.length>2&&e(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-a:a},i.prototype.toJSON=function(){return this.toString(16,2)},o&&(i.prototype.toBuffer=function(a,c){return this.toArrayLike(o,a,c)}),i.prototype.toArray=function(a,c){return this.toArrayLike(Array,a,c)};var et=function(a,c){return a.allocUnsafe?a.allocUnsafe(c):new a(c)};i.prototype.toArrayLike=function(a,c,f){this._strip();var p=this.byteLength(),m=f||Math.max(1,p);e(p<=m,"byte array longer than desired length"),e(m>0,"Requested array length <= 0");var b=et(a,m),P=c==="le"?"LE":"BE";return this["_toArrayLike"+P](b,p),b},i.prototype._toArrayLikeLE=function(a,c){for(var f=0,p=0,m=0,b=0;m<this.length;m++){var P=this.words[m]<<b|p;a[f++]=P&255,f<a.length&&(a[f++]=P>>8&255),f<a.length&&(a[f++]=P>>16&255),b===6?(f<a.length&&(a[f++]=P>>24&255),p=0,b=0):(p=P>>>24,b+=2)}if(f<a.length)for(a[f++]=p;f<a.length;)a[f++]=0},i.prototype._toArrayLikeBE=function(a,c){for(var f=a.length-1,p=0,m=0,b=0;m<this.length;m++){var P=this.words[m]<<b|p;a[f--]=P&255,f>=0&&(a[f--]=P>>8&255),f>=0&&(a[f--]=P>>16&255),b===6?(f>=0&&(a[f--]=P>>24&255),p=0,b=0):(p=P>>>24,b+=2)}if(f>=0)for(a[f--]=p;f>=0;)a[f--]=0},Math.clz32?i.prototype._countBits=function(a){return 32-Math.clz32(a)}:i.prototype._countBits=function(a){var c=a,f=0;return c>=4096&&(f+=13,c>>>=13),c>=64&&(f+=7,c>>>=7),c>=8&&(f+=4,c>>>=4),c>=2&&(f+=2,c>>>=2),f+c},i.prototype._zeroBits=function(a){if(a===0)return 26;var c=a,f=0;return(c&8191)===0&&(f+=13,c>>>=13),(c&127)===0&&(f+=7,c>>>=7),(c&15)===0&&(f+=4,c>>>=4),(c&3)===0&&(f+=2,c>>>=2),(c&1)===0&&f++,f},i.prototype.bitLength=function(){var a=this.words[this.length-1],c=this._countBits(a);return(this.length-1)*26+c};function tt(y){for(var a=new Array(y.bitLength()),c=0;c<a.length;c++){var f=c/26|0,p=c%26;a[c]=y.words[f]>>>p&1}return a}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var a=0,c=0;c<this.length;c++){var f=this._zeroBits(this.words[c]);if(a+=f,f!==26)break}return a},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(a){return this.negative!==0?this.abs().inotn(a).iaddn(1):this.clone()},i.prototype.fromTwos=function(a){return this.testn(a-1)?this.notn(a).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(a){for(;this.length<a.length;)this.words[this.length++]=0;for(var c=0;c<a.length;c++)this.words[c]=this.words[c]|a.words[c];return this._strip()},i.prototype.ior=function(a){return e((this.negative|a.negative)===0),this.iuor(a)},i.prototype.or=function(a){return this.length>a.length?this.clone().ior(a):a.clone().ior(this)},i.prototype.uor=function(a){return this.length>a.length?this.clone().iuor(a):a.clone().iuor(this)},i.prototype.iuand=function(a){var c;this.length>a.length?c=a:c=this;for(var f=0;f<c.length;f++)this.words[f]=this.words[f]&a.words[f];return this.length=c.length,this._strip()},i.prototype.iand=function(a){return e((this.negative|a.negative)===0),this.iuand(a)},i.prototype.and=function(a){return this.length>a.length?this.clone().iand(a):a.clone().iand(this)},i.prototype.uand=function(a){return this.length>a.length?this.clone().iuand(a):a.clone().iuand(this)},i.prototype.iuxor=function(a){var c,f;this.length>a.length?(c=this,f=a):(c=a,f=this);for(var p=0;p<f.length;p++)this.words[p]=c.words[p]^f.words[p];if(this!==c)for(;p<c.length;p++)this.words[p]=c.words[p];return this.length=c.length,this._strip()},i.prototype.ixor=function(a){return e((this.negative|a.negative)===0),this.iuxor(a)},i.prototype.xor=function(a){return this.length>a.length?this.clone().ixor(a):a.clone().ixor(this)},i.prototype.uxor=function(a){return this.length>a.length?this.clone().iuxor(a):a.clone().iuxor(this)},i.prototype.inotn=function(a){e(typeof a=="number"&&a>=0);var c=Math.ceil(a/26)|0,f=a%26;this._expand(c),f>0&&c--;for(var p=0;p<c;p++)this.words[p]=~this.words[p]&67108863;return f>0&&(this.words[p]=~this.words[p]&67108863>>26-f),this._strip()},i.prototype.notn=function(a){return this.clone().inotn(a)},i.prototype.setn=function(a,c){e(typeof a=="number"&&a>=0);var f=a/26|0,p=a%26;return this._expand(f+1),c?this.words[f]=this.words[f]|1<<p:this.words[f]=this.words[f]&~(1<<p),this._strip()},i.prototype.iadd=function(a){var c;if(this.negative!==0&&a.negative===0)return this.negative=0,c=this.isub(a),this.negative^=1,this._normSign();if(this.negative===0&&a.negative!==0)return a.negative=0,c=this.isub(a),a.negative=1,c._normSign();var f,p;this.length>a.length?(f=this,p=a):(f=a,p=this);for(var m=0,b=0;b<p.length;b++)c=(f.words[b]|0)+(p.words[b]|0)+m,this.words[b]=c&67108863,m=c>>>26;for(;m!==0&&b<f.length;b++)c=(f.words[b]|0)+m,this.words[b]=c&67108863,m=c>>>26;if(this.length=f.length,m!==0)this.words[this.length]=m,this.length++;else if(f!==this)for(;b<f.length;b++)this.words[b]=f.words[b];return this},i.prototype.add=function(a){var c;return a.negative!==0&&this.negative===0?(a.negative=0,c=this.sub(a),a.negative^=1,c):a.negative===0&&this.negative!==0?(this.negative=0,c=a.sub(this),this.negative=1,c):this.length>a.length?this.clone().iadd(a):a.clone().iadd(this)},i.prototype.isub=function(a){if(a.negative!==0){a.negative=0;var c=this.iadd(a);return a.negative=1,c._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(a),this.negative=1,this._normSign();var f=this.cmp(a);if(f===0)return this.negative=0,this.length=1,this.words[0]=0,this;var p,m;f>0?(p=this,m=a):(p=a,m=this);for(var b=0,P=0;P<m.length;P++)c=(p.words[P]|0)-(m.words[P]|0)+b,b=c>>26,this.words[P]=c&67108863;for(;b!==0&&P<p.length;P++)c=(p.words[P]|0)+b,b=c>>26,this.words[P]=c&67108863;if(b===0&&P<p.length&&p!==this)for(;P<p.length;P++)this.words[P]=p.words[P];return this.length=Math.max(this.length,P),p!==this&&(this.negative=1),this._strip()},i.prototype.sub=function(a){return this.clone().isub(a)};function ht(y,a,c){c.negative=a.negative^y.negative;var f=y.length+a.length|0;c.length=f,f=f-1|0;var p=y.words[0]|0,m=a.words[0]|0,b=p*m,P=b&67108863,E=b/67108864|0;c.words[0]=P;for(var u=1;u<f;u++){for(var l=E>>>26,_=E&67108863,S=Math.min(u,a.length-1),O=Math.max(0,u-y.length+1);O<=S;O++){var F=u-O|0;p=y.words[F]|0,m=a.words[O]|0,b=p*m+_,l+=b/67108864|0,_=b&67108863}c.words[u]=_|0,E=l|0}return E!==0?c.words[u]=E|0:c.length--,c._strip()}var mt=function(a,c,f){var p=a.words,m=c.words,b=f.words,P=0,E,u,l,_=p[0]|0,S=_&8191,O=_>>>13,F=p[1]|0,D=F&8191,Z=F>>>13,N=p[2]|0,z=N&8191,U=N>>>13,H=p[3]|0,G=H&8191,nt=H>>>13,pt=p[4]|0,ot=pt&8191,xt=pt>>>13,qt=p[5]|0,Et=qt&8191,zt=qt>>>13,Ut=p[6]|0,bt=Ut&8191,Ct=Ut>>>13,$t=p[7]|0,Zt=$t&8191,xe=$t>>>13,re=p[8]|0,jt=re&8191,Xt=re>>>13,je=p[9]|0,pe=je&8191,Ie=je>>>13,Ye=m[0]|0,Xe=Ye&8191,Pe=Ye>>>13,tn=m[1]|0,Je=tn&8191,Ee=tn>>>13,_n=m[2]|0,Ge=_n&8191,Ve=_n>>>13,Rr=m[3]|0,ze=Rr&8191,Ae=Rr>>>13,Mi=m[4]|0,nr=Mi&8191,ar=Mi>>>13,ys=m[5]|0,Se=ys&8191,cr=ys>>>13,w=m[6]|0,I=w&8191,k=w>>>13,h=m[7]|0,R=h&8191,j=h>>>13,V=m[8]|0,rt=V&8191,ft=V>>>13,Ot=m[9]|0,gt=Ot&8191,Wt=Ot>>>13;f.negative=a.negative^c.negative,f.length=19,E=Math.imul(S,Xe),u=Math.imul(S,Pe),u=u+Math.imul(O,Xe)|0,l=Math.imul(O,Pe);var Bt=(P+E|0)+((u&8191)<<13)|0;P=(l+(u>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,E=Math.imul(D,Xe),u=Math.imul(D,Pe),u=u+Math.imul(Z,Xe)|0,l=Math.imul(Z,Pe),E=E+Math.imul(S,Je)|0,u=u+Math.imul(S,Ee)|0,u=u+Math.imul(O,Je)|0,l=l+Math.imul(O,Ee)|0;var Yt=(P+E|0)+((u&8191)<<13)|0;P=(l+(u>>>13)|0)+(Yt>>>26)|0,Yt&=67108863,E=Math.imul(z,Xe),u=Math.imul(z,Pe),u=u+Math.imul(U,Xe)|0,l=Math.imul(U,Pe),E=E+Math.imul(D,Je)|0,u=u+Math.imul(D,Ee)|0,u=u+Math.imul(Z,Je)|0,l=l+Math.imul(Z,Ee)|0,E=E+Math.imul(S,Ge)|0,u=u+Math.imul(S,Ve)|0,u=u+Math.imul(O,Ge)|0,l=l+Math.imul(O,Ve)|0;var Jt=(P+E|0)+((u&8191)<<13)|0;P=(l+(u>>>13)|0)+(Jt>>>26)|0,Jt&=67108863,E=Math.imul(G,Xe),u=Math.imul(G,Pe),u=u+Math.imul(nt,Xe)|0,l=Math.imul(nt,Pe),E=E+Math.imul(z,Je)|0,u=u+Math.imul(z,Ee)|0,u=u+Math.imul(U,Je)|0,l=l+Math.imul(U,Ee)|0,E=E+Math.imul(D,Ge)|0,u=u+Math.imul(D,Ve)|0,u=u+Math.imul(Z,Ge)|0,l=l+Math.imul(Z,Ve)|0,E=E+Math.imul(S,ze)|0,u=u+Math.imul(S,Ae)|0,u=u+Math.imul(O,ze)|0,l=l+Math.imul(O,Ae)|0;var fe=(P+E|0)+((u&8191)<<13)|0;P=(l+(u>>>13)|0)+(fe>>>26)|0,fe&=67108863,E=Math.imul(ot,Xe),u=Math.imul(ot,Pe),u=u+Math.imul(xt,Xe)|0,l=Math.imul(xt,Pe),E=E+Math.imul(G,Je)|0,u=u+Math.imul(G,Ee)|0,u=u+Math.imul(nt,Je)|0,l=l+Math.imul(nt,Ee)|0,E=E+Math.imul(z,Ge)|0,u=u+Math.imul(z,Ve)|0,u=u+Math.imul(U,Ge)|0,l=l+Math.imul(U,Ve)|0,E=E+Math.imul(D,ze)|0,u=u+Math.imul(D,Ae)|0,u=u+Math.imul(Z,ze)|0,l=l+Math.imul(Z,Ae)|0,E=E+Math.imul(S,nr)|0,u=u+Math.imul(S,ar)|0,u=u+Math.imul(O,nr)|0,l=l+Math.imul(O,ar)|0;var ce=(P+E|0)+((u&8191)<<13)|0;P=(l+(u>>>13)|0)+(ce>>>26)|0,ce&=67108863,E=Math.imul(Et,Xe),u=Math.imul(Et,Pe),u=u+Math.imul(zt,Xe)|0,l=Math.imul(zt,Pe),E=E+Math.imul(ot,Je)|0,u=u+Math.imul(ot,Ee)|0,u=u+Math.imul(xt,Je)|0,l=l+Math.imul(xt,Ee)|0,E=E+Math.imul(G,Ge)|0,u=u+Math.imul(G,Ve)|0,u=u+Math.imul(nt,Ge)|0,l=l+Math.imul(nt,Ve)|0,E=E+Math.imul(z,ze)|0,u=u+Math.imul(z,Ae)|0,u=u+Math.imul(U,ze)|0,l=l+Math.imul(U,Ae)|0,E=E+Math.imul(D,nr)|0,u=u+Math.imul(D,ar)|0,u=u+Math.imul(Z,nr)|0,l=l+Math.imul(Z,ar)|0,E=E+Math.imul(S,Se)|0,u=u+Math.imul(S,cr)|0,u=u+Math.imul(O,Se)|0,l=l+Math.imul(O,cr)|0;var Qt=(P+E|0)+((u&8191)<<13)|0;P=(l+(u>>>13)|0)+(Qt>>>26)|0,Qt&=67108863,E=Math.imul(bt,Xe),u=Math.imul(bt,Pe),u=u+Math.imul(Ct,Xe)|0,l=Math.imul(Ct,Pe),E=E+Math.imul(Et,Je)|0,u=u+Math.imul(Et,Ee)|0,u=u+Math.imul(zt,Je)|0,l=l+Math.imul(zt,Ee)|0,E=E+Math.imul(ot,Ge)|0,u=u+Math.imul(ot,Ve)|0,u=u+Math.imul(xt,Ge)|0,l=l+Math.imul(xt,Ve)|0,E=E+Math.imul(G,ze)|0,u=u+Math.imul(G,Ae)|0,u=u+Math.imul(nt,ze)|0,l=l+Math.imul(nt,Ae)|0,E=E+Math.imul(z,nr)|0,u=u+Math.imul(z,ar)|0,u=u+Math.imul(U,nr)|0,l=l+Math.imul(U,ar)|0,E=E+Math.imul(D,Se)|0,u=u+Math.imul(D,cr)|0,u=u+Math.imul(Z,Se)|0,l=l+Math.imul(Z,cr)|0,E=E+Math.imul(S,I)|0,u=u+Math.imul(S,k)|0,u=u+Math.imul(O,I)|0,l=l+Math.imul(O,k)|0;var ne=(P+E|0)+((u&8191)<<13)|0;P=(l+(u>>>13)|0)+(ne>>>26)|0,ne&=67108863,E=Math.imul(Zt,Xe),u=Math.imul(Zt,Pe),u=u+Math.imul(xe,Xe)|0,l=Math.imul(xe,Pe),E=E+Math.imul(bt,Je)|0,u=u+Math.imul(bt,Ee)|0,u=u+Math.imul(Ct,Je)|0,l=l+Math.imul(Ct,Ee)|0,E=E+Math.imul(Et,Ge)|0,u=u+Math.imul(Et,Ve)|0,u=u+Math.imul(zt,Ge)|0,l=l+Math.imul(zt,Ve)|0,E=E+Math.imul(ot,ze)|0,u=u+Math.imul(ot,Ae)|0,u=u+Math.imul(xt,ze)|0,l=l+Math.imul(xt,Ae)|0,E=E+Math.imul(G,nr)|0,u=u+Math.imul(G,ar)|0,u=u+Math.imul(nt,nr)|0,l=l+Math.imul(nt,ar)|0,E=E+Math.imul(z,Se)|0,u=u+Math.imul(z,cr)|0,u=u+Math.imul(U,Se)|0,l=l+Math.imul(U,cr)|0,E=E+Math.imul(D,I)|0,u=u+Math.imul(D,k)|0,u=u+Math.imul(Z,I)|0,l=l+Math.imul(Z,k)|0,E=E+Math.imul(S,R)|0,u=u+Math.imul(S,j)|0,u=u+Math.imul(O,R)|0,l=l+Math.imul(O,j)|0;var te=(P+E|0)+((u&8191)<<13)|0;P=(l+(u>>>13)|0)+(te>>>26)|0,te&=67108863,E=Math.imul(jt,Xe),u=Math.imul(jt,Pe),u=u+Math.imul(Xt,Xe)|0,l=Math.imul(Xt,Pe),E=E+Math.imul(Zt,Je)|0,u=u+Math.imul(Zt,Ee)|0,u=u+Math.imul(xe,Je)|0,l=l+Math.imul(xe,Ee)|0,E=E+Math.imul(bt,Ge)|0,u=u+Math.imul(bt,Ve)|0,u=u+Math.imul(Ct,Ge)|0,l=l+Math.imul(Ct,Ve)|0,E=E+Math.imul(Et,ze)|0,u=u+Math.imul(Et,Ae)|0,u=u+Math.imul(zt,ze)|0,l=l+Math.imul(zt,Ae)|0,E=E+Math.imul(ot,nr)|0,u=u+Math.imul(ot,ar)|0,u=u+Math.imul(xt,nr)|0,l=l+Math.imul(xt,ar)|0,E=E+Math.imul(G,Se)|0,u=u+Math.imul(G,cr)|0,u=u+Math.imul(nt,Se)|0,l=l+Math.imul(nt,cr)|0,E=E+Math.imul(z,I)|0,u=u+Math.imul(z,k)|0,u=u+Math.imul(U,I)|0,l=l+Math.imul(U,k)|0,E=E+Math.imul(D,R)|0,u=u+Math.imul(D,j)|0,u=u+Math.imul(Z,R)|0,l=l+Math.imul(Z,j)|0,E=E+Math.imul(S,rt)|0,u=u+Math.imul(S,ft)|0,u=u+Math.imul(O,rt)|0,l=l+Math.imul(O,ft)|0;var Rt=(P+E|0)+((u&8191)<<13)|0;P=(l+(u>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,E=Math.imul(pe,Xe),u=Math.imul(pe,Pe),u=u+Math.imul(Ie,Xe)|0,l=Math.imul(Ie,Pe),E=E+Math.imul(jt,Je)|0,u=u+Math.imul(jt,Ee)|0,u=u+Math.imul(Xt,Je)|0,l=l+Math.imul(Xt,Ee)|0,E=E+Math.imul(Zt,Ge)|0,u=u+Math.imul(Zt,Ve)|0,u=u+Math.imul(xe,Ge)|0,l=l+Math.imul(xe,Ve)|0,E=E+Math.imul(bt,ze)|0,u=u+Math.imul(bt,Ae)|0,u=u+Math.imul(Ct,ze)|0,l=l+Math.imul(Ct,Ae)|0,E=E+Math.imul(Et,nr)|0,u=u+Math.imul(Et,ar)|0,u=u+Math.imul(zt,nr)|0,l=l+Math.imul(zt,ar)|0,E=E+Math.imul(ot,Se)|0,u=u+Math.imul(ot,cr)|0,u=u+Math.imul(xt,Se)|0,l=l+Math.imul(xt,cr)|0,E=E+Math.imul(G,I)|0,u=u+Math.imul(G,k)|0,u=u+Math.imul(nt,I)|0,l=l+Math.imul(nt,k)|0,E=E+Math.imul(z,R)|0,u=u+Math.imul(z,j)|0,u=u+Math.imul(U,R)|0,l=l+Math.imul(U,j)|0,E=E+Math.imul(D,rt)|0,u=u+Math.imul(D,ft)|0,u=u+Math.imul(Z,rt)|0,l=l+Math.imul(Z,ft)|0,E=E+Math.imul(S,gt)|0,u=u+Math.imul(S,Wt)|0,u=u+Math.imul(O,gt)|0,l=l+Math.imul(O,Wt)|0;var Nt=(P+E|0)+((u&8191)<<13)|0;P=(l+(u>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,E=Math.imul(pe,Je),u=Math.imul(pe,Ee),u=u+Math.imul(Ie,Je)|0,l=Math.imul(Ie,Ee),E=E+Math.imul(jt,Ge)|0,u=u+Math.imul(jt,Ve)|0,u=u+Math.imul(Xt,Ge)|0,l=l+Math.imul(Xt,Ve)|0,E=E+Math.imul(Zt,ze)|0,u=u+Math.imul(Zt,Ae)|0,u=u+Math.imul(xe,ze)|0,l=l+Math.imul(xe,Ae)|0,E=E+Math.imul(bt,nr)|0,u=u+Math.imul(bt,ar)|0,u=u+Math.imul(Ct,nr)|0,l=l+Math.imul(Ct,ar)|0,E=E+Math.imul(Et,Se)|0,u=u+Math.imul(Et,cr)|0,u=u+Math.imul(zt,Se)|0,l=l+Math.imul(zt,cr)|0,E=E+Math.imul(ot,I)|0,u=u+Math.imul(ot,k)|0,u=u+Math.imul(xt,I)|0,l=l+Math.imul(xt,k)|0,E=E+Math.imul(G,R)|0,u=u+Math.imul(G,j)|0,u=u+Math.imul(nt,R)|0,l=l+Math.imul(nt,j)|0,E=E+Math.imul(z,rt)|0,u=u+Math.imul(z,ft)|0,u=u+Math.imul(U,rt)|0,l=l+Math.imul(U,ft)|0,E=E+Math.imul(D,gt)|0,u=u+Math.imul(D,Wt)|0,u=u+Math.imul(Z,gt)|0,l=l+Math.imul(Z,Wt)|0;var It=(P+E|0)+((u&8191)<<13)|0;P=(l+(u>>>13)|0)+(It>>>26)|0,It&=67108863,E=Math.imul(pe,Ge),u=Math.imul(pe,Ve),u=u+Math.imul(Ie,Ge)|0,l=Math.imul(Ie,Ve),E=E+Math.imul(jt,ze)|0,u=u+Math.imul(jt,Ae)|0,u=u+Math.imul(Xt,ze)|0,l=l+Math.imul(Xt,Ae)|0,E=E+Math.imul(Zt,nr)|0,u=u+Math.imul(Zt,ar)|0,u=u+Math.imul(xe,nr)|0,l=l+Math.imul(xe,ar)|0,E=E+Math.imul(bt,Se)|0,u=u+Math.imul(bt,cr)|0,u=u+Math.imul(Ct,Se)|0,l=l+Math.imul(Ct,cr)|0,E=E+Math.imul(Et,I)|0,u=u+Math.imul(Et,k)|0,u=u+Math.imul(zt,I)|0,l=l+Math.imul(zt,k)|0,E=E+Math.imul(ot,R)|0,u=u+Math.imul(ot,j)|0,u=u+Math.imul(xt,R)|0,l=l+Math.imul(xt,j)|0,E=E+Math.imul(G,rt)|0,u=u+Math.imul(G,ft)|0,u=u+Math.imul(nt,rt)|0,l=l+Math.imul(nt,ft)|0,E=E+Math.imul(z,gt)|0,u=u+Math.imul(z,Wt)|0,u=u+Math.imul(U,gt)|0,l=l+Math.imul(U,Wt)|0;var Mt=(P+E|0)+((u&8191)<<13)|0;P=(l+(u>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,E=Math.imul(pe,ze),u=Math.imul(pe,Ae),u=u+Math.imul(Ie,ze)|0,l=Math.imul(Ie,Ae),E=E+Math.imul(jt,nr)|0,u=u+Math.imul(jt,ar)|0,u=u+Math.imul(Xt,nr)|0,l=l+Math.imul(Xt,ar)|0,E=E+Math.imul(Zt,Se)|0,u=u+Math.imul(Zt,cr)|0,u=u+Math.imul(xe,Se)|0,l=l+Math.imul(xe,cr)|0,E=E+Math.imul(bt,I)|0,u=u+Math.imul(bt,k)|0,u=u+Math.imul(Ct,I)|0,l=l+Math.imul(Ct,k)|0,E=E+Math.imul(Et,R)|0,u=u+Math.imul(Et,j)|0,u=u+Math.imul(zt,R)|0,l=l+Math.imul(zt,j)|0,E=E+Math.imul(ot,rt)|0,u=u+Math.imul(ot,ft)|0,u=u+Math.imul(xt,rt)|0,l=l+Math.imul(xt,ft)|0,E=E+Math.imul(G,gt)|0,u=u+Math.imul(G,Wt)|0,u=u+Math.imul(nt,gt)|0,l=l+Math.imul(nt,Wt)|0;var Lt=(P+E|0)+((u&8191)<<13)|0;P=(l+(u>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,E=Math.imul(pe,nr),u=Math.imul(pe,ar),u=u+Math.imul(Ie,nr)|0,l=Math.imul(Ie,ar),E=E+Math.imul(jt,Se)|0,u=u+Math.imul(jt,cr)|0,u=u+Math.imul(Xt,Se)|0,l=l+Math.imul(Xt,cr)|0,E=E+Math.imul(Zt,I)|0,u=u+Math.imul(Zt,k)|0,u=u+Math.imul(xe,I)|0,l=l+Math.imul(xe,k)|0,E=E+Math.imul(bt,R)|0,u=u+Math.imul(bt,j)|0,u=u+Math.imul(Ct,R)|0,l=l+Math.imul(Ct,j)|0,E=E+Math.imul(Et,rt)|0,u=u+Math.imul(Et,ft)|0,u=u+Math.imul(zt,rt)|0,l=l+Math.imul(zt,ft)|0,E=E+Math.imul(ot,gt)|0,u=u+Math.imul(ot,Wt)|0,u=u+Math.imul(xt,gt)|0,l=l+Math.imul(xt,Wt)|0;var vt=(P+E|0)+((u&8191)<<13)|0;P=(l+(u>>>13)|0)+(vt>>>26)|0,vt&=67108863,E=Math.imul(pe,Se),u=Math.imul(pe,cr),u=u+Math.imul(Ie,Se)|0,l=Math.imul(Ie,cr),E=E+Math.imul(jt,I)|0,u=u+Math.imul(jt,k)|0,u=u+Math.imul(Xt,I)|0,l=l+Math.imul(Xt,k)|0,E=E+Math.imul(Zt,R)|0,u=u+Math.imul(Zt,j)|0,u=u+Math.imul(xe,R)|0,l=l+Math.imul(xe,j)|0,E=E+Math.imul(bt,rt)|0,u=u+Math.imul(bt,ft)|0,u=u+Math.imul(Ct,rt)|0,l=l+Math.imul(Ct,ft)|0,E=E+Math.imul(Et,gt)|0,u=u+Math.imul(Et,Wt)|0,u=u+Math.imul(zt,gt)|0,l=l+Math.imul(zt,Wt)|0;var X=(P+E|0)+((u&8191)<<13)|0;P=(l+(u>>>13)|0)+(X>>>26)|0,X&=67108863,E=Math.imul(pe,I),u=Math.imul(pe,k),u=u+Math.imul(Ie,I)|0,l=Math.imul(Ie,k),E=E+Math.imul(jt,R)|0,u=u+Math.imul(jt,j)|0,u=u+Math.imul(Xt,R)|0,l=l+Math.imul(Xt,j)|0,E=E+Math.imul(Zt,rt)|0,u=u+Math.imul(Zt,ft)|0,u=u+Math.imul(xe,rt)|0,l=l+Math.imul(xe,ft)|0,E=E+Math.imul(bt,gt)|0,u=u+Math.imul(bt,Wt)|0,u=u+Math.imul(Ct,gt)|0,l=l+Math.imul(Ct,Wt)|0;var J=(P+E|0)+((u&8191)<<13)|0;P=(l+(u>>>13)|0)+(J>>>26)|0,J&=67108863,E=Math.imul(pe,R),u=Math.imul(pe,j),u=u+Math.imul(Ie,R)|0,l=Math.imul(Ie,j),E=E+Math.imul(jt,rt)|0,u=u+Math.imul(jt,ft)|0,u=u+Math.imul(Xt,rt)|0,l=l+Math.imul(Xt,ft)|0,E=E+Math.imul(Zt,gt)|0,u=u+Math.imul(Zt,Wt)|0,u=u+Math.imul(xe,gt)|0,l=l+Math.imul(xe,Wt)|0;var lt=(P+E|0)+((u&8191)<<13)|0;P=(l+(u>>>13)|0)+(lt>>>26)|0,lt&=67108863,E=Math.imul(pe,rt),u=Math.imul(pe,ft),u=u+Math.imul(Ie,rt)|0,l=Math.imul(Ie,ft),E=E+Math.imul(jt,gt)|0,u=u+Math.imul(jt,Wt)|0,u=u+Math.imul(Xt,gt)|0,l=l+Math.imul(Xt,Wt)|0;var ct=(P+E|0)+((u&8191)<<13)|0;P=(l+(u>>>13)|0)+(ct>>>26)|0,ct&=67108863,E=Math.imul(pe,gt),u=Math.imul(pe,Wt),u=u+Math.imul(Ie,gt)|0,l=Math.imul(Ie,Wt);var ut=(P+E|0)+((u&8191)<<13)|0;return P=(l+(u>>>13)|0)+(ut>>>26)|0,ut&=67108863,b[0]=Bt,b[1]=Yt,b[2]=Jt,b[3]=fe,b[4]=ce,b[5]=Qt,b[6]=ne,b[7]=te,b[8]=Rt,b[9]=Nt,b[10]=It,b[11]=Mt,b[12]=Lt,b[13]=vt,b[14]=X,b[15]=J,b[16]=lt,b[17]=ct,b[18]=ut,P!==0&&(b[19]=P,f.length++),f};Math.imul||(mt=ht);function Q(y,a,c){c.negative=a.negative^y.negative,c.length=y.length+a.length;for(var f=0,p=0,m=0;m<c.length-1;m++){var b=p;p=0;for(var P=f&67108863,E=Math.min(m,a.length-1),u=Math.max(0,m-y.length+1);u<=E;u++){var l=m-u,_=y.words[l]|0,S=a.words[u]|0,O=_*S,F=O&67108863;b=b+(O/67108864|0)|0,F=F+P|0,P=F&67108863,b=b+(F>>>26)|0,p+=b>>>26,b&=67108863}c.words[m]=P,f=b,b=p}return f!==0?c.words[m]=f:c.length--,c._strip()}function _t(y,a,c){return Q(y,a,c)}i.prototype.mulTo=function(a,c){var f,p=this.length+a.length;return this.length===10&&a.length===10?f=mt(this,a,c):p<63?f=ht(this,a,c):p<1024?f=Q(this,a,c):f=_t(this,a,c),f};function Tt(y,a){this.x=y,this.y=a}Tt.prototype.makeRBT=function(a){for(var c=new Array(a),f=i.prototype._countBits(a)-1,p=0;p<a;p++)c[p]=this.revBin(p,f,a);return c},Tt.prototype.revBin=function(a,c,f){if(a===0||a===f-1)return a;for(var p=0,m=0;m<c;m++)p|=(a&1)<<c-m-1,a>>=1;return p},Tt.prototype.permute=function(a,c,f,p,m,b){for(var P=0;P<b;P++)p[P]=c[a[P]],m[P]=f[a[P]]},Tt.prototype.transform=function(a,c,f,p,m,b){this.permute(b,a,c,f,p,m);for(var P=1;P<m;P<<=1)for(var E=P<<1,u=Math.cos(2*Math.PI/E),l=Math.sin(2*Math.PI/E),_=0;_<m;_+=E)for(var S=u,O=l,F=0;F<P;F++){var D=f[_+F],Z=p[_+F],N=f[_+F+P],z=p[_+F+P],U=S*N-O*z;z=S*z+O*N,N=U,f[_+F]=D+N,p[_+F]=Z+z,f[_+F+P]=D-N,p[_+F+P]=Z-z,F!==E&&(U=u*S-l*O,O=u*O+l*S,S=U)}},Tt.prototype.guessLen13b=function(a,c){var f=Math.max(c,a)|1,p=f&1,m=0;for(f=f/2|0;f;f=f>>>1)m++;return 1<<m+1+p},Tt.prototype.conjugate=function(a,c,f){if(!(f<=1))for(var p=0;p<f/2;p++){var m=a[p];a[p]=a[f-p-1],a[f-p-1]=m,m=c[p],c[p]=-c[f-p-1],c[f-p-1]=-m}},Tt.prototype.normalize13b=function(a,c){for(var f=0,p=0;p<c/2;p++){var m=Math.round(a[2*p+1]/c)*8192+Math.round(a[2*p]/c)+f;a[p]=m&67108863,m<67108864?f=0:f=m/67108864|0}return a},Tt.prototype.convert13b=function(a,c,f,p){for(var m=0,b=0;b<c;b++)m=m+(a[b]|0),f[2*b]=m&8191,m=m>>>13,f[2*b+1]=m&8191,m=m>>>13;for(b=2*c;b<p;++b)f[b]=0;e(m===0),e((m&-8192)===0)},Tt.prototype.stub=function(a){for(var c=new Array(a),f=0;f<a;f++)c[f]=0;return c},Tt.prototype.mulp=function(a,c,f){var p=2*this.guessLen13b(a.length,c.length),m=this.makeRBT(p),b=this.stub(p),P=new Array(p),E=new Array(p),u=new Array(p),l=new Array(p),_=new Array(p),S=new Array(p),O=f.words;O.length=p,this.convert13b(a.words,a.length,P,p),this.convert13b(c.words,c.length,l,p),this.transform(P,b,E,u,p,m),this.transform(l,b,_,S,p,m);for(var F=0;F<p;F++){var D=E[F]*_[F]-u[F]*S[F];u[F]=E[F]*S[F]+u[F]*_[F],E[F]=D}return this.conjugate(E,u,p),this.transform(E,u,O,b,p,m),this.conjugate(O,b,p),this.normalize13b(O,p),f.negative=a.negative^c.negative,f.length=a.length+c.length,f._strip()},i.prototype.mul=function(a){var c=new i(null);return c.words=new Array(this.length+a.length),this.mulTo(a,c)},i.prototype.mulf=function(a){var c=new i(null);return c.words=new Array(this.length+a.length),_t(this,a,c)},i.prototype.imul=function(a){return this.clone().mulTo(a,this)},i.prototype.imuln=function(a){var c=a<0;c&&(a=-a),e(typeof a=="number"),e(a<67108864);for(var f=0,p=0;p<this.length;p++){var m=(this.words[p]|0)*a,b=(m&67108863)+(f&67108863);f>>=26,f+=m/67108864|0,f+=b>>>26,this.words[p]=b&67108863}return f!==0&&(this.words[p]=f,this.length++),c?this.ineg():this},i.prototype.muln=function(a){return this.clone().imuln(a)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(a){var c=tt(a);if(c.length===0)return new i(1);for(var f=this,p=0;p<c.length&&c[p]===0;p++,f=f.sqr());if(++p<c.length)for(var m=f.sqr();p<c.length;p++,m=m.sqr())c[p]!==0&&(f=f.mul(m));return f},i.prototype.iushln=function(a){e(typeof a=="number"&&a>=0);var c=a%26,f=(a-c)/26,p=67108863>>>26-c<<26-c,m;if(c!==0){var b=0;for(m=0;m<this.length;m++){var P=this.words[m]&p,E=(this.words[m]|0)-P<<c;this.words[m]=E|b,b=P>>>26-c}b&&(this.words[m]=b,this.length++)}if(f!==0){for(m=this.length-1;m>=0;m--)this.words[m+f]=this.words[m];for(m=0;m<f;m++)this.words[m]=0;this.length+=f}return this._strip()},i.prototype.ishln=function(a){return e(this.negative===0),this.iushln(a)},i.prototype.iushrn=function(a,c,f){e(typeof a=="number"&&a>=0);var p;c?p=(c-c%26)/26:p=0;var m=a%26,b=Math.min((a-m)/26,this.length),P=67108863^67108863>>>m<<m,E=f;if(p-=b,p=Math.max(0,p),E){for(var u=0;u<b;u++)E.words[u]=this.words[u];E.length=b}if(b!==0)if(this.length>b)for(this.length-=b,u=0;u<this.length;u++)this.words[u]=this.words[u+b];else this.words[0]=0,this.length=1;var l=0;for(u=this.length-1;u>=0&&(l!==0||u>=p);u--){var _=this.words[u]|0;this.words[u]=l<<26-m|_>>>m,l=_&P}return E&&l!==0&&(E.words[E.length++]=l),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},i.prototype.ishrn=function(a,c,f){return e(this.negative===0),this.iushrn(a,c,f)},i.prototype.shln=function(a){return this.clone().ishln(a)},i.prototype.ushln=function(a){return this.clone().iushln(a)},i.prototype.shrn=function(a){return this.clone().ishrn(a)},i.prototype.ushrn=function(a){return this.clone().iushrn(a)},i.prototype.testn=function(a){e(typeof a=="number"&&a>=0);var c=a%26,f=(a-c)/26,p=1<<c;if(this.length<=f)return!1;var m=this.words[f];return!!(m&p)},i.prototype.imaskn=function(a){e(typeof a=="number"&&a>=0);var c=a%26,f=(a-c)/26;if(e(this.negative===0,"imaskn works only with positive numbers"),this.length<=f)return this;if(c!==0&&f++,this.length=Math.min(f,this.length),c!==0){var p=67108863^67108863>>>c<<c;this.words[this.length-1]&=p}return this._strip()},i.prototype.maskn=function(a){return this.clone().imaskn(a)},i.prototype.iaddn=function(a){return e(typeof a=="number"),e(a<67108864),a<0?this.isubn(-a):this.negative!==0?this.length===1&&(this.words[0]|0)<=a?(this.words[0]=a-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(a),this.negative=1,this):this._iaddn(a)},i.prototype._iaddn=function(a){this.words[0]+=a;for(var c=0;c<this.length&&this.words[c]>=67108864;c++)this.words[c]-=67108864,c===this.length-1?this.words[c+1]=1:this.words[c+1]++;return this.length=Math.max(this.length,c+1),this},i.prototype.isubn=function(a){if(e(typeof a=="number"),e(a<67108864),a<0)return this.iaddn(-a);if(this.negative!==0)return this.negative=0,this.iaddn(a),this.negative=1,this;if(this.words[0]-=a,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var c=0;c<this.length&&this.words[c]<0;c++)this.words[c]+=67108864,this.words[c+1]-=1;return this._strip()},i.prototype.addn=function(a){return this.clone().iaddn(a)},i.prototype.subn=function(a){return this.clone().isubn(a)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(a,c,f){var p=a.length+f,m;this._expand(p);var b,P=0;for(m=0;m<a.length;m++){b=(this.words[m+f]|0)+P;var E=(a.words[m]|0)*c;b-=E&67108863,P=(b>>26)-(E/67108864|0),this.words[m+f]=b&67108863}for(;m<this.length-f;m++)b=(this.words[m+f]|0)+P,P=b>>26,this.words[m+f]=b&67108863;if(P===0)return this._strip();for(e(P===-1),P=0,m=0;m<this.length;m++)b=-(this.words[m]|0)+P,P=b>>26,this.words[m]=b&67108863;return this.negative=1,this._strip()},i.prototype._wordDiv=function(a,c){var f=this.length-a.length,p=this.clone(),m=a,b=m.words[m.length-1]|0,P=this._countBits(b);f=26-P,f!==0&&(m=m.ushln(f),p.iushln(f),b=m.words[m.length-1]|0);var E=p.length-m.length,u;if(c!=="mod"){u=new i(null),u.length=E+1,u.words=new Array(u.length);for(var l=0;l<u.length;l++)u.words[l]=0}var _=p.clone()._ishlnsubmul(m,1,E);_.negative===0&&(p=_,u&&(u.words[E]=1));for(var S=E-1;S>=0;S--){var O=(p.words[m.length+S]|0)*67108864+(p.words[m.length+S-1]|0);for(O=Math.min(O/b|0,67108863),p._ishlnsubmul(m,O,S);p.negative!==0;)O--,p.negative=0,p._ishlnsubmul(m,1,S),p.isZero()||(p.negative^=1);u&&(u.words[S]=O)}return u&&u._strip(),p._strip(),c!=="div"&&f!==0&&p.iushrn(f),{div:u||null,mod:p}},i.prototype.divmod=function(a,c,f){if(e(!a.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var p,m,b;return this.negative!==0&&a.negative===0?(b=this.neg().divmod(a,c),c!=="mod"&&(p=b.div.neg()),c!=="div"&&(m=b.mod.neg(),f&&m.negative!==0&&m.iadd(a)),{div:p,mod:m}):this.negative===0&&a.negative!==0?(b=this.divmod(a.neg(),c),c!=="mod"&&(p=b.div.neg()),{div:p,mod:b.mod}):(this.negative&a.negative)!==0?(b=this.neg().divmod(a.neg(),c),c!=="div"&&(m=b.mod.neg(),f&&m.negative!==0&&m.isub(a)),{div:b.div,mod:m}):a.length>this.length||this.cmp(a)<0?{div:new i(0),mod:this}:a.length===1?c==="div"?{div:this.divn(a.words[0]),mod:null}:c==="mod"?{div:null,mod:new i(this.modrn(a.words[0]))}:{div:this.divn(a.words[0]),mod:new i(this.modrn(a.words[0]))}:this._wordDiv(a,c)},i.prototype.div=function(a){return this.divmod(a,"div",!1).div},i.prototype.mod=function(a){return this.divmod(a,"mod",!1).mod},i.prototype.umod=function(a){return this.divmod(a,"mod",!0).mod},i.prototype.divRound=function(a){var c=this.divmod(a);if(c.mod.isZero())return c.div;var f=c.div.negative!==0?c.mod.isub(a):c.mod,p=a.ushrn(1),m=a.andln(1),b=f.cmp(p);return b<0||m===1&&b===0?c.div:c.div.negative!==0?c.div.isubn(1):c.div.iaddn(1)},i.prototype.modrn=function(a){var c=a<0;c&&(a=-a),e(a<=67108863);for(var f=(1<<26)%a,p=0,m=this.length-1;m>=0;m--)p=(f*p+(this.words[m]|0))%a;return c?-p:p},i.prototype.modn=function(a){return this.modrn(a)},i.prototype.idivn=function(a){var c=a<0;c&&(a=-a),e(a<=67108863);for(var f=0,p=this.length-1;p>=0;p--){var m=(this.words[p]|0)+f*67108864;this.words[p]=m/a|0,f=m%a}return this._strip(),c?this.ineg():this},i.prototype.divn=function(a){return this.clone().idivn(a)},i.prototype.egcd=function(a){e(a.negative===0),e(!a.isZero());var c=this,f=a.clone();c.negative!==0?c=c.umod(a):c=c.clone();for(var p=new i(1),m=new i(0),b=new i(0),P=new i(1),E=0;c.isEven()&&f.isEven();)c.iushrn(1),f.iushrn(1),++E;for(var u=f.clone(),l=c.clone();!c.isZero();){for(var _=0,S=1;(c.words[0]&S)===0&&_<26;++_,S<<=1);if(_>0)for(c.iushrn(_);_-- >0;)(p.isOdd()||m.isOdd())&&(p.iadd(u),m.isub(l)),p.iushrn(1),m.iushrn(1);for(var O=0,F=1;(f.words[0]&F)===0&&O<26;++O,F<<=1);if(O>0)for(f.iushrn(O);O-- >0;)(b.isOdd()||P.isOdd())&&(b.iadd(u),P.isub(l)),b.iushrn(1),P.iushrn(1);c.cmp(f)>=0?(c.isub(f),p.isub(b),m.isub(P)):(f.isub(c),b.isub(p),P.isub(m))}return{a:b,b:P,gcd:f.iushln(E)}},i.prototype._invmp=function(a){e(a.negative===0),e(!a.isZero());var c=this,f=a.clone();c.negative!==0?c=c.umod(a):c=c.clone();for(var p=new i(1),m=new i(0),b=f.clone();c.cmpn(1)>0&&f.cmpn(1)>0;){for(var P=0,E=1;(c.words[0]&E)===0&&P<26;++P,E<<=1);if(P>0)for(c.iushrn(P);P-- >0;)p.isOdd()&&p.iadd(b),p.iushrn(1);for(var u=0,l=1;(f.words[0]&l)===0&&u<26;++u,l<<=1);if(u>0)for(f.iushrn(u);u-- >0;)m.isOdd()&&m.iadd(b),m.iushrn(1);c.cmp(f)>=0?(c.isub(f),p.isub(m)):(f.isub(c),m.isub(p))}var _;return c.cmpn(1)===0?_=p:_=m,_.cmpn(0)<0&&_.iadd(a),_},i.prototype.gcd=function(a){if(this.isZero())return a.abs();if(a.isZero())return this.abs();var c=this.clone(),f=a.clone();c.negative=0,f.negative=0;for(var p=0;c.isEven()&&f.isEven();p++)c.iushrn(1),f.iushrn(1);do{for(;c.isEven();)c.iushrn(1);for(;f.isEven();)f.iushrn(1);var m=c.cmp(f);if(m<0){var b=c;c=f,f=b}else if(m===0||f.cmpn(1)===0)break;c.isub(f)}while(!0);return f.iushln(p)},i.prototype.invm=function(a){return this.egcd(a).a.umod(a)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(a){return this.words[0]&a},i.prototype.bincn=function(a){e(typeof a=="number");var c=a%26,f=(a-c)/26,p=1<<c;if(this.length<=f)return this._expand(f+1),this.words[f]|=p,this;for(var m=p,b=f;m!==0&&b<this.length;b++){var P=this.words[b]|0;P+=m,m=P>>>26,P&=67108863,this.words[b]=P}return m!==0&&(this.words[b]=m,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(a){var c=a<0;if(this.negative!==0&&!c)return-1;if(this.negative===0&&c)return 1;this._strip();var f;if(this.length>1)f=1;else{c&&(a=-a),e(a<=67108863,"Number is too big");var p=this.words[0]|0;f=p===a?0:p<a?-1:1}return this.negative!==0?-f|0:f},i.prototype.cmp=function(a){if(this.negative!==0&&a.negative===0)return-1;if(this.negative===0&&a.negative!==0)return 1;var c=this.ucmp(a);return this.negative!==0?-c|0:c},i.prototype.ucmp=function(a){if(this.length>a.length)return 1;if(this.length<a.length)return-1;for(var c=0,f=this.length-1;f>=0;f--){var p=this.words[f]|0,m=a.words[f]|0;if(p!==m){p<m?c=-1:p>m&&(c=1);break}}return c},i.prototype.gtn=function(a){return this.cmpn(a)===1},i.prototype.gt=function(a){return this.cmp(a)===1},i.prototype.gten=function(a){return this.cmpn(a)>=0},i.prototype.gte=function(a){return this.cmp(a)>=0},i.prototype.ltn=function(a){return this.cmpn(a)===-1},i.prototype.lt=function(a){return this.cmp(a)===-1},i.prototype.lten=function(a){return this.cmpn(a)<=0},i.prototype.lte=function(a){return this.cmp(a)<=0},i.prototype.eqn=function(a){return this.cmpn(a)===0},i.prototype.eq=function(a){return this.cmp(a)===0},i.red=function(a){return new B(a)},i.prototype.toRed=function(a){return e(!this.red,"Already a number in reduction context"),e(this.negative===0,"red works only with positives"),a.convertTo(this)._forceRed(a)},i.prototype.fromRed=function(){return e(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(a){return this.red=a,this},i.prototype.forceRed=function(a){return e(!this.red,"Already a number in reduction context"),this._forceRed(a)},i.prototype.redAdd=function(a){return e(this.red,"redAdd works only with red numbers"),this.red.add(this,a)},i.prototype.redIAdd=function(a){return e(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,a)},i.prototype.redSub=function(a){return e(this.red,"redSub works only with red numbers"),this.red.sub(this,a)},i.prototype.redISub=function(a){return e(this.red,"redISub works only with red numbers"),this.red.isub(this,a)},i.prototype.redShl=function(a){return e(this.red,"redShl works only with red numbers"),this.red.shl(this,a)},i.prototype.redMul=function(a){return e(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.mul(this,a)},i.prototype.redIMul=function(a){return e(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.imul(this,a)},i.prototype.redSqr=function(){return e(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return e(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return e(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return e(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return e(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(a){return e(this.red&&!a.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,a)};var ee={k256:null,p224:null,p192:null,p25519:null};function Ft(y,a){this.name=y,this.p=new i(a,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}Ft.prototype._tmp=function(){var a=new i(null);return a.words=new Array(Math.ceil(this.n/13)),a},Ft.prototype.ireduce=function(a){var c=a,f;do this.split(c,this.tmp),c=this.imulK(c),c=c.iadd(this.tmp),f=c.bitLength();while(f>this.n);var p=f<this.n?-1:c.ucmp(this.p);return p===0?(c.words[0]=0,c.length=1):p>0?c.isub(this.p):c.strip!==void 0?c.strip():c._strip(),c},Ft.prototype.split=function(a,c){a.iushrn(this.n,0,c)},Ft.prototype.imulK=function(a){return a.imul(this.k)};function Dt(){Ft.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}n(Dt,Ft),Dt.prototype.split=function(a,c){for(var f=4194303,p=Math.min(a.length,9),m=0;m<p;m++)c.words[m]=a.words[m];if(c.length=p,a.length<=9){a.words[0]=0,a.length=1;return}var b=a.words[9];for(c.words[c.length++]=b&f,m=10;m<a.length;m++){var P=a.words[m]|0;a.words[m-10]=(P&f)<<4|b>>>22,b=P}b>>>=22,a.words[m-10]=b,b===0&&a.length>10?a.length-=10:a.length-=9},Dt.prototype.imulK=function(a){a.words[a.length]=0,a.words[a.length+1]=0,a.length+=2;for(var c=0,f=0;f<a.length;f++){var p=a.words[f]|0;c+=p*977,a.words[f]=c&67108863,c=p*64+(c/67108864|0)}return a.words[a.length-1]===0&&(a.length--,a.words[a.length-1]===0&&a.length--),a};function T(){Ft.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}n(T,Ft);function C(){Ft.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}n(C,Ft);function x(){Ft.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}n(x,Ft),x.prototype.imulK=function(a){for(var c=0,f=0;f<a.length;f++){var p=(a.words[f]|0)*19+c,m=p&67108863;p>>>=26,a.words[f]=m,c=p}return c!==0&&(a.words[a.length++]=c),a},i._prime=function(a){if(ee[a])return ee[a];var c;if(a==="k256")c=new Dt;else if(a==="p224")c=new T;else if(a==="p192")c=new C;else if(a==="p25519")c=new x;else throw new Error("Unknown prime "+a);return ee[a]=c,c};function B(y){if(typeof y=="string"){var a=i._prime(y);this.m=a.p,this.prime=a}else e(y.gtn(1),"modulus must be greater than 1"),this.m=y,this.prime=null}B.prototype._verify1=function(a){e(a.negative===0,"red works only with positives"),e(a.red,"red works only with red numbers")},B.prototype._verify2=function(a,c){e((a.negative|c.negative)===0,"red works only with positives"),e(a.red&&a.red===c.red,"red works only with red numbers")},B.prototype.imod=function(a){return this.prime?this.prime.ireduce(a)._forceRed(this):(A(a,a.umod(this.m)._forceRed(this)),a)},B.prototype.neg=function(a){return a.isZero()?a.clone():this.m.sub(a)._forceRed(this)},B.prototype.add=function(a,c){this._verify2(a,c);var f=a.add(c);return f.cmp(this.m)>=0&&f.isub(this.m),f._forceRed(this)},B.prototype.iadd=function(a,c){this._verify2(a,c);var f=a.iadd(c);return f.cmp(this.m)>=0&&f.isub(this.m),f},B.prototype.sub=function(a,c){this._verify2(a,c);var f=a.sub(c);return f.cmpn(0)<0&&f.iadd(this.m),f._forceRed(this)},B.prototype.isub=function(a,c){this._verify2(a,c);var f=a.isub(c);return f.cmpn(0)<0&&f.iadd(this.m),f},B.prototype.shl=function(a,c){return this._verify1(a),this.imod(a.ushln(c))},B.prototype.imul=function(a,c){return this._verify2(a,c),this.imod(a.imul(c))},B.prototype.mul=function(a,c){return this._verify2(a,c),this.imod(a.mul(c))},B.prototype.isqr=function(a){return this.imul(a,a.clone())},B.prototype.sqr=function(a){return this.mul(a,a)},B.prototype.sqrt=function(a){if(a.isZero())return a.clone();var c=this.m.andln(3);if(e(c%2===1),c===3){var f=this.m.add(new i(1)).iushrn(2);return this.pow(a,f)}for(var p=this.m.subn(1),m=0;!p.isZero()&&p.andln(1)===0;)m++,p.iushrn(1);e(!p.isZero());var b=new i(1).toRed(this),P=b.redNeg(),E=this.m.subn(1).iushrn(1),u=this.m.bitLength();for(u=new i(2*u*u).toRed(this);this.pow(u,E).cmp(P)!==0;)u.redIAdd(P);for(var l=this.pow(u,p),_=this.pow(a,p.addn(1).iushrn(1)),S=this.pow(a,p),O=m;S.cmp(b)!==0;){for(var F=S,D=0;F.cmp(b)!==0;D++)F=F.redSqr();e(D<O);var Z=this.pow(l,new i(1).iushln(O-D-1));_=_.redMul(Z),l=Z.redSqr(),S=S.redMul(l),O=D}return _},B.prototype.invm=function(a){var c=a._invmp(this.m);return c.negative!==0?(c.negative=0,this.imod(c).redNeg()):this.imod(c)},B.prototype.pow=function(a,c){if(c.isZero())return new i(1).toRed(this);if(c.cmpn(1)===0)return a.clone();var f=4,p=new Array(1<<f);p[0]=new i(1).toRed(this),p[1]=a;for(var m=2;m<p.length;m++)p[m]=this.mul(p[m-1],a);var b=p[0],P=0,E=0,u=c.bitLength()%26;for(u===0&&(u=26),m=c.length-1;m>=0;m--){for(var l=c.words[m],_=u-1;_>=0;_--){var S=l>>_&1;if(b!==p[0]&&(b=this.sqr(b)),S===0&&P===0){E=0;continue}P<<=1,P|=S,E++,!(E!==f&&(m!==0||_!==0))&&(b=this.mul(b,p[P]),E=0,P=0)}u=26}return b},B.prototype.convertTo=function(a){var c=a.umod(this.m);return c===a?c.clone():c},B.prototype.convertFrom=function(a){var c=a.clone();return c.red=null,c},i.mont=function(a){return new v(a)};function v(y){B.call(this,y),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}n(v,B),v.prototype.convertTo=function(a){return this.imod(a.ushln(this.shift))},v.prototype.convertFrom=function(a){var c=this.imod(a.mul(this.rinv));return c.red=null,c},v.prototype.imul=function(a,c){if(a.isZero()||c.isZero())return a.words[0]=0,a.length=1,a;var f=a.imul(c),p=f.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),m=f.isub(p).iushrn(this.shift),b=m;return m.cmp(this.m)>=0?b=m.isub(this.m):m.cmpn(0)<0&&(b=m.iadd(this.m)),b._forceRed(this)},v.prototype.mul=function(a,c){if(a.isZero()||c.isZero())return new i(0)._forceRed(this);var f=a.mul(c),p=f.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),m=f.isub(p).iushrn(this.shift),b=m;return m.cmp(this.m)>=0?b=m.isub(this.m):m.cmpn(0)<0&&(b=m.iadd(this.m)),b._forceRed(this)},v.prototype.invm=function(a){var c=this.imod(a._invmp(this.m).mul(this.r2));return c._forceRed(this)}})(typeof Nc>"u"||Nc,$f)});var Gc=_e(qi=>{"use strict";var Fc=yc(),Fi=mc(),jf=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;qi.Buffer=at;qi.SlowBuffer=Yp;qi.INSPECT_MAX_BYTES=50;var Bs=2147483647;qi.kMaxLength=Bs;at.TYPED_ARRAY_SUPPORT=Hp();!at.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function Hp(){try{let r=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(r,t),r.foo()===42}catch{return!1}}Object.defineProperty(at.prototype,"parent",{enumerable:!0,get:function(){if(!!at.isBuffer(this))return this.buffer}});Object.defineProperty(at.prototype,"offset",{enumerable:!0,get:function(){if(!!at.isBuffer(this))return this.byteOffset}});function Bn(r){if(r>Bs)throw new RangeError('The value "'+r+'" is invalid for option "size"');let t=new Uint8Array(r);return Object.setPrototypeOf(t,at.prototype),t}function at(r,t,e){if(typeof r=="number"){if(typeof t=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return Wc(r)}return Zf(r,t,e)}at.poolSize=8192;function Zf(r,t,e){if(typeof r=="string")return jp(r,t);if(ArrayBuffer.isView(r))return Gp(r);if(r==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r);if(gn(r,ArrayBuffer)||r&&gn(r.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(gn(r,SharedArrayBuffer)||r&&gn(r.buffer,SharedArrayBuffer)))return qc(r,t,e);if(typeof r=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let n=r.valueOf&&r.valueOf();if(n!=null&&n!==r)return at.from(n,t,e);let i=Vp(r);if(i)return i;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof r[Symbol.toPrimitive]=="function")return at.from(r[Symbol.toPrimitive]("string"),t,e);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r)}at.from=function(r,t,e){return Zf(r,t,e)};Object.setPrototypeOf(at.prototype,Uint8Array.prototype);Object.setPrototypeOf(at,Uint8Array);function Xf(r){if(typeof r!="number")throw new TypeError('"size" argument must be of type number');if(r<0)throw new RangeError('The value "'+r+'" is invalid for option "size"')}function $p(r,t,e){return Xf(r),r<=0?Bn(r):t!==void 0?typeof e=="string"?Bn(r).fill(t,e):Bn(r).fill(t):Bn(r)}at.alloc=function(r,t,e){return $p(r,t,e)};function Wc(r){return Xf(r),Bn(r<0?0:Hc(r)|0)}at.allocUnsafe=function(r){return Wc(r)};at.allocUnsafeSlow=function(r){return Wc(r)};function jp(r,t){if((typeof t!="string"||t==="")&&(t="utf8"),!at.isEncoding(t))throw new TypeError("Unknown encoding: "+t);let e=Jf(r,t)|0,n=Bn(e),i=n.write(r,t);return i!==e&&(n=n.slice(0,i)),n}function Dc(r){let t=r.length<0?0:Hc(r.length)|0,e=Bn(t);for(let n=0;n<t;n+=1)e[n]=r[n]&255;return e}function Gp(r){if(gn(r,Uint8Array)){let t=new Uint8Array(r);return qc(t.buffer,t.byteOffset,t.byteLength)}return Dc(r)}function qc(r,t,e){if(t<0||r.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(r.byteLength<t+(e||0))throw new RangeError('"length" is outside of buffer bounds');let n;return t===void 0&&e===void 0?n=new Uint8Array(r):e===void 0?n=new Uint8Array(r,t):n=new Uint8Array(r,t,e),Object.setPrototypeOf(n,at.prototype),n}function Vp(r){if(at.isBuffer(r)){let t=Hc(r.length)|0,e=Bn(t);return e.length===0||r.copy(e,0,0,t),e}if(r.length!==void 0)return typeof r.length!="number"||jc(r.length)?Bn(0):Dc(r);if(r.type==="Buffer"&&Array.isArray(r.data))return Dc(r.data)}function Hc(r){if(r>=Bs)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Bs.toString(16)+" bytes");return r|0}function Yp(r){return+r!=r&&(r=0),at.alloc(+r)}at.isBuffer=function(t){return t!=null&&t._isBuffer===!0&&t!==at.prototype};at.compare=function(t,e){if(gn(t,Uint8Array)&&(t=at.from(t,t.offset,t.byteLength)),gn(e,Uint8Array)&&(e=at.from(e,e.offset,e.byteLength)),!at.isBuffer(t)||!at.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;let n=t.length,i=e.length;for(let o=0,s=Math.min(n,i);o<s;++o)if(t[o]!==e[o]){n=t[o],i=e[o];break}return n<i?-1:i<n?1:0};at.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};at.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(t.length===0)return at.alloc(0);let n;if(e===void 0)for(e=0,n=0;n<t.length;++n)e+=t[n].length;let i=at.allocUnsafe(e),o=0;for(n=0;n<t.length;++n){let s=t[n];if(gn(s,Uint8Array))o+s.length>i.length?(at.isBuffer(s)||(s=at.from(s)),s.copy(i,o)):Uint8Array.prototype.set.call(i,s,o);else if(at.isBuffer(s))s.copy(i,o);else throw new TypeError('"list" argument must be an Array of Buffers');o+=s.length}return i};function Jf(r,t){if(at.isBuffer(r))return r.length;if(ArrayBuffer.isView(r)||gn(r,ArrayBuffer))return r.byteLength;if(typeof r!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof r);let e=r.length,n=arguments.length>2&&arguments[2]===!0;if(!n&&e===0)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return e;case"utf8":case"utf-8":return Kc(r).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return e*2;case"hex":return e>>>1;case"base64":return ah(r).length;default:if(i)return n?-1:Kc(r).length;t=(""+t).toLowerCase(),i=!0}}at.byteLength=Jf;function Zp(r,t,e){let n=!1;if((t===void 0||t<0)&&(t=0),t>this.length||((e===void 0||e>this.length)&&(e=this.length),e<=0)||(e>>>=0,t>>>=0,e<=t))return"";for(r||(r="utf8");;)switch(r){case"hex":return s1(this,t,e);case"utf8":case"utf-8":return th(this,t,e);case"ascii":return i1(this,t,e);case"latin1":case"binary":return o1(this,t,e);case"base64":return r1(this,t,e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return a1(this,t,e);default:if(n)throw new TypeError("Unknown encoding: "+r);r=(r+"").toLowerCase(),n=!0}}at.prototype._isBuffer=!0;function xi(r,t,e){let n=r[t];r[t]=r[e],r[e]=n}at.prototype.swap16=function(){let t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let e=0;e<t;e+=2)xi(this,e,e+1);return this};at.prototype.swap32=function(){let t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let e=0;e<t;e+=4)xi(this,e,e+3),xi(this,e+1,e+2);return this};at.prototype.swap64=function(){let t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let e=0;e<t;e+=8)xi(this,e,e+7),xi(this,e+1,e+6),xi(this,e+2,e+5),xi(this,e+3,e+4);return this};at.prototype.toString=function(){let t=this.length;return t===0?"":arguments.length===0?th(this,0,t):Zp.apply(this,arguments)};at.prototype.toLocaleString=at.prototype.toString;at.prototype.equals=function(t){if(!at.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t?!0:at.compare(this,t)===0};at.prototype.inspect=function(){let t="",e=qi.INSPECT_MAX_BYTES;return t=this.toString("hex",0,e).replace(/(.{2})/g,"$1 ").trim(),this.length>e&&(t+=" ... "),"<Buffer "+t+">"};jf&&(at.prototype[jf]=at.prototype.inspect);at.prototype.compare=function(t,e,n,i,o){if(gn(t,Uint8Array)&&(t=at.from(t,t.offset,t.byteLength)),!at.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(e===void 0&&(e=0),n===void 0&&(n=t?t.length:0),i===void 0&&(i=0),o===void 0&&(o=this.length),e<0||n>t.length||i<0||o>this.length)throw new RangeError("out of range index");if(i>=o&&e>=n)return 0;if(i>=o)return-1;if(e>=n)return 1;if(e>>>=0,n>>>=0,i>>>=0,o>>>=0,this===t)return 0;let s=o-i,d=n-e,g=Math.min(s,d),A=this.slice(i,o),L=t.slice(e,n);for(let M=0;M<g;++M)if(A[M]!==L[M]){s=A[M],d=L[M];break}return s<d?-1:d<s?1:0};function Qf(r,t,e,n,i){if(r.length===0)return-1;if(typeof e=="string"?(n=e,e=0):e>2147483647?e=2147483647:e<-2147483648&&(e=-2147483648),e=+e,jc(e)&&(e=i?0:r.length-1),e<0&&(e=r.length+e),e>=r.length){if(i)return-1;e=r.length-1}else if(e<0)if(i)e=0;else return-1;if(typeof t=="string"&&(t=at.from(t,n)),at.isBuffer(t))return t.length===0?-1:Gf(r,t,e,n,i);if(typeof t=="number")return t=t&255,typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(r,t,e):Uint8Array.prototype.lastIndexOf.call(r,t,e):Gf(r,[t],e,n,i);throw new TypeError("val must be string, number or Buffer")}function Gf(r,t,e,n,i){let o=1,s=r.length,d=t.length;if(n!==void 0&&(n=String(n).toLowerCase(),n==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(r.length<2||t.length<2)return-1;o=2,s/=2,d/=2,e/=2}function g(L,M){return o===1?L[M]:L.readUInt16BE(M*o)}let A;if(i){let L=-1;for(A=e;A<s;A++)if(g(r,A)===g(t,L===-1?0:A-L)){if(L===-1&&(L=A),A-L+1===d)return L*o}else L!==-1&&(A-=A-L),L=-1}else for(e+d>s&&(e=s-d),A=e;A>=0;A--){let L=!0;for(let M=0;M<d;M++)if(g(r,A+M)!==g(t,M)){L=!1;break}if(L)return A}return-1}at.prototype.includes=function(t,e,n){return this.indexOf(t,e,n)!==-1};at.prototype.indexOf=function(t,e,n){return Qf(this,t,e,n,!0)};at.prototype.lastIndexOf=function(t,e,n){return Qf(this,t,e,n,!1)};function Xp(r,t,e,n){e=Number(e)||0;let i=r.length-e;n?(n=Number(n),n>i&&(n=i)):n=i;let o=t.length;n>o/2&&(n=o/2);let s;for(s=0;s<n;++s){let d=parseInt(t.substr(s*2,2),16);if(jc(d))return s;r[e+s]=d}return s}function Jp(r,t,e,n){return Rs(Kc(t,r.length-e),r,e,n)}function Qp(r,t,e,n){return Rs(h1(t),r,e,n)}function t1(r,t,e,n){return Rs(ah(t),r,e,n)}function e1(r,t,e,n){return Rs(l1(t,r.length-e),r,e,n)}at.prototype.write=function(t,e,n,i){if(e===void 0)i="utf8",n=this.length,e=0;else if(n===void 0&&typeof e=="string")i=e,n=this.length,e=0;else if(isFinite(e))e=e>>>0,isFinite(n)?(n=n>>>0,i===void 0&&(i="utf8")):(i=n,n=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let o=this.length-e;if((n===void 0||n>o)&&(n=o),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");let s=!1;for(;;)switch(i){case"hex":return Xp(this,t,e,n);case"utf8":case"utf-8":return Jp(this,t,e,n);case"ascii":case"latin1":case"binary":return Qp(this,t,e,n);case"base64":return t1(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return e1(this,t,e,n);default:if(s)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),s=!0}};at.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function r1(r,t,e){return t===0&&e===r.length?Fc.fromByteArray(r):Fc.fromByteArray(r.slice(t,e))}function th(r,t,e){e=Math.min(r.length,e);let n=[],i=t;for(;i<e;){let o=r[i],s=null,d=o>239?4:o>223?3:o>191?2:1;if(i+d<=e){let g,A,L,M;switch(d){case 1:o<128&&(s=o);break;case 2:g=r[i+1],(g&192)===128&&(M=(o&31)<<6|g&63,M>127&&(s=M));break;case 3:g=r[i+1],A=r[i+2],(g&192)===128&&(A&192)===128&&(M=(o&15)<<12|(g&63)<<6|A&63,M>2047&&(M<55296||M>57343)&&(s=M));break;case 4:g=r[i+1],A=r[i+2],L=r[i+3],(g&192)===128&&(A&192)===128&&(L&192)===128&&(M=(o&15)<<18|(g&63)<<12|(A&63)<<6|L&63,M>65535&&M<1114112&&(s=M))}}s===null?(s=65533,d=1):s>65535&&(s-=65536,n.push(s>>>10&1023|55296),s=56320|s&1023),n.push(s),i+=d}return n1(n)}var Vf=4096;function n1(r){let t=r.length;if(t<=Vf)return String.fromCharCode.apply(String,r);let e="",n=0;for(;n<t;)e+=String.fromCharCode.apply(String,r.slice(n,n+=Vf));return e}function i1(r,t,e){let n="";e=Math.min(r.length,e);for(let i=t;i<e;++i)n+=String.fromCharCode(r[i]&127);return n}function o1(r,t,e){let n="";e=Math.min(r.length,e);for(let i=t;i<e;++i)n+=String.fromCharCode(r[i]);return n}function s1(r,t,e){let n=r.length;(!t||t<0)&&(t=0),(!e||e<0||e>n)&&(e=n);let i="";for(let o=t;o<e;++o)i+=d1[r[o]];return i}function a1(r,t,e){let n=r.slice(t,e),i="";for(let o=0;o<n.length-1;o+=2)i+=String.fromCharCode(n[o]+n[o+1]*256);return i}at.prototype.slice=function(t,e){let n=this.length;t=~~t,e=e===void 0?n:~~e,t<0?(t+=n,t<0&&(t=0)):t>n&&(t=n),e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),e<t&&(e=t);let i=this.subarray(t,e);return Object.setPrototypeOf(i,at.prototype),i};function Ar(r,t,e){if(r%1!==0||r<0)throw new RangeError("offset is not uint");if(r+t>e)throw new RangeError("Trying to access beyond buffer length")}at.prototype.readUintLE=at.prototype.readUIntLE=function(t,e,n){t=t>>>0,e=e>>>0,n||Ar(t,e,this.length);let i=this[t],o=1,s=0;for(;++s<e&&(o*=256);)i+=this[t+s]*o;return i};at.prototype.readUintBE=at.prototype.readUIntBE=function(t,e,n){t=t>>>0,e=e>>>0,n||Ar(t,e,this.length);let i=this[t+--e],o=1;for(;e>0&&(o*=256);)i+=this[t+--e]*o;return i};at.prototype.readUint8=at.prototype.readUInt8=function(t,e){return t=t>>>0,e||Ar(t,1,this.length),this[t]};at.prototype.readUint16LE=at.prototype.readUInt16LE=function(t,e){return t=t>>>0,e||Ar(t,2,this.length),this[t]|this[t+1]<<8};at.prototype.readUint16BE=at.prototype.readUInt16BE=function(t,e){return t=t>>>0,e||Ar(t,2,this.length),this[t]<<8|this[t+1]};at.prototype.readUint32LE=at.prototype.readUInt32LE=function(t,e){return t=t>>>0,e||Ar(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+this[t+3]*16777216};at.prototype.readUint32BE=at.prototype.readUInt32BE=function(t,e){return t=t>>>0,e||Ar(t,4,this.length),this[t]*16777216+(this[t+1]<<16|this[t+2]<<8|this[t+3])};at.prototype.readBigUInt64LE=Jn(function(t){t=t>>>0,Di(t,"offset");let e=this[t],n=this[t+7];(e===void 0||n===void 0)&&Ao(t,this.length-8);let i=e+this[++t]*2**8+this[++t]*2**16+this[++t]*2**24,o=this[++t]+this[++t]*2**8+this[++t]*2**16+n*2**24;return BigInt(i)+(BigInt(o)<<BigInt(32))});at.prototype.readBigUInt64BE=Jn(function(t){t=t>>>0,Di(t,"offset");let e=this[t],n=this[t+7];(e===void 0||n===void 0)&&Ao(t,this.length-8);let i=e*2**24+this[++t]*2**16+this[++t]*2**8+this[++t],o=this[++t]*2**24+this[++t]*2**16+this[++t]*2**8+n;return(BigInt(i)<<BigInt(32))+BigInt(o)});at.prototype.readIntLE=function(t,e,n){t=t>>>0,e=e>>>0,n||Ar(t,e,this.length);let i=this[t],o=1,s=0;for(;++s<e&&(o*=256);)i+=this[t+s]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*e)),i};at.prototype.readIntBE=function(t,e,n){t=t>>>0,e=e>>>0,n||Ar(t,e,this.length);let i=e,o=1,s=this[t+--i];for(;i>0&&(o*=256);)s+=this[t+--i]*o;return o*=128,s>=o&&(s-=Math.pow(2,8*e)),s};at.prototype.readInt8=function(t,e){return t=t>>>0,e||Ar(t,1,this.length),this[t]&128?(255-this[t]+1)*-1:this[t]};at.prototype.readInt16LE=function(t,e){t=t>>>0,e||Ar(t,2,this.length);let n=this[t]|this[t+1]<<8;return n&32768?n|4294901760:n};at.prototype.readInt16BE=function(t,e){t=t>>>0,e||Ar(t,2,this.length);let n=this[t+1]|this[t]<<8;return n&32768?n|4294901760:n};at.prototype.readInt32LE=function(t,e){return t=t>>>0,e||Ar(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24};at.prototype.readInt32BE=function(t,e){return t=t>>>0,e||Ar(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]};at.prototype.readBigInt64LE=Jn(function(t){t=t>>>0,Di(t,"offset");let e=this[t],n=this[t+7];(e===void 0||n===void 0)&&Ao(t,this.length-8);let i=this[t+4]+this[t+5]*2**8+this[t+6]*2**16+(n<<24);return(BigInt(i)<<BigInt(32))+BigInt(e+this[++t]*2**8+this[++t]*2**16+this[++t]*2**24)});at.prototype.readBigInt64BE=Jn(function(t){t=t>>>0,Di(t,"offset");let e=this[t],n=this[t+7];(e===void 0||n===void 0)&&Ao(t,this.length-8);let i=(e<<24)+this[++t]*2**16+this[++t]*2**8+this[++t];return(BigInt(i)<<BigInt(32))+BigInt(this[++t]*2**24+this[++t]*2**16+this[++t]*2**8+n)});at.prototype.readFloatLE=function(t,e){return t=t>>>0,e||Ar(t,4,this.length),Fi.read(this,t,!0,23,4)};at.prototype.readFloatBE=function(t,e){return t=t>>>0,e||Ar(t,4,this.length),Fi.read(this,t,!1,23,4)};at.prototype.readDoubleLE=function(t,e){return t=t>>>0,e||Ar(t,8,this.length),Fi.read(this,t,!0,52,8)};at.prototype.readDoubleBE=function(t,e){return t=t>>>0,e||Ar(t,8,this.length),Fi.read(this,t,!1,52,8)};function jr(r,t,e,n,i,o){if(!at.isBuffer(r))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(e+n>r.length)throw new RangeError("Index out of range")}at.prototype.writeUintLE=at.prototype.writeUIntLE=function(t,e,n,i){if(t=+t,e=e>>>0,n=n>>>0,!i){let d=Math.pow(2,8*n)-1;jr(this,t,e,n,d,0)}let o=1,s=0;for(this[e]=t&255;++s<n&&(o*=256);)this[e+s]=t/o&255;return e+n};at.prototype.writeUintBE=at.prototype.writeUIntBE=function(t,e,n,i){if(t=+t,e=e>>>0,n=n>>>0,!i){let d=Math.pow(2,8*n)-1;jr(this,t,e,n,d,0)}let o=n-1,s=1;for(this[e+o]=t&255;--o>=0&&(s*=256);)this[e+o]=t/s&255;return e+n};at.prototype.writeUint8=at.prototype.writeUInt8=function(t,e,n){return t=+t,e=e>>>0,n||jr(this,t,e,1,255,0),this[e]=t&255,e+1};at.prototype.writeUint16LE=at.prototype.writeUInt16LE=function(t,e,n){return t=+t,e=e>>>0,n||jr(this,t,e,2,65535,0),this[e]=t&255,this[e+1]=t>>>8,e+2};at.prototype.writeUint16BE=at.prototype.writeUInt16BE=function(t,e,n){return t=+t,e=e>>>0,n||jr(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=t&255,e+2};at.prototype.writeUint32LE=at.prototype.writeUInt32LE=function(t,e,n){return t=+t,e=e>>>0,n||jr(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=t&255,e+4};at.prototype.writeUint32BE=at.prototype.writeUInt32BE=function(t,e,n){return t=+t,e=e>>>0,n||jr(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=t&255,e+4};function eh(r,t,e,n,i){sh(t,n,i,r,e,7);let o=Number(t&BigInt(4294967295));r[e++]=o,o=o>>8,r[e++]=o,o=o>>8,r[e++]=o,o=o>>8,r[e++]=o;let s=Number(t>>BigInt(32)&BigInt(4294967295));return r[e++]=s,s=s>>8,r[e++]=s,s=s>>8,r[e++]=s,s=s>>8,r[e++]=s,e}function rh(r,t,e,n,i){sh(t,n,i,r,e,7);let o=Number(t&BigInt(4294967295));r[e+7]=o,o=o>>8,r[e+6]=o,o=o>>8,r[e+5]=o,o=o>>8,r[e+4]=o;let s=Number(t>>BigInt(32)&BigInt(4294967295));return r[e+3]=s,s=s>>8,r[e+2]=s,s=s>>8,r[e+1]=s,s=s>>8,r[e]=s,e+8}at.prototype.writeBigUInt64LE=Jn(function(t,e=0){return eh(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))});at.prototype.writeBigUInt64BE=Jn(function(t,e=0){return rh(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))});at.prototype.writeIntLE=function(t,e,n,i){if(t=+t,e=e>>>0,!i){let g=Math.pow(2,8*n-1);jr(this,t,e,n,g-1,-g)}let o=0,s=1,d=0;for(this[e]=t&255;++o<n&&(s*=256);)t<0&&d===0&&this[e+o-1]!==0&&(d=1),this[e+o]=(t/s>>0)-d&255;return e+n};at.prototype.writeIntBE=function(t,e,n,i){if(t=+t,e=e>>>0,!i){let g=Math.pow(2,8*n-1);jr(this,t,e,n,g-1,-g)}let o=n-1,s=1,d=0;for(this[e+o]=t&255;--o>=0&&(s*=256);)t<0&&d===0&&this[e+o+1]!==0&&(d=1),this[e+o]=(t/s>>0)-d&255;return e+n};at.prototype.writeInt8=function(t,e,n){return t=+t,e=e>>>0,n||jr(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=t&255,e+1};at.prototype.writeInt16LE=function(t,e,n){return t=+t,e=e>>>0,n||jr(this,t,e,2,32767,-32768),this[e]=t&255,this[e+1]=t>>>8,e+2};at.prototype.writeInt16BE=function(t,e,n){return t=+t,e=e>>>0,n||jr(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=t&255,e+2};at.prototype.writeInt32LE=function(t,e,n){return t=+t,e=e>>>0,n||jr(this,t,e,4,2147483647,-2147483648),this[e]=t&255,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4};at.prototype.writeInt32BE=function(t,e,n){return t=+t,e=e>>>0,n||jr(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=t&255,e+4};at.prototype.writeBigInt64LE=Jn(function(t,e=0){return eh(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});at.prototype.writeBigInt64BE=Jn(function(t,e=0){return rh(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function nh(r,t,e,n,i,o){if(e+n>r.length)throw new RangeError("Index out of range");if(e<0)throw new RangeError("Index out of range")}function ih(r,t,e,n,i){return t=+t,e=e>>>0,i||nh(r,t,e,4,34028234663852886e22,-34028234663852886e22),Fi.write(r,t,e,n,23,4),e+4}at.prototype.writeFloatLE=function(t,e,n){return ih(this,t,e,!0,n)};at.prototype.writeFloatBE=function(t,e,n){return ih(this,t,e,!1,n)};function oh(r,t,e,n,i){return t=+t,e=e>>>0,i||nh(r,t,e,8,17976931348623157e292,-17976931348623157e292),Fi.write(r,t,e,n,52,8),e+8}at.prototype.writeDoubleLE=function(t,e,n){return oh(this,t,e,!0,n)};at.prototype.writeDoubleBE=function(t,e,n){return oh(this,t,e,!1,n)};at.prototype.copy=function(t,e,n,i){if(!at.isBuffer(t))throw new TypeError("argument should be a Buffer");if(n||(n=0),!i&&i!==0&&(i=this.length),e>=t.length&&(e=t.length),e||(e=0),i>0&&i<n&&(i=n),i===n||t.length===0||this.length===0)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-e<i-n&&(i=t.length-e+n);let o=i-n;return this===t&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(e,n,i):Uint8Array.prototype.set.call(t,this.subarray(n,i),e),o};at.prototype.fill=function(t,e,n,i){if(typeof t=="string"){if(typeof e=="string"?(i=e,e=0,n=this.length):typeof n=="string"&&(i=n,n=this.length),i!==void 0&&typeof i!="string")throw new TypeError("encoding must be a string");if(typeof i=="string"&&!at.isEncoding(i))throw new TypeError("Unknown encoding: "+i);if(t.length===1){let s=t.charCodeAt(0);(i==="utf8"&&s<128||i==="latin1")&&(t=s)}}else typeof t=="number"?t=t&255:typeof t=="boolean"&&(t=Number(t));if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;e=e>>>0,n=n===void 0?this.length:n>>>0,t||(t=0);let o;if(typeof t=="number")for(o=e;o<n;++o)this[o]=t;else{let s=at.isBuffer(t)?t:at.from(t,i),d=s.length;if(d===0)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(o=0;o<n-e;++o)this[o+e]=s[o%d]}return this};var zi={};function $c(r,t,e){zi[r]=class extends e{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${r}]`,this.stack,delete this.name}get code(){return r}set code(i){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:i,writable:!0})}toString(){return`${this.name} [${r}]: ${this.message}`}}}$c("ERR_BUFFER_OUT_OF_BOUNDS",function(r){return r?`${r} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError);$c("ERR_INVALID_ARG_TYPE",function(r,t){return`The "${r}" argument must be of type number. Received type ${typeof t}`},TypeError);$c("ERR_OUT_OF_RANGE",function(r,t,e){let n=`The value of "${r}" is out of range.`,i=e;return Number.isInteger(e)&&Math.abs(e)>2**32?i=Yf(String(e)):typeof e=="bigint"&&(i=String(e),(e>BigInt(2)**BigInt(32)||e<-(BigInt(2)**BigInt(32)))&&(i=Yf(i)),i+="n"),n+=` It must be ${t}. Received ${i}`,n},RangeError);function Yf(r){let t="",e=r.length,n=r[0]==="-"?1:0;for(;e>=n+4;e-=3)t=`_${r.slice(e-3,e)}${t}`;return`${r.slice(0,e)}${t}`}function c1(r,t,e){Di(t,"offset"),(r[t]===void 0||r[t+e]===void 0)&&Ao(t,r.length-(e+1))}function sh(r,t,e,n,i,o){if(r>e||r<t){let s=typeof t=="bigint"?"n":"",d;throw o>3?t===0||t===BigInt(0)?d=`>= 0${s} and < 2${s} ** ${(o+1)*8}${s}`:d=`>= -(2${s} ** ${(o+1)*8-1}${s}) and < 2 ** ${(o+1)*8-1}${s}`:d=`>= ${t}${s} and <= ${e}${s}`,new zi.ERR_OUT_OF_RANGE("value",d,r)}c1(n,i,o)}function Di(r,t){if(typeof r!="number")throw new zi.ERR_INVALID_ARG_TYPE(t,"number",r)}function Ao(r,t,e){throw Math.floor(r)!==r?(Di(r,e),new zi.ERR_OUT_OF_RANGE(e||"offset","an integer",r)):t<0?new zi.ERR_BUFFER_OUT_OF_BOUNDS:new zi.ERR_OUT_OF_RANGE(e||"offset",`>= ${e?1:0} and <= ${t}`,r)}var u1=/[^+/0-9A-Za-z-_]/g;function f1(r){if(r=r.split("=")[0],r=r.trim().replace(u1,""),r.length<2)return"";for(;r.length%4!==0;)r=r+"=";return r}function Kc(r,t){t=t||1/0;let e,n=r.length,i=null,o=[];for(let s=0;s<n;++s){if(e=r.charCodeAt(s),e>55295&&e<57344){if(!i){if(e>56319){(t-=3)>-1&&o.push(239,191,189);continue}else if(s+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=e;continue}if(e<56320){(t-=3)>-1&&o.push(239,191,189),i=e;continue}e=(i-55296<<10|e-56320)+65536}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,e<128){if((t-=1)<0)break;o.push(e)}else if(e<2048){if((t-=2)<0)break;o.push(e>>6|192,e&63|128)}else if(e<65536){if((t-=3)<0)break;o.push(e>>12|224,e>>6&63|128,e&63|128)}else if(e<1114112){if((t-=4)<0)break;o.push(e>>18|240,e>>12&63|128,e>>6&63|128,e&63|128)}else throw new Error("Invalid code point")}return o}function h1(r){let t=[];for(let e=0;e<r.length;++e)t.push(r.charCodeAt(e)&255);return t}function l1(r,t){let e,n,i,o=[];for(let s=0;s<r.length&&!((t-=2)<0);++s)e=r.charCodeAt(s),n=e>>8,i=e%256,o.push(i),o.push(n);return o}function ah(r){return Fc.toByteArray(f1(r))}function Rs(r,t,e,n){let i;for(i=0;i<n&&!(i+e>=t.length||i>=r.length);++i)t[i+e]=r[i];return i}function gn(r,t){return r instanceof t||r!=null&&r.constructor!=null&&r.constructor.name!=null&&r.constructor.name===t.name}function jc(r){return r!==r}var d1=function(){let r="0123456789abcdef",t=new Array(256);for(let e=0;e<16;++e){let n=e*16;for(let i=0;i<16;++i)t[n+i]=r[e]+r[i]}return t}();function Jn(r){return typeof BigInt>"u"?p1:r}function p1(){throw new Error("BigInt not supported")}});var fh=_e((Vc,uh)=>{var Ts=Gc(),mn=Ts.Buffer;function ch(r,t){for(var e in r)t[e]=r[e]}mn.from&&mn.alloc&&mn.allocUnsafe&&mn.allocUnsafeSlow?uh.exports=Ts:(ch(Ts,Vc),Vc.Buffer=bi);function bi(r,t,e){return mn(r,t,e)}bi.prototype=Object.create(mn.prototype);ch(mn,bi);bi.from=function(r,t,e){if(typeof r=="number")throw new TypeError("Argument must not be a number");return mn(r,t,e)};bi.alloc=function(r,t,e){if(typeof r!="number")throw new TypeError("Argument must be a number");var n=mn(r);return t!==void 0?typeof e=="string"?n.fill(t,e):n.fill(t):n.fill(0),n};bi.allocUnsafe=function(r){if(typeof r!="number")throw new TypeError("Argument must be a number");return mn(r)};bi.allocUnsafeSlow=function(r){if(typeof r!="number")throw new TypeError("Argument must be a number");return Ts.SlowBuffer(r)}});var lh=_e((qw,hh)=>{"use strict";var Ms=fh().Buffer;function y1(r){if(r.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),e=0;e<t.length;e++)t[e]=255;for(var n=0;n<r.length;n++){var i=r.charAt(n),o=i.charCodeAt(0);if(t[o]!==255)throw new TypeError(i+" is ambiguous");t[o]=n}var s=r.length,d=r.charAt(0),g=Math.log(s)/Math.log(256),A=Math.log(256)/Math.log(s);function L(K){if((Array.isArray(K)||K instanceof Uint8Array)&&(K=Ms.from(K)),!Ms.isBuffer(K))throw new TypeError("Expected Buffer");if(K.length===0)return"";for(var et=0,tt=0,ht=0,mt=K.length;ht!==mt&&K[ht]===0;)ht++,et++;for(var Q=(mt-ht)*A+1>>>0,_t=new Uint8Array(Q);ht!==mt;){for(var Tt=K[ht],ee=0,Ft=Q-1;(Tt!==0||ee<tt)&&Ft!==-1;Ft--,ee++)Tt+=256*_t[Ft]>>>0,_t[Ft]=Tt%s>>>0,Tt=Tt/s>>>0;if(Tt!==0)throw new Error("Non-zero carry");tt=ee,ht++}for(var Dt=Q-tt;Dt!==Q&&_t[Dt]===0;)Dt++;for(var T=d.repeat(et);Dt<Q;++Dt)T+=r.charAt(_t[Dt]);return T}function M(K){if(typeof K!="string")throw new TypeError("Expected String");if(K.length===0)return Ms.alloc(0);for(var et=0,tt=0,ht=0;K[et]===d;)tt++,et++;for(var mt=(K.length-et)*g+1>>>0,Q=new Uint8Array(mt);K[et];){var _t=t[K.charCodeAt(et)];if(_t===255)return;for(var Tt=0,ee=mt-1;(_t!==0||Tt<ht)&&ee!==-1;ee--,Tt++)_t+=s*Q[ee]>>>0,Q[ee]=_t%256>>>0,_t=_t/256>>>0;if(_t!==0)throw new Error("Non-zero carry");ht=Tt,et++}for(var Ft=mt-ht;Ft!==mt&&Q[Ft]===0;)Ft++;var Dt=Ms.allocUnsafe(tt+(mt-Ft));Dt.fill(0,0,tt);for(var T=tt;Ft!==mt;)Dt[T++]=Q[Ft++];return Dt}function $(K){var et=M(K);if(et)return et;throw new Error("Non-base"+s+" character")}return{encode:L,decodeUnsafe:M,decode:$}}hh.exports=y1});var Yc=_e((Kw,dh)=>{var g1=lh(),m1="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";dh.exports=g1(m1)});var ph=_e(Qc=>{"use strict";function Rn(r,t,e){return t<=r&&r<=e}function Ns(r){if(r===void 0)return{};if(r===Object(r))return r;throw TypeError("Could not convert argument to dictionary")}function v1(r){for(var t=String(r),e=t.length,n=0,i=[];n<e;){var o=t.charCodeAt(n);if(o<55296||o>57343)i.push(o);else if(56320<=o&&o<=57343)i.push(65533);else if(55296<=o&&o<=56319)if(n===e-1)i.push(65533);else{var s=r.charCodeAt(n+1);if(56320<=s&&s<=57343){var d=o&1023,g=s&1023;i.push(65536+(d<<10)+g),n+=1}else i.push(65533)}n+=1}return i}function k1(r){for(var t="",e=0;e<r.length;++e){var n=r[e];n<=65535?t+=String.fromCharCode(n):(n-=65536,t+=String.fromCharCode((n>>10)+55296,(n&1023)+56320))}return t}var Ps=-1;function Jc(r){this.tokens=[].slice.call(r)}Jc.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():Ps},prepend:function(r){if(Array.isArray(r))for(var t=r;t.length;)this.tokens.unshift(t.pop());else this.tokens.unshift(r)},push:function(r){if(Array.isArray(r))for(var t=r;t.length;)this.tokens.push(t.shift());else this.tokens.push(r)}};var Ki=-1;function Xc(r,t){if(r)throw TypeError("Decoder error");return t||65533}var Os="utf-8";function Cs(r,t){if(!(this instanceof Cs))return new Cs(r,t);if(r=r!==void 0?String(r).toLowerCase():Os,r!==Os)throw new Error("Encoding not supported. Only utf-8 is supported");t=Ns(t),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=Boolean(t.fatal),this._ignoreBOM=Boolean(t.ignoreBOM),Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}Cs.prototype={decode:function(t,e){var n;typeof t=="object"&&t instanceof ArrayBuffer?n=new Uint8Array(t):typeof t=="object"&&"buffer"in t&&t.buffer instanceof ArrayBuffer?n=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):n=new Uint8Array(0),e=Ns(e),this._streaming||(this._decoder=new I1({fatal:this._fatal}),this._BOMseen=!1),this._streaming=Boolean(e.stream);for(var i=new Jc(n),o=[],s;!i.endOfStream()&&(s=this._decoder.handler(i,i.read()),s!==Ki);)s!==null&&(Array.isArray(s)?o.push.apply(o,s):o.push(s));if(!this._streaming){do{if(s=this._decoder.handler(i,i.read()),s===Ki)break;s!==null&&(Array.isArray(s)?o.push.apply(o,s):o.push(s))}while(!i.endOfStream());this._decoder=null}return o.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(o[0]===65279?(this._BOMseen=!0,o.shift()):this._BOMseen=!0),k1(o)}};function Us(r,t){if(!(this instanceof Us))return new Us(r,t);if(r=r!==void 0?String(r).toLowerCase():Os,r!==Os)throw new Error("Encoding not supported. Only utf-8 is supported");t=Ns(t),this._streaming=!1,this._encoder=null,this._options={fatal:Boolean(t.fatal)},Object.defineProperty(this,"encoding",{value:"utf-8"})}Us.prototype={encode:function(t,e){t=t?String(t):"",e=Ns(e),this._streaming||(this._encoder=new A1(this._options)),this._streaming=Boolean(e.stream);for(var n=[],i=new Jc(v1(t)),o;!i.endOfStream()&&(o=this._encoder.handler(i,i.read()),o!==Ki);)Array.isArray(o)?n.push.apply(n,o):n.push(o);if(!this._streaming){for(;o=this._encoder.handler(i,i.read()),o!==Ki;)Array.isArray(o)?n.push.apply(n,o):n.push(o);this._encoder=null}return new Uint8Array(n)}};function I1(r){var t=r.fatal,e=0,n=0,i=0,o=128,s=191;this.handler=function(d,g){if(g===Ps&&i!==0)return i=0,Xc(t);if(g===Ps)return Ki;if(i===0){if(Rn(g,0,127))return g;if(Rn(g,194,223))i=1,e=g-192;else if(Rn(g,224,239))g===224&&(o=160),g===237&&(s=159),i=2,e=g-224;else if(Rn(g,240,244))g===240&&(o=144),g===244&&(s=143),i=3,e=g-240;else return Xc(t);return e=e<<6*i,null}if(!Rn(g,o,s))return e=i=n=0,o=128,s=191,d.prepend(g),Xc(t);if(o=128,s=191,n+=1,e+=g-128<<6*(i-n),n!==i)return null;var A=e;return e=i=n=0,A}}function A1(r){var t=r.fatal;this.handler=function(e,n){if(n===Ps)return Ki;if(Rn(n,0,127))return n;var i,o;Rn(n,128,2047)?(i=1,o=192):Rn(n,2048,65535)?(i=2,o=224):Rn(n,65536,1114111)&&(i=3,o=240);for(var s=[(n>>6*i)+o];i>0;){var d=n>>6*(i-1);s.push(128|d&63),i-=1}return s}}Qc.TextEncoder=Us;Qc.TextDecoder=Cs});var xh=_e(Qe=>{"use strict";var _1=Qe&&Qe.__createBinding||(Object.create?function(r,t,e,n){n===void 0&&(n=e),Object.defineProperty(r,n,{enumerable:!0,get:function(){return t[e]}})}:function(r,t,e,n){n===void 0&&(n=e),r[n]=t[e]}),E1=Qe&&Qe.__setModuleDefault||(Object.create?function(r,t){Object.defineProperty(r,"default",{enumerable:!0,value:t})}:function(r,t){r.default=t}),wn=Qe&&Qe.__decorate||function(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var d=r.length-1;d>=0;d--)(s=r[d])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},S1=Qe&&Qe.__importStar||function(r){if(r&&r.__esModule)return r;var t={};if(r!=null)for(var e in r)e!=="default"&&Object.hasOwnProperty.call(r,e)&&_1(t,r,e);return E1(t,r),t},yh=Qe&&Qe.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Qe,"__esModule",{value:!0});Qe.deserializeUnchecked=Qe.deserialize=Qe.serialize=Qe.BinaryReader=Qe.BinaryWriter=Qe.BorshError=Qe.baseDecode=Qe.baseEncode=void 0;var ei=yh(zc()),gh=yh(Yc()),B1=S1(ph()),R1=typeof TextDecoder!="function"?B1.TextDecoder:TextDecoder,T1=new R1("utf-8",{fatal:!0});function M1(r){return typeof r=="string"&&(r=Buffer.from(r,"utf8")),gh.default.encode(Buffer.from(r))}Qe.baseEncode=M1;function L1(r){return Buffer.from(gh.default.decode(r))}Qe.baseDecode=L1;var tu=1024,Sr=class extends Error{constructor(t){super(t),this.fieldPath=[],this.originalMessage=t}addToFieldPath(t){this.fieldPath.splice(0,0,t),this.message=this.originalMessage+": "+this.fieldPath.join(".")}};Qe.BorshError=Sr;var zs=class{constructor(){this.buf=Buffer.alloc(tu),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(tu)]))}writeU8(t){this.maybeResize(),this.buf.writeUInt8(t,this.length),this.length+=1}writeU16(t){this.maybeResize(),this.buf.writeUInt16LE(t,this.length),this.length+=2}writeU32(t){this.maybeResize(),this.buf.writeUInt32LE(t,this.length),this.length+=4}writeU64(t){this.maybeResize(),this.writeBuffer(Buffer.from(new ei.default(t).toArray("le",8)))}writeU128(t){this.maybeResize(),this.writeBuffer(Buffer.from(new ei.default(t).toArray("le",16)))}writeU256(t){this.maybeResize(),this.writeBuffer(Buffer.from(new ei.default(t).toArray("le",32)))}writeU512(t){this.maybeResize(),this.writeBuffer(Buffer.from(new ei.default(t).toArray("le",64)))}writeBuffer(t){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),t,Buffer.alloc(tu)]),this.length+=t.length}writeString(t){this.maybeResize();let e=Buffer.from(t,"utf8");this.writeU32(e.length),this.writeBuffer(e)}writeFixedArray(t){this.writeBuffer(Buffer.from(t))}writeArray(t,e){this.maybeResize(),this.writeU32(t.length);for(let n of t)this.maybeResize(),e(n)}toArray(){return this.buf.subarray(0,this.length)}};Qe.BinaryWriter=zs;function xn(r,t,e){let n=e.value;e.value=function(...i){try{return n.apply(this,i)}catch(o){if(o instanceof RangeError){let s=o.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(s)>=0)throw new Sr("Reached the end of buffer when deserializing")}throw o}}}var qr=class{constructor(t){this.buf=t,this.offset=0}readU8(){let t=this.buf.readUInt8(this.offset);return this.offset+=1,t}readU16(){let t=this.buf.readUInt16LE(this.offset);return this.offset+=2,t}readU32(){let t=this.buf.readUInt32LE(this.offset);return this.offset+=4,t}readU64(){let t=this.readBuffer(8);return new ei.default(t,"le")}readU128(){let t=this.readBuffer(16);return new ei.default(t,"le")}readU256(){let t=this.readBuffer(32);return new ei.default(t,"le")}readU512(){let t=this.readBuffer(64);return new ei.default(t,"le")}readBuffer(t){if(this.offset+t>this.buf.length)throw new Sr(`Expected buffer length ${t} isn't within bounds`);let e=this.buf.slice(this.offset,this.offset+t);return this.offset+=t,e}readString(){let t=this.readU32(),e=this.readBuffer(t);try{return T1.decode(e)}catch(n){throw new Sr(`Error decoding UTF-8 string: ${n}`)}}readFixedArray(t){return new Uint8Array(this.readBuffer(t))}readArray(t){let e=this.readU32(),n=Array();for(let i=0;i<e;++i)n.push(t());return n}};wn([xn],qr.prototype,"readU8",null);wn([xn],qr.prototype,"readU16",null);wn([xn],qr.prototype,"readU32",null);wn([xn],qr.prototype,"readU64",null);wn([xn],qr.prototype,"readU128",null);wn([xn],qr.prototype,"readU256",null);wn([xn],qr.prototype,"readU512",null);wn([xn],qr.prototype,"readString",null);wn([xn],qr.prototype,"readFixedArray",null);wn([xn],qr.prototype,"readArray",null);Qe.BinaryReader=qr;function mh(r){return r.charAt(0).toUpperCase()+r.slice(1)}function vi(r,t,e,n,i){try{if(typeof n=="string")i[`write${mh(n)}`](e);else if(n instanceof Array)if(typeof n[0]=="number"){if(e.length!==n[0])throw new Sr(`Expecting byte array of length ${n[0]}, but got ${e.length} bytes`);i.writeFixedArray(e)}else if(n.length===2&&typeof n[1]=="number"){if(e.length!==n[1])throw new Sr(`Expecting byte array of length ${n[1]}, but got ${e.length} bytes`);for(let o=0;o<n[1];o++)vi(r,null,e[o],n[0],i)}else i.writeArray(e,o=>{vi(r,t,o,n[0],i)});else if(n.kind!==void 0)switch(n.kind){case"option":{e==null?i.writeU8(0):(i.writeU8(1),vi(r,t,e,n.type,i));break}case"map":{i.writeU32(e.size),e.forEach((o,s)=>{vi(r,t,s,n.key,i),vi(r,t,o,n.value,i)});break}default:throw new Sr(`FieldType ${n} unrecognized`)}else wh(r,e,i)}catch(o){throw o instanceof Sr&&o.addToFieldPath(t),o}}function wh(r,t,e){if(typeof t.borshSerialize=="function"){t.borshSerialize(e);return}let n=r.get(t.constructor);if(!n)throw new Sr(`Class ${t.constructor.name} is missing in schema`);if(n.kind==="struct")n.fields.map(([i,o])=>{vi(r,i,t[i],o,e)});else if(n.kind==="enum"){let i=t[n.field];for(let o=0;o<n.values.length;++o){let[s,d]=n.values[o];if(s===i){e.writeU8(o),vi(r,s,t[s],d,e);break}}}else throw new Sr(`Unexpected schema kind: ${n.kind} for ${t.constructor.name}`)}function P1(r,t,e=zs){let n=new e;return wh(r,t,n),n.toArray()}Qe.serialize=P1;function ki(r,t,e,n){try{if(typeof e=="string")return n[`read${mh(e)}`]();if(e instanceof Array){if(typeof e[0]=="number")return n.readFixedArray(e[0]);if(typeof e[1]=="number"){let i=[];for(let o=0;o<e[1];o++)i.push(ki(r,null,e[0],n));return i}else return n.readArray(()=>ki(r,t,e[0],n))}if(e.kind==="option")return n.readU8()?ki(r,t,e.type,n):void 0;if(e.kind==="map"){let i=new Map,o=n.readU32();for(let s=0;s<o;s++){let d=ki(r,t,e.key,n),g=ki(r,t,e.value,n);i.set(d,g)}return i}return eu(r,e,n)}catch(i){throw i instanceof Sr&&i.addToFieldPath(t),i}}function eu(r,t,e){if(typeof t.borshDeserialize=="function")return t.borshDeserialize(e);let n=r.get(t);if(!n)throw new Sr(`Class ${t.name} is missing in schema`);if(n.kind==="struct"){let i={};for(let[o,s]of r.get(t).fields)i[o]=ki(r,o,s,e);return new t(i)}if(n.kind==="enum"){let i=e.readU8();if(i>=n.values.length)throw new Sr(`Enum index: ${i} is out of range`);let[o,s]=n.values[i],d=ki(r,o,s,e);return new t({[o]:d})}throw new Sr(`Unexpected schema kind: ${n.kind} for ${t.constructor.name}`)}function O1(r,t,e,n=qr){let i=new n(e),o=eu(r,t,i);if(i.offset<e.length)throw new Sr(`Unexpected ${e.length-i.offset} bytes after deserialized data`);return o}Qe.deserialize=O1;function C1(r,t,e,n=qr){let i=new n(e);return eu(r,t,i)}Qe.deserializeUnchecked=C1});var De=_e(Y=>{"use strict";Object.defineProperty(Y,"__esModule",{value:!0});Y.s16=Y.s8=Y.nu64be=Y.u48be=Y.u40be=Y.u32be=Y.u24be=Y.u16be=Y.nu64=Y.u48=Y.u40=Y.u32=Y.u24=Y.u16=Y.u8=Y.offset=Y.greedy=Y.Constant=Y.UTF8=Y.CString=Y.Blob=Y.Boolean=Y.BitField=Y.BitStructure=Y.VariantLayout=Y.Union=Y.UnionLayoutDiscriminator=Y.UnionDiscriminator=Y.Structure=Y.Sequence=Y.DoubleBE=Y.Double=Y.FloatBE=Y.Float=Y.NearInt64BE=Y.NearInt64=Y.NearUInt64BE=Y.NearUInt64=Y.IntBE=Y.Int=Y.UIntBE=Y.UInt=Y.OffsetLayout=Y.GreedyCount=Y.ExternalLayout=Y.bindConstructorLayout=Y.nameWithProperty=Y.Layout=Y.uint8ArrayToBuffer=Y.checkUint8Array=void 0;Y.constant=Y.utf8=Y.cstr=Y.blob=Y.unionLayoutDiscriminator=Y.union=Y.seq=Y.bits=Y.struct=Y.f64be=Y.f64=Y.f32be=Y.f32=Y.ns64be=Y.s48be=Y.s40be=Y.s32be=Y.s24be=Y.s16be=Y.ns64=Y.s48=Y.s40=Y.s32=Y.s24=void 0;var nu=Gc();function $i(r){if(!(r instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}Y.checkUint8Array=$i;function Fe(r){return $i(r),nu.Buffer.from(r.buffer,r.byteOffset,r.length)}Y.uint8ArrayToBuffer=Fe;var He=class{constructor(t,e){if(!Number.isInteger(t))throw new TypeError("span must be an integer");this.span=t,this.property=e}makeDestinationObject(){return{}}getSpan(t,e){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(t){let e=Object.create(this.constructor.prototype);return Object.assign(e,this),e.property=t,e}fromArray(t){}};Y.Layout=He;function iu(r,t){return t.property?r+"["+t.property+"]":r}Y.nameWithProperty=iu;function U1(r,t){if(typeof r!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(r,"layout_"))throw new Error("Class is already bound to a layout");if(!(t&&t instanceof He))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(t,"boundConstructor_"))throw new Error("layout is already bound to a constructor");r.layout_=t,t.boundConstructor_=r,t.makeDestinationObject=()=>new r,Object.defineProperty(r.prototype,"encode",{value(e,n){return t.encode(this,e,n)},writable:!0}),Object.defineProperty(r,"decode",{value(e,n){return t.decode(e,n)},writable:!0})}Y.bindConstructorLayout=U1;var Or=class extends He{isCount(){throw new Error("ExternalLayout is abstract")}};Y.ExternalLayout=Or;var Fs=class extends Or{constructor(t=1,e){if(!Number.isInteger(t)||0>=t)throw new TypeError("elementSpan must be a (positive) integer");super(-1,e),this.elementSpan=t}isCount(){return!0}decode(t,e=0){$i(t);let n=t.length-e;return Math.floor(n/this.elementSpan)}encode(t,e,n){return 0}};Y.GreedyCount=Fs;var _o=class extends Or{constructor(t,e=0,n){if(!(t instanceof He))throw new TypeError("layout must be a Layout");if(!Number.isInteger(e))throw new TypeError("offset must be integer or undefined");super(t.span,n||t.property),this.layout=t,this.offset=e}isCount(){return this.layout instanceof Gr||this.layout instanceof Xr}decode(t,e=0){return this.layout.decode(t,e+this.offset)}encode(t,e,n=0){return this.layout.encode(t,e,n+this.offset)}};Y.OffsetLayout=_o;var Gr=class extends He{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e=0){return Fe(t).readUIntLE(e,this.span)}encode(t,e,n=0){return Fe(e).writeUIntLE(t,n,this.span),this.span}};Y.UInt=Gr;var Xr=class extends He{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e=0){return Fe(t).readUIntBE(e,this.span)}encode(t,e,n=0){return Fe(e).writeUIntBE(t,n,this.span),this.span}};Y.UIntBE=Xr;var Tn=class extends He{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e=0){return Fe(t).readIntLE(e,this.span)}encode(t,e,n=0){return Fe(e).writeIntLE(t,n,this.span),this.span}};Y.Int=Tn;var ri=class extends He{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e=0){return Fe(t).readIntBE(e,this.span)}encode(t,e,n=0){return Fe(e).writeIntBE(t,n,this.span),this.span}};Y.IntBE=ri;var ru=Math.pow(2,32);function ra(r){let t=Math.floor(r/ru),e=r-t*ru;return{hi32:t,lo32:e}}function na(r,t){return r*ru+t}var Ds=class extends He{constructor(t){super(8,t)}decode(t,e=0){let n=Fe(t),i=n.readUInt32LE(e),o=n.readUInt32LE(e+4);return na(o,i)}encode(t,e,n=0){let i=ra(t),o=Fe(e);return o.writeUInt32LE(i.lo32,n),o.writeUInt32LE(i.hi32,n+4),8}};Y.NearUInt64=Ds;var qs=class extends He{constructor(t){super(8,t)}decode(t,e=0){let n=Fe(t),i=n.readUInt32BE(e),o=n.readUInt32BE(e+4);return na(i,o)}encode(t,e,n=0){let i=ra(t),o=Fe(e);return o.writeUInt32BE(i.hi32,n),o.writeUInt32BE(i.lo32,n+4),8}};Y.NearUInt64BE=qs;var Ks=class extends He{constructor(t){super(8,t)}decode(t,e=0){let n=Fe(t),i=n.readUInt32LE(e),o=n.readInt32LE(e+4);return na(o,i)}encode(t,e,n=0){let i=ra(t),o=Fe(e);return o.writeUInt32LE(i.lo32,n),o.writeInt32LE(i.hi32,n+4),8}};Y.NearInt64=Ks;var Ws=class extends He{constructor(t){super(8,t)}decode(t,e=0){let n=Fe(t),i=n.readInt32BE(e),o=n.readUInt32BE(e+4);return na(i,o)}encode(t,e,n=0){let i=ra(t),o=Fe(e);return o.writeInt32BE(i.hi32,n),o.writeUInt32BE(i.lo32,n+4),8}};Y.NearInt64BE=Ws;var Hs=class extends He{constructor(t){super(4,t)}decode(t,e=0){return Fe(t).readFloatLE(e)}encode(t,e,n=0){return Fe(e).writeFloatLE(t,n),4}};Y.Float=Hs;var $s=class extends He{constructor(t){super(4,t)}decode(t,e=0){return Fe(t).readFloatBE(e)}encode(t,e,n=0){return Fe(e).writeFloatBE(t,n),4}};Y.FloatBE=$s;var js=class extends He{constructor(t){super(8,t)}decode(t,e=0){return Fe(t).readDoubleLE(e)}encode(t,e,n=0){return Fe(e).writeDoubleLE(t,n),8}};Y.Double=js;var Gs=class extends He{constructor(t){super(8,t)}decode(t,e=0){return Fe(t).readDoubleBE(e)}encode(t,e,n=0){return Fe(e).writeDoubleBE(t,n),8}};Y.DoubleBE=Gs;var Vs=class extends He{constructor(t,e,n){if(!(t instanceof He))throw new TypeError("elementLayout must be a Layout");if(!(e instanceof Or&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let i=-1;!(e instanceof Or)&&0<t.span&&(i=e*t.span),super(i,n),this.elementLayout=t,this.count=e}getSpan(t,e=0){if(0<=this.span)return this.span;let n=0,i=this.count;if(i instanceof Or&&(i=i.decode(t,e)),0<this.elementLayout.span)n=i*this.elementLayout.span;else{let o=0;for(;o<i;)n+=this.elementLayout.getSpan(t,e+n),++o}return n}decode(t,e=0){let n=[],i=0,o=this.count;for(o instanceof Or&&(o=o.decode(t,e));i<o;)n.push(this.elementLayout.decode(t,e)),e+=this.elementLayout.getSpan(t,e),i+=1;return n}encode(t,e,n=0){let i=this.elementLayout,o=t.reduce((s,d)=>s+i.encode(d,e,n+s),0);return this.count instanceof Or&&this.count.encode(t.length,e,n),o}};Y.Sequence=Vs;var Ys=class extends He{constructor(t,e,n){if(!(Array.isArray(t)&&t.reduce((o,s)=>o&&s instanceof He,!0)))throw new TypeError("fields must be array of Layout instances");typeof e=="boolean"&&n===void 0&&(n=e,e=void 0);for(let o of t)if(0>o.span&&o.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let i=-1;try{i=t.reduce((o,s)=>o+s.getSpan(),0)}catch{}super(i,e),this.fields=t,this.decodePrefixes=!!n}getSpan(t,e=0){if(0<=this.span)return this.span;let n=0;try{n=this.fields.reduce((i,o)=>{let s=o.getSpan(t,e);return e+=s,i+s},0)}catch{throw new RangeError("indeterminate span")}return n}decode(t,e=0){$i(t);let n=this.makeDestinationObject();for(let i of this.fields)if(i.property!==void 0&&(n[i.property]=i.decode(t,e)),e+=i.getSpan(t,e),this.decodePrefixes&&t.length===e)break;return n}encode(t,e,n=0){let i=n,o=0,s=0;for(let d of this.fields){let g=d.span;if(s=0<g?g:0,d.property!==void 0){let A=t[d.property];A!==void 0&&(s=d.encode(A,e,n),0>g&&(g=d.getSpan(e,n)))}o=n,n+=g}return o+s-i}fromArray(t){let e=this.makeDestinationObject();for(let n of this.fields)n.property!==void 0&&0<t.length&&(e[n.property]=t.shift());return e}layoutFor(t){if(typeof t!="string")throw new TypeError("property must be string");for(let e of this.fields)if(e.property===t)return e}offsetOf(t){if(typeof t!="string")throw new TypeError("property must be string");let e=0;for(let n of this.fields){if(n.property===t)return e;0>n.span?e=-1:0<=e&&(e+=n.span)}}};Y.Structure=Ys;var Eo=class{constructor(t){this.property=t}decode(t,e){throw new Error("UnionDiscriminator is abstract")}encode(t,e,n){throw new Error("UnionDiscriminator is abstract")}};Y.UnionDiscriminator=Eo;var Hi=class extends Eo{constructor(t,e){if(!(t instanceof Or&&t.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(e||t.property||"variant"),this.layout=t}decode(t,e){return this.layout.decode(t,e)}encode(t,e,n){return this.layout.encode(t,e,n)}};Y.UnionLayoutDiscriminator=Hi;var So=class extends He{constructor(t,e,n){let i;if(t instanceof Gr||t instanceof Xr)i=new Hi(new _o(t));else if(t instanceof Or&&t.isCount())i=new Hi(t);else if(t instanceof Eo)i=t;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(e===void 0&&(e=null),!(e===null||e instanceof He))throw new TypeError("defaultLayout must be null or a Layout");if(e!==null){if(0>e.span)throw new Error("defaultLayout must have constant span");e.property===void 0&&(e=e.replicate("content"))}let o=-1;e&&(o=e.span,0<=o&&(t instanceof Gr||t instanceof Xr)&&(o+=i.layout.span)),super(o,n),this.discriminator=i,this.usesPrefixDiscriminator=t instanceof Gr||t instanceof Xr,this.defaultLayout=e,this.registry={};let s=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(d){return s(d)},this.configGetSourceVariant=function(d){s=d.bind(this)}}getSpan(t,e=0){if(0<=this.span)return this.span;let n=this.getVariant(t,e);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(t,e)}defaultGetSourceVariant(t){if(Object.prototype.hasOwnProperty.call(t,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(t,this.defaultLayout.property))return;let e=this.registry[t[this.discriminator.property]];if(e&&(!e.layout||e.property&&Object.prototype.hasOwnProperty.call(t,e.property)))return e}else for(let e in this.registry){let n=this.registry[e];if(n.property&&Object.prototype.hasOwnProperty.call(t,n.property))return n}throw new Error("unable to infer src variant")}decode(t,e=0){let n,i=this.discriminator,o=i.decode(t,e),s=this.registry[o];if(s===void 0){let d=this.defaultLayout,g=0;this.usesPrefixDiscriminator&&(g=i.layout.span),n=this.makeDestinationObject(),n[i.property]=o,n[d.property]=d.decode(t,e+g)}else n=s.decode(t,e);return n}encode(t,e,n=0){let i=this.getSourceVariant(t);if(i===void 0){let o=this.discriminator,s=this.defaultLayout,d=0;return this.usesPrefixDiscriminator&&(d=o.layout.span),o.encode(t[o.property],e,n),d+s.encode(t[s.property],e,n+d)}return i.encode(t,e,n)}addVariant(t,e,n){let i=new Zs(this,t,e,n);return this.registry[t]=i,i}getVariant(t,e=0){let n;return t instanceof Uint8Array?n=this.discriminator.decode(t,e):n=t,this.registry[n]}};Y.Union=So;var Zs=class extends He{constructor(t,e,n,i){if(!(t instanceof So))throw new TypeError("union must be a Union");if(!Number.isInteger(e)||0>e)throw new TypeError("variant must be a (non-negative) integer");if(typeof n=="string"&&i===void 0&&(i=n,n=null),n){if(!(n instanceof He))throw new TypeError("layout must be a Layout");if(t.defaultLayout!==null&&0<=n.span&&n.span>t.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof i!="string")throw new TypeError("variant must have a String property")}let o=t.span;0>t.span&&(o=n?n.span:0,0<=o&&t.usesPrefixDiscriminator&&(o+=t.discriminator.layout.span)),super(o,i),this.union=t,this.variant=e,this.layout=n||null}getSpan(t,e=0){if(0<=this.span)return this.span;let n=0;this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span);let i=0;return this.layout&&(i=this.layout.getSpan(t,e+n)),n+i}decode(t,e=0){let n=this.makeDestinationObject();if(this!==this.union.getVariant(t,e))throw new Error("variant mismatch");let i=0;return this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(t,e+i):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(t,e,n=0){let i=0;if(this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(t,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,e,n);let o=i;if(this.layout&&(this.layout.encode(t[this.property],e,n+i),o+=this.layout.getSpan(e,n+i),0<=this.union.span&&o>this.union.span))throw new Error("encoded variant overruns containing union");return o}fromArray(t){if(this.layout)return this.layout.fromArray(t)}};Y.VariantLayout=Zs;function Wi(r){return 0>r&&(r+=4294967296),r}var Bo=class extends He{constructor(t,e,n){if(!(t instanceof Gr||t instanceof Xr))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof e=="string"&&n===void 0&&(n=e,e=!1),4<t.span)throw new RangeError("word cannot exceed 32 bits");super(t.span,n),this.word=t,this.msb=!!e,this.fields=[];let i=0;this._packedSetValue=function(o){return i=Wi(o),this},this._packedGetValue=function(){return i}}decode(t,e=0){let n=this.makeDestinationObject(),i=this.word.decode(t,e);this._packedSetValue(i);for(let o of this.fields)o.property!==void 0&&(n[o.property]=o.decode(t));return n}encode(t,e,n=0){let i=this.word.decode(e,n);this._packedSetValue(i);for(let o of this.fields)if(o.property!==void 0){let s=t[o.property];s!==void 0&&o.encode(s)}return this.word.encode(this._packedGetValue(),e,n)}addField(t,e){let n=new Ro(this,t,e);return this.fields.push(n),n}addBoolean(t){let e=new Xs(this,t);return this.fields.push(e),e}fieldFor(t){if(typeof t!="string")throw new TypeError("property must be string");for(let e of this.fields)if(e.property===t)return e}};Y.BitStructure=Bo;var Ro=class{constructor(t,e,n){if(!(t instanceof Bo))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(e)||0>=e)throw new TypeError("bits must be positive integer");let i=8*t.span,o=t.fields.reduce((s,d)=>s+d.bits,0);if(e+o>i)throw new Error("bits too long for span remainder ("+(i-o)+" of "+i+" remain)");this.container=t,this.bits=e,this.valueMask=(1<<e)-1,e===32&&(this.valueMask=4294967295),this.start=o,this.container.msb&&(this.start=i-o-e),this.wordMask=Wi(this.valueMask<<this.start),this.property=n}decode(t,e){let n=this.container._packedGetValue();return Wi(n&this.wordMask)>>>this.start}encode(t){if(typeof t!="number"||!Number.isInteger(t)||t!==Wi(t&this.valueMask))throw new TypeError(iu("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);let e=this.container._packedGetValue(),n=Wi(t<<this.start);this.container._packedSetValue(Wi(e&~this.wordMask)|n)}};Y.BitField=Ro;var Xs=class extends Ro{constructor(t,e){super(t,1,e)}decode(t,e){return!!super.decode(t,e)}encode(t){typeof t=="boolean"&&(t=+t),super.encode(t)}};Y.Boolean=Xs;var Js=class extends He{constructor(t,e){if(!(t instanceof Or&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;t instanceof Or||(n=t),super(n,e),this.length=t}getSpan(t,e){let n=this.span;return 0>n&&(n=this.length.decode(t,e)),n}decode(t,e=0){let n=this.span;return 0>n&&(n=this.length.decode(t,e)),Fe(t).slice(e,e+n)}encode(t,e,n){let i=this.length;if(this.length instanceof Or&&(i=t.length),!(t instanceof Uint8Array&&i===t.length))throw new TypeError(iu("Blob.encode",this)+" requires (length "+i+") Uint8Array as src");if(n+i>e.length)throw new RangeError("encoding overruns Uint8Array");let o=Fe(t);return Fe(e).write(o.toString("hex"),n,i,"hex"),this.length instanceof Or&&this.length.encode(i,e,n),i}};Y.Blob=Js;var Qs=class extends He{constructor(t){super(-1,t)}getSpan(t,e=0){$i(t);let n=e;for(;n<t.length&&t[n]!==0;)n+=1;return 1+n-e}decode(t,e=0){let n=this.getSpan(t,e);return Fe(t).slice(e,e+n-1).toString("utf-8")}encode(t,e,n=0){typeof t!="string"&&(t=String(t));let i=nu.Buffer.from(t,"utf8"),o=i.length;if(n+o>e.length)throw new RangeError("encoding overruns Buffer");let s=Fe(e);return i.copy(s,n),s[n+o]=0,o+1}};Y.CString=Qs;var ta=class extends He{constructor(t,e){if(typeof t=="string"&&e===void 0&&(e=t,t=void 0),t===void 0)t=-1;else if(!Number.isInteger(t))throw new TypeError("maxSpan must be an integer");super(-1,e),this.maxSpan=t}getSpan(t,e=0){return $i(t),t.length-e}decode(t,e=0){let n=this.getSpan(t,e);if(0<=this.maxSpan&&this.maxSpan<n)throw new RangeError("text length exceeds maxSpan");return Fe(t).slice(e,e+n).toString("utf-8")}encode(t,e,n=0){typeof t!="string"&&(t=String(t));let i=nu.Buffer.from(t,"utf8"),o=i.length;if(0<=this.maxSpan&&this.maxSpan<o)throw new RangeError("text length exceeds maxSpan");if(n+o>e.length)throw new RangeError("encoding overruns Buffer");return i.copy(Fe(e),n),o}};Y.UTF8=ta;var ea=class extends He{constructor(t,e){super(0,e),this.value=t}decode(t,e){return this.value}encode(t,e,n){return 0}};Y.Constant=ea;Y.greedy=(r,t)=>new Fs(r,t);Y.offset=(r,t,e)=>new _o(r,t,e);Y.u8=r=>new Gr(1,r);Y.u16=r=>new Gr(2,r);Y.u24=r=>new Gr(3,r);Y.u32=r=>new Gr(4,r);Y.u40=r=>new Gr(5,r);Y.u48=r=>new Gr(6,r);Y.nu64=r=>new Ds(r);Y.u16be=r=>new Xr(2,r);Y.u24be=r=>new Xr(3,r);Y.u32be=r=>new Xr(4,r);Y.u40be=r=>new Xr(5,r);Y.u48be=r=>new Xr(6,r);Y.nu64be=r=>new qs(r);Y.s8=r=>new Tn(1,r);Y.s16=r=>new Tn(2,r);Y.s24=r=>new Tn(3,r);Y.s32=r=>new Tn(4,r);Y.s40=r=>new Tn(5,r);Y.s48=r=>new Tn(6,r);Y.ns64=r=>new Ks(r);Y.s16be=r=>new ri(2,r);Y.s24be=r=>new ri(3,r);Y.s32be=r=>new ri(4,r);Y.s40be=r=>new ri(5,r);Y.s48be=r=>new ri(6,r);Y.ns64be=r=>new Ws(r);Y.f32=r=>new Hs(r);Y.f32be=r=>new $s(r);Y.f64=r=>new js(r);Y.f64be=r=>new Gs(r);Y.struct=(r,t,e)=>new Ys(r,t,e);Y.bits=(r,t,e)=>new Bo(r,t,e);Y.seq=(r,t,e)=>new Vs(r,t,e);Y.union=(r,t,e)=>new So(r,t,e);Y.unionLayoutDiscriminator=(r,t)=>new Hi(r,t);Y.blob=(r,t)=>new Js(r,t);Y.cstr=r=>new Qs(r);Y.utf8=(r,t)=>new ta(r,t);Y.constant=(r,t)=>new ea(r,t)});var ou=_e(ji=>{"use strict";Object.defineProperty(ji,"__esModule",{value:!0});var ia;function N1(r){{let t=Buffer.from(r);t.reverse();let e=t.toString("hex");return e.length===0?BigInt(0):BigInt(`0x${e}`)}return ia.toBigInt(r,!1)}ji.toBigIntLE=N1;function z1(r){{let t=r.toString("hex");return t.length===0?BigInt(0):BigInt(`0x${t}`)}return ia.toBigInt(r,!0)}ji.toBigIntBE=z1;function F1(r,t){{let e=r.toString(16),n=Buffer.from(e.padStart(t*2,"0").slice(0,t*2),"hex");return n.reverse(),n}return ia.fromBigInt(r,Buffer.allocUnsafe(t),!1)}ji.toBufferLE=F1;function D1(r,t){{let e=r.toString(16);return Buffer.from(e.padStart(t*2,"0").slice(0,t*2),"hex")}return ia.fromBigInt(r,Buffer.allocUnsafe(t),!0)}ji.toBufferBE=D1});var aa=_e((Xw,Mo)=>{function j1(r){return r&&r.__esModule?r:{default:r}}Mo.exports=j1,Mo.exports.__esModule=!0,Mo.exports.default=Mo.exports});var ca=_e((Jw,Lo)=>{function Ah(r,t){for(var e=0;e<t.length;e++){var n=t[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function G1(r,t,e){return t&&Ah(r.prototype,t),e&&Ah(r,e),Object.defineProperty(r,"prototype",{writable:!1}),r}Lo.exports=G1,Lo.exports.__esModule=!0,Lo.exports.default=Lo.exports});var ua=_e((Qw,Po)=>{function V1(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}Po.exports=V1,Po.exports.__esModule=!0,Po.exports.default=Po.exports});var _h=_e((tx,Mn)=>{function uu(r,t){return Mn.exports=uu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Mn.exports.__esModule=!0,Mn.exports.default=Mn.exports,uu(r,t)}Mn.exports=uu,Mn.exports.__esModule=!0,Mn.exports.default=Mn.exports});var fa=_e((ex,Oo)=>{var Y1=_h();function Z1(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(t&&t.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),t&&Y1(r,t)}Oo.exports=Z1,Oo.exports.__esModule=!0,Oo.exports.default=Oo.exports});var ha=_e((rx,Ln)=>{function fu(r){return Ln.exports=fu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ln.exports.__esModule=!0,Ln.exports.default=Ln.exports,fu(r)}Ln.exports=fu,Ln.exports.__esModule=!0,Ln.exports.default=Ln.exports});var Eh=_e((nx,Co)=>{function X1(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}Co.exports=X1,Co.exports.__esModule=!0,Co.exports.default=Co.exports});var la=_e((ix,Uo)=>{var J1=ha().default,Q1=Eh();function ty(r,t){if(t&&(J1(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Q1(r)}Uo.exports=ty,Uo.exports.__esModule=!0,Uo.exports.default=Uo.exports});var da=_e((ox,Pn)=>{function hu(r){return Pn.exports=hu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Pn.exports.__esModule=!0,Pn.exports.default=Pn.exports,hu(r)}Pn.exports=hu,Pn.exports.__esModule=!0,Pn.exports.default=Pn.exports});var du=_e((sx,lu)=>{"use strict";var ey=Object.prototype.hasOwnProperty,Wr="~";function No(){}Object.create&&(No.prototype=Object.create(null),new No().__proto__||(Wr=!1));function ry(r,t,e){this.fn=r,this.context=t,this.once=e||!1}function Sh(r,t,e,n,i){if(typeof e!="function")throw new TypeError("The listener must be a function");var o=new ry(e,n||r,i),s=Wr?Wr+t:t;return r._events[s]?r._events[s].fn?r._events[s]=[r._events[s],o]:r._events[s].push(o):(r._events[s]=o,r._eventsCount++),r}function pa(r,t){--r._eventsCount===0?r._events=new No:delete r._events[t]}function Cr(){this._events=new No,this._eventsCount=0}Cr.prototype.eventNames=function(){var t=[],e,n;if(this._eventsCount===0)return t;for(n in e=this._events)ey.call(e,n)&&t.push(Wr?n.slice(1):n);return Object.getOwnPropertySymbols?t.concat(Object.getOwnPropertySymbols(e)):t};Cr.prototype.listeners=function(t){var e=Wr?Wr+t:t,n=this._events[e];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,o=n.length,s=new Array(o);i<o;i++)s[i]=n[i].fn;return s};Cr.prototype.listenerCount=function(t){var e=Wr?Wr+t:t,n=this._events[e];return n?n.fn?1:n.length:0};Cr.prototype.emit=function(t,e,n,i,o,s){var d=Wr?Wr+t:t;if(!this._events[d])return!1;var g=this._events[d],A=arguments.length,L,M;if(g.fn){switch(g.once&&this.removeListener(t,g.fn,void 0,!0),A){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,e),!0;case 3:return g.fn.call(g.context,e,n),!0;case 4:return g.fn.call(g.context,e,n,i),!0;case 5:return g.fn.call(g.context,e,n,i,o),!0;case 6:return g.fn.call(g.context,e,n,i,o,s),!0}for(M=1,L=new Array(A-1);M<A;M++)L[M-1]=arguments[M];g.fn.apply(g.context,L)}else{var $=g.length,K;for(M=0;M<$;M++)switch(g[M].once&&this.removeListener(t,g[M].fn,void 0,!0),A){case 1:g[M].fn.call(g[M].context);break;case 2:g[M].fn.call(g[M].context,e);break;case 3:g[M].fn.call(g[M].context,e,n);break;case 4:g[M].fn.call(g[M].context,e,n,i);break;default:if(!L)for(K=1,L=new Array(A-1);K<A;K++)L[K-1]=arguments[K];g[M].fn.apply(g[M].context,L)}}return!0};Cr.prototype.on=function(t,e,n){return Sh(this,t,e,n,!1)};Cr.prototype.once=function(t,e,n){return Sh(this,t,e,n,!0)};Cr.prototype.removeListener=function(t,e,n,i){var o=Wr?Wr+t:t;if(!this._events[o])return this;if(!e)return pa(this,o),this;var s=this._events[o];if(s.fn)s.fn===e&&(!i||s.once)&&(!n||s.context===n)&&pa(this,o);else{for(var d=0,g=[],A=s.length;d<A;d++)(s[d].fn!==e||i&&!s[d].once||n&&s[d].context!==n)&&g.push(s[d]);g.length?this._events[o]=g.length===1?g[0]:g:pa(this,o)}return this};Cr.prototype.removeAllListeners=function(t){var e;return t?(e=Wr?Wr+t:t,this._events[e]&&pa(this,e)):(this._events=new No,this._eventsCount=0),this};Cr.prototype.off=Cr.prototype.removeListener;Cr.prototype.addListener=Cr.prototype.on;Cr.prefixed=Wr;Cr.EventEmitter=Cr;typeof lu<"u"&&(lu.exports=Cr)});var Rh=_e(pu=>{"use strict";var zo=aa();Object.defineProperty(pu,"__esModule",{value:!0});pu.default=hy;var ny=zo(ua()),iy=zo(ca()),oy=zo(fa()),sy=zo(la()),Bh=zo(da()),ay=du();function cy(r){var t=uy();return function(){var n=(0,Bh.default)(r),i;if(t){var o=(0,Bh.default)(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return(0,sy.default)(this,i)}}function uy(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var fy=function(r){(0,oy.default)(e,r);var t=cy(e);function e(n,i,o){var s;return(0,ny.default)(this,e),s=t.call(this),s.socket=new window.WebSocket(n,o),s.socket.onopen=function(){return s.emit("open")},s.socket.onmessage=function(d){return s.emit("message",d.data)},s.socket.onerror=function(d){return s.emit("error",d)},s.socket.onclose=function(d){s.emit("close",d.code,d.reason)},s}return(0,iy.default)(e,[{key:"send",value:function(i,o,s){var d=s||o;try{this.socket.send(i),d()}catch(g){d(g)}}},{key:"close",value:function(i,o){this.socket.close(i,o)}},{key:"addEventListener",value:function(i,o,s){this.socket.addEventListener(i,o,s)}}]),e}(ay.EventEmitter);function hy(r,t){return new fy(r,t)}});var Mh=_e((cx,On)=>{var ly=ha().default;function Th(){"use strict";On.exports=Th=function(){return r},On.exports.__esModule=!0,On.exports.default=On.exports;var r={},t=Object.prototype,e=t.hasOwnProperty,n=typeof Symbol=="function"?Symbol:{},i=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",s=n.toStringTag||"@@toStringTag";function d(x,B,v){return Object.defineProperty(x,B,{value:v,enumerable:!0,configurable:!0,writable:!0}),x[B]}try{d({},"")}catch{d=function(v,y,a){return v[y]=a}}function g(x,B,v,y){var a=B&&B.prototype instanceof M?B:M,c=Object.create(a.prototype),f=new Dt(y||[]);return c._invoke=function(p,m,b){var P="suspendedStart";return function(E,u){if(P==="executing")throw new Error("Generator is already running");if(P==="completed"){if(E==="throw")throw u;return C()}for(b.method=E,b.arg=u;;){var l=b.delegate;if(l){var _=Tt(l,b);if(_){if(_===L)continue;return _}}if(b.method==="next")b.sent=b._sent=b.arg;else if(b.method==="throw"){if(P==="suspendedStart")throw P="completed",b.arg;b.dispatchException(b.arg)}else b.method==="return"&&b.abrupt("return",b.arg);P="executing";var S=A(p,m,b);if(S.type==="normal"){if(P=b.done?"completed":"suspendedYield",S.arg===L)continue;return{value:S.arg,done:b.done}}S.type==="throw"&&(P="completed",b.method="throw",b.arg=S.arg)}}}(x,v,f),c}function A(x,B,v){try{return{type:"normal",arg:x.call(B,v)}}catch(y){return{type:"throw",arg:y}}}r.wrap=g;var L={};function M(){}function $(){}function K(){}var et={};d(et,i,function(){return this});var tt=Object.getPrototypeOf,ht=tt&&tt(tt(T([])));ht&&ht!==t&&e.call(ht,i)&&(et=ht);var mt=K.prototype=M.prototype=Object.create(et);function Q(x){["next","throw","return"].forEach(function(B){d(x,B,function(v){return this._invoke(B,v)})})}function _t(x,B){function v(a,c,f,p){var m=A(x[a],x,c);if(m.type!=="throw"){var b=m.arg,P=b.value;return P&&ly(P)=="object"&&e.call(P,"__await")?B.resolve(P.__await).then(function(E){v("next",E,f,p)},function(E){v("throw",E,f,p)}):B.resolve(P).then(function(E){b.value=E,f(b)},function(E){return v("throw",E,f,p)})}p(m.arg)}var y;this._invoke=function(a,c){function f(){return new B(function(p,m){v(a,c,p,m)})}return y=y?y.then(f,f):f()}}function Tt(x,B){var v=x.iterator[B.method];if(v===void 0){if(B.delegate=null,B.method==="throw"){if(x.iterator.return&&(B.method="return",B.arg=void 0,Tt(x,B),B.method==="throw"))return L;B.method="throw",B.arg=new TypeError("The iterator does not provide a 'throw' method")}return L}var y=A(v,x.iterator,B.arg);if(y.type==="throw")return B.method="throw",B.arg=y.arg,B.delegate=null,L;var a=y.arg;return a?a.done?(B[x.resultName]=a.value,B.next=x.nextLoc,B.method!=="return"&&(B.method="next",B.arg=void 0),B.delegate=null,L):a:(B.method="throw",B.arg=new TypeError("iterator result is not an object"),B.delegate=null,L)}function ee(x){var B={tryLoc:x[0]};1 in x&&(B.catchLoc=x[1]),2 in x&&(B.finallyLoc=x[2],B.afterLoc=x[3]),this.tryEntries.push(B)}function Ft(x){var B=x.completion||{};B.type="normal",delete B.arg,x.completion=B}function Dt(x){this.tryEntries=[{tryLoc:"root"}],x.forEach(ee,this),this.reset(!0)}function T(x){if(x){var B=x[i];if(B)return B.call(x);if(typeof x.next=="function")return x;if(!isNaN(x.length)){var v=-1,y=function a(){for(;++v<x.length;)if(e.call(x,v))return a.value=x[v],a.done=!1,a;return a.value=void 0,a.done=!0,a};return y.next=y}}return{next:C}}function C(){return{value:void 0,done:!0}}return $.prototype=K,d(mt,"constructor",K),d(K,"constructor",$),$.displayName=d(K,s,"GeneratorFunction"),r.isGeneratorFunction=function(x){var B=typeof x=="function"&&x.constructor;return!!B&&(B===$||(B.displayName||B.name)==="GeneratorFunction")},r.mark=function(x){return Object.setPrototypeOf?Object.setPrototypeOf(x,K):(x.__proto__=K,d(x,s,"GeneratorFunction")),x.prototype=Object.create(mt),x},r.awrap=function(x){return{__await:x}},Q(_t.prototype),d(_t.prototype,o,function(){return this}),r.AsyncIterator=_t,r.async=function(x,B,v,y,a){a===void 0&&(a=Promise);var c=new _t(g(x,B,v,y),a);return r.isGeneratorFunction(B)?c:c.next().then(function(f){return f.done?f.value:c.next()})},Q(mt),d(mt,s,"Generator"),d(mt,i,function(){return this}),d(mt,"toString",function(){return"[object Generator]"}),r.keys=function(x){var B=[];for(var v in x)B.push(v);return B.reverse(),function y(){for(;B.length;){var a=B.pop();if(a in x)return y.value=a,y.done=!1,y}return y.done=!0,y}},r.values=T,Dt.prototype={constructor:Dt,reset:function(B){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(Ft),!B)for(var v in this)v.charAt(0)==="t"&&e.call(this,v)&&!isNaN(+v.slice(1))&&(this[v]=void 0)},stop:function(){this.done=!0;var B=this.tryEntries[0].completion;if(B.type==="throw")throw B.arg;return this.rval},dispatchException:function(B){if(this.done)throw B;var v=this;function y(b,P){return f.type="throw",f.arg=B,v.next=b,P&&(v.method="next",v.arg=void 0),!!P}for(var a=this.tryEntries.length-1;a>=0;--a){var c=this.tryEntries[a],f=c.completion;if(c.tryLoc==="root")return y("end");if(c.tryLoc<=this.prev){var p=e.call(c,"catchLoc"),m=e.call(c,"finallyLoc");if(p&&m){if(this.prev<c.catchLoc)return y(c.catchLoc,!0);if(this.prev<c.finallyLoc)return y(c.finallyLoc)}else if(p){if(this.prev<c.catchLoc)return y(c.catchLoc,!0)}else{if(!m)throw new Error("try statement without catch or finally");if(this.prev<c.finallyLoc)return y(c.finallyLoc)}}}},abrupt:function(B,v){for(var y=this.tryEntries.length-1;y>=0;--y){var a=this.tryEntries[y];if(a.tryLoc<=this.prev&&e.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var c=a;break}}c&&(B==="break"||B==="continue")&&c.tryLoc<=v&&v<=c.finallyLoc&&(c=null);var f=c?c.completion:{};return f.type=B,f.arg=v,c?(this.method="next",this.next=c.finallyLoc,L):this.complete(f)},complete:function(B,v){if(B.type==="throw")throw B.arg;return B.type==="break"||B.type==="continue"?this.next=B.arg:B.type==="return"?(this.rval=this.arg=B.arg,this.method="return",this.next="end"):B.type==="normal"&&v&&(this.next=v),L},finish:function(B){for(var v=this.tryEntries.length-1;v>=0;--v){var y=this.tryEntries[v];if(y.finallyLoc===B)return this.complete(y.completion,y.afterLoc),Ft(y),L}},catch:function(B){for(var v=this.tryEntries.length-1;v>=0;--v){var y=this.tryEntries[v];if(y.tryLoc===B){var a=y.completion;if(a.type==="throw"){var c=a.arg;Ft(y)}return c}}throw new Error("illegal catch attempt")},delegateYield:function(B,v,y){return this.delegate={iterator:T(B),resultName:v,nextLoc:y},this.method==="next"&&(this.arg=void 0),L}},r}On.exports=Th,On.exports.__esModule=!0,On.exports.default=On.exports});var Ph=_e((ux,Lh)=>{var ya=Mh()();Lh.exports=ya;try{regeneratorRuntime=ya}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=ya:Function("r","regeneratorRuntime = r")(ya)}});var Ch=_e((fx,Fo)=>{function Oh(r,t,e,n,i,o,s){try{var d=r[o](s),g=d.value}catch(A){e(A);return}d.done?t(g):Promise.resolve(g).then(n,i)}function dy(r){return function(){var t=this,e=arguments;return new Promise(function(n,i){var o=r.apply(t,e);function s(g){Oh(o,n,i,s,d,"next",g)}function d(g){Oh(o,n,i,s,d,"throw",g)}s(void 0)})}}Fo.exports=dy,Fo.exports.__esModule=!0,Fo.exports.default=Fo.exports});var Nh=_e(ma=>{"use strict";var oi=aa();Object.defineProperty(ma,"__esModule",{value:!0});ma.default=void 0;var ii=oi(Ph()),ga=oi(Ch()),py=oi(ha()),yy=oi(ua()),gy=oi(ca()),my=oi(fa()),wy=oi(la()),Uh=oi(da()),xy=du();function by(r){var t=vy();return function(){var n=(0,Uh.default)(r),i;if(t){var o=(0,Uh.default)(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return(0,wy.default)(this,i)}}function vy(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var ky=function(r,t){var e={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&t.indexOf(n)<0&&(e[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(e[n[i]]=r[n[i]]);return e},Iy=function(r){(0,my.default)(e,r);var t=by(e);function e(n){var i,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"ws://localhost:8080",s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},d=arguments.length>3?arguments[3]:void 0;(0,yy.default)(this,e);var g=s.autoconnect,A=g===void 0?!0:g,L=s.reconnect,M=L===void 0?!0:L,$=s.reconnect_interval,K=$===void 0?1e3:$,et=s.max_reconnects,tt=et===void 0?5:et,ht=ky(s,["autoconnect","reconnect","reconnect_interval","max_reconnects"]);return i=t.call(this),i.webSocketFactory=n,i.queue={},i.rpc_id=0,i.address=o,i.autoconnect=A,i.ready=!1,i.reconnect=M,i.reconnect_interval=K,i.max_reconnects=tt,i.rest_options=ht,i.current_reconnects=0,i.generate_request_id=d||function(){return++i.rpc_id},i.autoconnect&&i._connect(i.address,Object.assign({autoconnect:i.autoconnect,reconnect:i.reconnect,reconnect_interval:i.reconnect_interval,max_reconnects:i.max_reconnects},i.rest_options)),i}return(0,gy.default)(e,[{key:"connect",value:function(){this.socket||this._connect(this.address,Object.assign({autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects},this.rest_options))}},{key:"call",value:function(i,o,s,d){var g=this;return!d&&(0,py.default)(s)==="object"&&(d=s,s=null),new Promise(function(A,L){if(!g.ready)return L(new Error("socket not ready"));var M=g.generate_request_id(i,o),$={jsonrpc:"2.0",method:i,params:o||null,id:M};g.socket.send(JSON.stringify($),d,function(K){if(K)return L(K);g.queue[M]={promise:[A,L]},s&&(g.queue[M].timeout=setTimeout(function(){delete g.queue[M],L(new Error("reply timeout"))},s))})})}},{key:"login",value:function(){var n=(0,ga.default)(ii.default.mark(function o(s){var d;return ii.default.wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return A.next=2,this.call("rpc.login",s);case 2:if(d=A.sent,d){A.next=5;break}throw new Error("authentication failed");case 5:return A.abrupt("return",d);case 6:case"end":return A.stop()}},o,this)}));function i(o){return n.apply(this,arguments)}return i}()},{key:"listMethods",value:function(){var n=(0,ga.default)(ii.default.mark(function o(){return ii.default.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,this.call("__listMethods");case 2:return d.abrupt("return",d.sent);case 3:case"end":return d.stop()}},o,this)}));function i(){return n.apply(this,arguments)}return i}()},{key:"notify",value:function(i,o){var s=this;return new Promise(function(d,g){if(!s.ready)return g(new Error("socket not ready"));var A={jsonrpc:"2.0",method:i,params:o||null};s.socket.send(JSON.stringify(A),function(L){if(L)return g(L);d()})})}},{key:"subscribe",value:function(){var n=(0,ga.default)(ii.default.mark(function o(s){var d;return ii.default.wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return typeof s=="string"&&(s=[s]),A.next=3,this.call("rpc.on",s);case 3:if(d=A.sent,!(typeof s=="string"&&d[s]!=="ok")){A.next=6;break}throw new Error("Failed subscribing to an event '"+s+"' with: "+d[s]);case 6:return A.abrupt("return",d);case 7:case"end":return A.stop()}},o,this)}));function i(o){return n.apply(this,arguments)}return i}()},{key:"unsubscribe",value:function(){var n=(0,ga.default)(ii.default.mark(function o(s){var d;return ii.default.wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return typeof s=="string"&&(s=[s]),A.next=3,this.call("rpc.off",s);case 3:if(d=A.sent,!(typeof s=="string"&&d[s]!=="ok")){A.next=6;break}throw new Error("Failed unsubscribing from an event with: "+d);case 6:return A.abrupt("return",d);case 7:case"end":return A.stop()}},o,this)}));function i(o){return n.apply(this,arguments)}return i}()},{key:"close",value:function(i,o){this.socket.close(i||1e3,o)}},{key:"_connect",value:function(i,o){var s=this;this.socket=this.webSocketFactory(i,o),this.socket.addEventListener("open",function(){s.ready=!0,s.emit("open"),s.current_reconnects=0}),this.socket.addEventListener("message",function(d){var g=d.data;g instanceof ArrayBuffer&&(g=Buffer.from(g).toString());try{g=JSON.parse(g)}catch{return}if(g.notification&&s.listeners(g.notification).length){if(!Object.keys(g.params).length)return s.emit(g.notification);var A=[g.notification];if(g.params.constructor===Object)A.push(g.params);else for(var L=0;L<g.params.length;L++)A.push(g.params[L]);return Promise.resolve().then(function(){s.emit.apply(s,A)})}if(!s.queue[g.id])return g.method&&g.params?Promise.resolve().then(function(){s.emit(g.method,g.params)}):void 0;"error"in g=="result"in g&&s.queue[g.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),s.queue[g.id].timeout&&clearTimeout(s.queue[g.id].timeout),g.error?s.queue[g.id].promise[1](g.error):s.queue[g.id].promise[0](g.result),delete s.queue[g.id]}),this.socket.addEventListener("error",function(d){return s.emit("error",d)}),this.socket.addEventListener("close",function(d){var g=d.code,A=d.reason;s.ready&&setTimeout(function(){return s.emit("close",g,A)},0),s.ready=!1,s.socket=void 0,g!==1e3&&(s.current_reconnects++,s.reconnect&&(s.max_reconnects>s.current_reconnects||s.max_reconnects===0)&&setTimeout(function(){return s._connect(i,o)},s.reconnect_interval))})}}]),e}(xy.EventEmitter);ma.default=Iy});var Fh=_e(wa=>{"use strict";var Ai=aa();Object.defineProperty(wa,"__esModule",{value:!0});wa.Client=void 0;var Ay=Ai(ca()),_y=Ai(ua()),Ey=Ai(fa()),Sy=Ai(la()),zh=Ai(da()),By=Ai(Rh()),Ry=Ai(Nh());function Ty(r){var t=My();return function(){var n=(0,zh.default)(r),i;if(t){var o=(0,zh.default)(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return(0,Sy.default)(this,i)}}function My(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var Ly=function(r){(0,Ey.default)(e,r);var t=Ty(e);function e(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"ws://localhost:8080",i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.autoconnect,s=o===void 0?!0:o,d=i.reconnect,g=d===void 0?!0:d,A=i.reconnect_interval,L=A===void 0?1e3:A,M=i.max_reconnects,$=M===void 0?5:M,K=arguments.length>2?arguments[2]:void 0;return(0,_y.default)(this,e),t.call(this,By.default,n,{autoconnect:s,reconnect:g,reconnect_interval:L,max_reconnects:$},K)}return(0,Ay.default)(e)}(Ry.default);wa.Client=Ly});function Do(){if(!xa&&(xa=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!xa))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return xa(Py)}var xa,Py,yu=Dr(()=>{Py=new Uint8Array(16)});var Dh,qh=Dr(()=>{Dh=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function Oy(r){return typeof r=="string"&&Dh.test(r)}var si,qo=Dr(()=>{qh();si=Oy});function Cy(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,e=(Br[r[t+0]]+Br[r[t+1]]+Br[r[t+2]]+Br[r[t+3]]+"-"+Br[r[t+4]]+Br[r[t+5]]+"-"+Br[r[t+6]]+Br[r[t+7]]+"-"+Br[r[t+8]]+Br[r[t+9]]+"-"+Br[r[t+10]]+Br[r[t+11]]+Br[r[t+12]]+Br[r[t+13]]+Br[r[t+14]]+Br[r[t+15]]).toLowerCase();if(!si(e))throw TypeError("Stringified UUID is invalid");return e}var Br,ba,ai,Ko=Dr(()=>{qo();Br=[];for(ba=0;ba<256;++ba)Br.push((ba+256).toString(16).substr(1));ai=Cy});function Uy(r,t,e){var n=t&&e||0,i=t||new Array(16);r=r||{};var o=r.node||Kh,s=r.clockseq!==void 0?r.clockseq:gu;if(o==null||s==null){var d=r.random||(r.rng||Do)();o==null&&(o=Kh=[d[0]|1,d[1],d[2],d[3],d[4],d[5]]),s==null&&(s=gu=(d[6]<<8|d[7])&16383)}var g=r.msecs!==void 0?r.msecs:Date.now(),A=r.nsecs!==void 0?r.nsecs:wu+1,L=g-mu+(A-wu)/1e4;if(L<0&&r.clockseq===void 0&&(s=s+1&16383),(L<0||g>mu)&&r.nsecs===void 0&&(A=0),A>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");mu=g,wu=A,gu=s,g+=122192928e5;var M=((g&268435455)*1e4+A)%4294967296;i[n++]=M>>>24&255,i[n++]=M>>>16&255,i[n++]=M>>>8&255,i[n++]=M&255;var $=g/4294967296*1e4&268435455;i[n++]=$>>>8&255,i[n++]=$&255,i[n++]=$>>>24&15|16,i[n++]=$>>>16&255,i[n++]=s>>>8|128,i[n++]=s&255;for(var K=0;K<6;++K)i[n+K]=o[K];return t||ai(i)}var Kh,gu,mu,wu,Wh,Hh=Dr(()=>{yu();Ko();mu=0,wu=0;Wh=Uy});function Ny(r){if(!si(r))throw TypeError("Invalid UUID");var t,e=new Uint8Array(16);return e[0]=(t=parseInt(r.slice(0,8),16))>>>24,e[1]=t>>>16&255,e[2]=t>>>8&255,e[3]=t&255,e[4]=(t=parseInt(r.slice(9,13),16))>>>8,e[5]=t&255,e[6]=(t=parseInt(r.slice(14,18),16))>>>8,e[7]=t&255,e[8]=(t=parseInt(r.slice(19,23),16))>>>8,e[9]=t&255,e[10]=(t=parseInt(r.slice(24,36),16))/1099511627776&255,e[11]=t/4294967296&255,e[12]=t>>>24&255,e[13]=t>>>16&255,e[14]=t>>>8&255,e[15]=t&255,e}var va,xu=Dr(()=>{qo();va=Ny});function zy(r){r=unescape(encodeURIComponent(r));for(var t=[],e=0;e<r.length;++e)t.push(r.charCodeAt(e));return t}function ka(r,t,e){function n(i,o,s,d){if(typeof i=="string"&&(i=zy(i)),typeof o=="string"&&(o=va(o)),o.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var g=new Uint8Array(16+i.length);if(g.set(o),g.set(i,o.length),g=e(g),g[6]=g[6]&15|t,g[8]=g[8]&63|128,s){d=d||0;for(var A=0;A<16;++A)s[d+A]=g[A];return s}return ai(g)}try{n.name=r}catch{}return n.DNS=Fy,n.URL=Dy,n}var Fy,Dy,bu=Dr(()=>{Ko();xu();Fy="6ba7b810-9dad-11d1-80b4-00c04fd430c8",Dy="6ba7b811-9dad-11d1-80b4-00c04fd430c8"});function qy(r){if(typeof r=="string"){var t=unescape(encodeURIComponent(r));r=new Uint8Array(t.length);for(var e=0;e<t.length;++e)r[e]=t.charCodeAt(e)}return Ky(Wy(Hy(r),r.length*8))}function Ky(r){for(var t=[],e=r.length*32,n="0123456789abcdef",i=0;i<e;i+=8){var o=r[i>>5]>>>i%32&255,s=parseInt(n.charAt(o>>>4&15)+n.charAt(o&15),16);t.push(s)}return t}function $h(r){return(r+64>>>9<<4)+14+1}function Wy(r,t){r[t>>5]|=128<<t%32,r[$h(t)-1]=t;for(var e=1732584193,n=-271733879,i=-1732584194,o=271733878,s=0;s<r.length;s+=16){var d=e,g=n,A=i,L=o;e=Ur(e,n,i,o,r[s],7,-680876936),o=Ur(o,e,n,i,r[s+1],12,-389564586),i=Ur(i,o,e,n,r[s+2],17,606105819),n=Ur(n,i,o,e,r[s+3],22,-1044525330),e=Ur(e,n,i,o,r[s+4],7,-176418897),o=Ur(o,e,n,i,r[s+5],12,1200080426),i=Ur(i,o,e,n,r[s+6],17,-1473231341),n=Ur(n,i,o,e,r[s+7],22,-45705983),e=Ur(e,n,i,o,r[s+8],7,1770035416),o=Ur(o,e,n,i,r[s+9],12,-1958414417),i=Ur(i,o,e,n,r[s+10],17,-42063),n=Ur(n,i,o,e,r[s+11],22,-1990404162),e=Ur(e,n,i,o,r[s+12],7,1804603682),o=Ur(o,e,n,i,r[s+13],12,-40341101),i=Ur(i,o,e,n,r[s+14],17,-1502002290),n=Ur(n,i,o,e,r[s+15],22,1236535329),e=Nr(e,n,i,o,r[s+1],5,-165796510),o=Nr(o,e,n,i,r[s+6],9,-1069501632),i=Nr(i,o,e,n,r[s+11],14,643717713),n=Nr(n,i,o,e,r[s],20,-373897302),e=Nr(e,n,i,o,r[s+5],5,-701558691),o=Nr(o,e,n,i,r[s+10],9,38016083),i=Nr(i,o,e,n,r[s+15],14,-660478335),n=Nr(n,i,o,e,r[s+4],20,-405537848),e=Nr(e,n,i,o,r[s+9],5,568446438),o=Nr(o,e,n,i,r[s+14],9,-1019803690),i=Nr(i,o,e,n,r[s+3],14,-187363961),n=Nr(n,i,o,e,r[s+8],20,1163531501),e=Nr(e,n,i,o,r[s+13],5,-1444681467),o=Nr(o,e,n,i,r[s+2],9,-51403784),i=Nr(i,o,e,n,r[s+7],14,1735328473),n=Nr(n,i,o,e,r[s+12],20,-1926607734),e=zr(e,n,i,o,r[s+5],4,-378558),o=zr(o,e,n,i,r[s+8],11,-2022574463),i=zr(i,o,e,n,r[s+11],16,1839030562),n=zr(n,i,o,e,r[s+14],23,-35309556),e=zr(e,n,i,o,r[s+1],4,-1530992060),o=zr(o,e,n,i,r[s+4],11,1272893353),i=zr(i,o,e,n,r[s+7],16,-155497632),n=zr(n,i,o,e,r[s+10],23,-1094730640),e=zr(e,n,i,o,r[s+13],4,681279174),o=zr(o,e,n,i,r[s],11,-358537222),i=zr(i,o,e,n,r[s+3],16,-722521979),n=zr(n,i,o,e,r[s+6],23,76029189),e=zr(e,n,i,o,r[s+9],4,-640364487),o=zr(o,e,n,i,r[s+12],11,-421815835),i=zr(i,o,e,n,r[s+15],16,530742520),n=zr(n,i,o,e,r[s+2],23,-995338651),e=Fr(e,n,i,o,r[s],6,-198630844),o=Fr(o,e,n,i,r[s+7],10,1126891415),i=Fr(i,o,e,n,r[s+14],15,-1416354905),n=Fr(n,i,o,e,r[s+5],21,-57434055),e=Fr(e,n,i,o,r[s+12],6,1700485571),o=Fr(o,e,n,i,r[s+3],10,-1894986606),i=Fr(i,o,e,n,r[s+10],15,-1051523),n=Fr(n,i,o,e,r[s+1],21,-2054922799),e=Fr(e,n,i,o,r[s+8],6,1873313359),o=Fr(o,e,n,i,r[s+15],10,-30611744),i=Fr(i,o,e,n,r[s+6],15,-1560198380),n=Fr(n,i,o,e,r[s+13],21,1309151649),e=Fr(e,n,i,o,r[s+4],6,-145523070),o=Fr(o,e,n,i,r[s+11],10,-1120210379),i=Fr(i,o,e,n,r[s+2],15,718787259),n=Fr(n,i,o,e,r[s+9],21,-343485551),e=ci(e,d),n=ci(n,g),i=ci(i,A),o=ci(o,L)}return[e,n,i,o]}function Hy(r){if(r.length===0)return[];for(var t=r.length*8,e=new Uint32Array($h(t)),n=0;n<t;n+=8)e[n>>5]|=(r[n/8]&255)<<n%32;return e}function ci(r,t){var e=(r&65535)+(t&65535),n=(r>>16)+(t>>16)+(e>>16);return n<<16|e&65535}function $y(r,t){return r<<t|r>>>32-t}function Ia(r,t,e,n,i,o){return ci($y(ci(ci(t,r),ci(n,o)),i),e)}function Ur(r,t,e,n,i,o,s){return Ia(t&e|~t&n,r,t,i,o,s)}function Nr(r,t,e,n,i,o,s){return Ia(t&n|e&~n,r,t,i,o,s)}function zr(r,t,e,n,i,o,s){return Ia(t^e^n,r,t,i,o,s)}function Fr(r,t,e,n,i,o,s){return Ia(e^(t|~n),r,t,i,o,s)}var jh,Gh=Dr(()=>{jh=qy});var jy,Vh,Yh=Dr(()=>{bu();Gh();jy=ka("v3",48,jh),Vh=jy});function Gy(r,t,e){r=r||{};var n=r.random||(r.rng||Do)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){e=e||0;for(var i=0;i<16;++i)t[e+i]=n[i];return t}return ai(n)}var Zh,Xh=Dr(()=>{yu();Ko();Zh=Gy});function Vy(r,t,e,n){switch(r){case 0:return t&e^~t&n;case 1:return t^e^n;case 2:return t&e^t&n^e&n;case 3:return t^e^n}}function vu(r,t){return r<<t|r>>>32-t}function Yy(r){var t=[1518500249,1859775393,2400959708,3395469782],e=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof r=="string"){var n=unescape(encodeURIComponent(r));r=[];for(var i=0;i<n.length;++i)r.push(n.charCodeAt(i))}else Array.isArray(r)||(r=Array.prototype.slice.call(r));r.push(128);for(var o=r.length/4+2,s=Math.ceil(o/16),d=new Array(s),g=0;g<s;++g){for(var A=new Uint32Array(16),L=0;L<16;++L)A[L]=r[g*64+L*4]<<24|r[g*64+L*4+1]<<16|r[g*64+L*4+2]<<8|r[g*64+L*4+3];d[g]=A}d[s-1][14]=(r.length-1)*8/Math.pow(2,32),d[s-1][14]=Math.floor(d[s-1][14]),d[s-1][15]=(r.length-1)*8&4294967295;for(var M=0;M<s;++M){for(var $=new Uint32Array(80),K=0;K<16;++K)$[K]=d[M][K];for(var et=16;et<80;++et)$[et]=vu($[et-3]^$[et-8]^$[et-14]^$[et-16],1);for(var tt=e[0],ht=e[1],mt=e[2],Q=e[3],_t=e[4],Tt=0;Tt<80;++Tt){var ee=Math.floor(Tt/20),Ft=vu(tt,5)+Vy(ee,ht,mt,Q)+_t+t[ee]+$[Tt]>>>0;_t=Q,Q=mt,mt=vu(ht,30)>>>0,ht=tt,tt=Ft}e[0]=e[0]+tt>>>0,e[1]=e[1]+ht>>>0,e[2]=e[2]+mt>>>0,e[3]=e[3]+Q>>>0,e[4]=e[4]+_t>>>0}return[e[0]>>24&255,e[0]>>16&255,e[0]>>8&255,e[0]&255,e[1]>>24&255,e[1]>>16&255,e[1]>>8&255,e[1]&255,e[2]>>24&255,e[2]>>16&255,e[2]>>8&255,e[2]&255,e[3]>>24&255,e[3]>>16&255,e[3]>>8&255,e[3]&255,e[4]>>24&255,e[4]>>16&255,e[4]>>8&255,e[4]&255]}var Jh,Qh=Dr(()=>{Jh=Yy});var Zy,tl,el=Dr(()=>{bu();Qh();Zy=ka("v5",80,Jh),tl=Zy});var rl,nl=Dr(()=>{rl="00000000-0000-0000-0000-000000000000"});function Xy(r){if(!si(r))throw TypeError("Invalid UUID");return parseInt(r.substr(14,1),16)}var il,ol=Dr(()=>{qo();il=Xy});var ku={};uf(ku,{NIL:()=>rl,parse:()=>va,stringify:()=>ai,v1:()=>Wh,v3:()=>Vh,v4:()=>Zh,v5:()=>tl,validate:()=>si,version:()=>il});var Iu=Dr(()=>{Hh();Yh();Xh();el();nl();ol();qo();Ko();xu()});var al=_e((Zx,sl)=>{"use strict";var Jy=(Iu(),dc(ku)).v4,Qy=function(r,t,e,n){if(typeof r!="string")throw new TypeError(r+" must be a string");n=n||{};let i=typeof n.version=="number"?n.version:2;if(i!==1&&i!==2)throw new TypeError(i+" must be 1 or 2");let o={method:r};if(i===2&&(o.jsonrpc="2.0"),t){if(typeof t!="object"&&!Array.isArray(t))throw new TypeError(t+" must be an object, array or omitted");o.params=t}if(typeof e>"u"){let s=typeof n.generator=="function"?n.generator:function(){return Jy()};o.id=s(o,n)}else i===2&&e===null?n.notificationIdNull&&(o.id=null):o.id=e;return o};sl.exports=Qy});var ul=_e((Xx,cl)=>{"use strict";var tg=(Iu(),dc(ku)).v4,eg=al(),Wo=function(r,t){if(!(this instanceof Wo))return new Wo(r,t);t||(t={}),this.options={reviver:typeof t.reviver<"u"?t.reviver:null,replacer:typeof t.replacer<"u"?t.replacer:null,generator:typeof t.generator<"u"?t.generator:function(){return tg()},version:typeof t.version<"u"?t.version:2,notificationIdNull:typeof t.notificationIdNull=="boolean"?t.notificationIdNull:!1},this.callServer=r};cl.exports=Wo;Wo.prototype.request=function(r,t,e,n){let i=this,o=null,s=Array.isArray(r)&&typeof t=="function";if(this.options.version===1&&s)throw new TypeError("JSON-RPC 1.0 does not support batching");if(s||!s&&r&&typeof r=="object"&&typeof t=="function")n=t,o=r;else{typeof e=="function"&&(n=e,e=void 0);let A=typeof n=="function";try{o=eg(r,t,e,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(L){if(A)return n(L);throw L}if(!A)return o}let g;try{g=JSON.stringify(o,this.options.replacer)}catch(A){return n(A)}return this.callServer(g,function(A,L){i._parseResponse(A,L,n)}),o};Wo.prototype._parseResponse=function(r,t,e){if(r){e(r);return}if(!t)return e();let n;try{n=JSON.parse(t,this.options.reviver)}catch(i){return e(i)}if(e.length===3)if(Array.isArray(n)){let i=function(s){return typeof s.error<"u"},o=function(s){return!i(s)};return e(null,n.filter(i),n.filter(o))}else return e(null,n.error,n.result);e(null,n)}});var Zl=_e((ss,rf)=>{(function(r,t){typeof ss=="object"&&typeof rf=="object"?rf.exports=t():typeof define=="function"&&define.amd?define([],t):typeof ss=="object"?ss.QRCodeStyling=t():r.QRCodeStyling=t()})(ss,function(){return(()=>{var r={192:(i,o)=>{var s,d,g=function(){var A=function(v,y){var a=v,c=tt[y],f=null,p=0,m=null,b=[],P={},E=function(N,z){f=function(U){for(var H=new Array(U),G=0;G<U;G+=1){H[G]=new Array(U);for(var nt=0;nt<U;nt+=1)H[G][nt]=null}return H}(p=4*a+17),u(0,0),u(p-7,0),u(0,p-7),_(),l(),O(N,z),a>=7&&S(N),m==null&&(m=D(a,c,b)),F(m,z)},u=function(N,z){for(var U=-1;U<=7;U+=1)if(!(N+U<=-1||p<=N+U))for(var H=-1;H<=7;H+=1)z+H<=-1||p<=z+H||(f[N+U][z+H]=0<=U&&U<=6&&(H==0||H==6)||0<=H&&H<=6&&(U==0||U==6)||2<=U&&U<=4&&2<=H&&H<=4)},l=function(){for(var N=8;N<p-8;N+=1)f[N][6]==null&&(f[N][6]=N%2==0);for(var z=8;z<p-8;z+=1)f[6][z]==null&&(f[6][z]=z%2==0)},_=function(){for(var N=ht.getPatternPosition(a),z=0;z<N.length;z+=1)for(var U=0;U<N.length;U+=1){var H=N[z],G=N[U];if(f[H][G]==null)for(var nt=-2;nt<=2;nt+=1)for(var pt=-2;pt<=2;pt+=1)f[H+nt][G+pt]=nt==-2||nt==2||pt==-2||pt==2||nt==0&&pt==0}},S=function(N){for(var z=ht.getBCHTypeNumber(a),U=0;U<18;U+=1){var H=!N&&(z>>U&1)==1;f[Math.floor(U/3)][U%3+p-8-3]=H}for(U=0;U<18;U+=1)H=!N&&(z>>U&1)==1,f[U%3+p-8-3][Math.floor(U/3)]=H},O=function(N,z){for(var U=c<<3|z,H=ht.getBCHTypeInfo(U),G=0;G<15;G+=1){var nt=!N&&(H>>G&1)==1;G<6?f[G][8]=nt:G<8?f[G+1][8]=nt:f[p-15+G][8]=nt}for(G=0;G<15;G+=1)nt=!N&&(H>>G&1)==1,G<8?f[8][p-G-1]=nt:G<9?f[8][15-G-1+1]=nt:f[8][15-G-1]=nt;f[p-8][8]=!N},F=function(N,z){for(var U=-1,H=p-1,G=7,nt=0,pt=ht.getMaskFunction(z),ot=p-1;ot>0;ot-=2)for(ot==6&&(ot-=1);;){for(var xt=0;xt<2;xt+=1)if(f[H][ot-xt]==null){var qt=!1;nt<N.length&&(qt=(N[nt]>>>G&1)==1),pt(H,ot-xt)&&(qt=!qt),f[H][ot-xt]=qt,(G-=1)==-1&&(nt+=1,G=7)}if((H+=U)<0||p<=H){H-=U,U=-U;break}}},D=function(N,z,U){for(var H=_t.getRSBlocks(N,z),G=Tt(),nt=0;nt<U.length;nt+=1){var pt=U[nt];G.put(pt.getMode(),4),G.put(pt.getLength(),ht.getLengthInBits(pt.getMode(),N)),pt.write(G)}var ot=0;for(nt=0;nt<H.length;nt+=1)ot+=H[nt].dataCount;if(G.getLengthInBits()>8*ot)throw"code length overflow. ("+G.getLengthInBits()+">"+8*ot+")";for(G.getLengthInBits()+4<=8*ot&&G.put(0,4);G.getLengthInBits()%8!=0;)G.putBit(!1);for(;!(G.getLengthInBits()>=8*ot||(G.put(236,8),G.getLengthInBits()>=8*ot));)G.put(17,8);return function(xt,qt){for(var Et=0,zt=0,Ut=0,bt=new Array(qt.length),Ct=new Array(qt.length),$t=0;$t<qt.length;$t+=1){var Zt=qt[$t].dataCount,xe=qt[$t].totalCount-Zt;zt=Math.max(zt,Zt),Ut=Math.max(Ut,xe),bt[$t]=new Array(Zt);for(var re=0;re<bt[$t].length;re+=1)bt[$t][re]=255&xt.getBuffer()[re+Et];Et+=Zt;var jt=ht.getErrorCorrectPolynomial(xe),Xt=Q(bt[$t],jt.getLength()-1).mod(jt);for(Ct[$t]=new Array(jt.getLength()-1),re=0;re<Ct[$t].length;re+=1){var je=re+Xt.getLength()-Ct[$t].length;Ct[$t][re]=je>=0?Xt.getAt(je):0}}var pe=0;for(re=0;re<qt.length;re+=1)pe+=qt[re].totalCount;var Ie=new Array(pe),Ye=0;for(re=0;re<zt;re+=1)for($t=0;$t<qt.length;$t+=1)re<bt[$t].length&&(Ie[Ye]=bt[$t][re],Ye+=1);for(re=0;re<Ut;re+=1)for($t=0;$t<qt.length;$t+=1)re<Ct[$t].length&&(Ie[Ye]=Ct[$t][re],Ye+=1);return Ie}(G,H)};P.addData=function(N,z){var U=null;switch(z=z||"Byte"){case"Numeric":U=ee(N);break;case"Alphanumeric":U=Ft(N);break;case"Byte":U=Dt(N);break;case"Kanji":U=T(N);break;default:throw"mode:"+z}b.push(U),m=null},P.isDark=function(N,z){if(N<0||p<=N||z<0||p<=z)throw N+","+z;return f[N][z]},P.getModuleCount=function(){return p},P.make=function(){if(a<1){for(var N=1;N<40;N++){for(var z=_t.getRSBlocks(N,c),U=Tt(),H=0;H<b.length;H++){var G=b[H];U.put(G.getMode(),4),U.put(G.getLength(),ht.getLengthInBits(G.getMode(),N)),G.write(U)}var nt=0;for(H=0;H<z.length;H++)nt+=z[H].dataCount;if(U.getLengthInBits()<=8*nt)break}a=N}E(!1,function(){for(var pt=0,ot=0,xt=0;xt<8;xt+=1){E(!0,xt);var qt=ht.getLostPoint(P);(xt==0||pt>qt)&&(pt=qt,ot=xt)}return ot}())},P.createTableTag=function(N,z){N=N||2;var U="";U+='<table style="',U+=" border-width: 0px; border-style: none;",U+=" border-collapse: collapse;",U+=" padding: 0px; margin: "+(z=z===void 0?4*N:z)+"px;",U+='">',U+="<tbody>";for(var H=0;H<P.getModuleCount();H+=1){U+="<tr>";for(var G=0;G<P.getModuleCount();G+=1)U+='<td style="',U+=" border-width: 0px; border-style: none;",U+=" border-collapse: collapse;",U+=" padding: 0px; margin: 0px;",U+=" width: "+N+"px;",U+=" height: "+N+"px;",U+=" background-color: ",U+=P.isDark(H,G)?"#000000":"#ffffff",U+=";",U+='"/>';U+="</tr>"}return(U+="</tbody>")+"</table>"},P.createSvgTag=function(N,z,U,H){var G={};typeof arguments[0]=="object"&&(N=(G=arguments[0]).cellSize,z=G.margin,U=G.alt,H=G.title),N=N||2,z=z===void 0?4*N:z,(U=typeof U=="string"?{text:U}:U||{}).text=U.text||null,U.id=U.text?U.id||"qrcode-description":null,(H=typeof H=="string"?{text:H}:H||{}).text=H.text||null,H.id=H.text?H.id||"qrcode-title":null;var nt,pt,ot,xt,qt=P.getModuleCount()*N+2*z,Et="";for(xt="l"+N+",0 0,"+N+" -"+N+",0 0,-"+N+"z ",Et+='<svg version="1.1" xmlns="http://www.w3.org/2000/svg"',Et+=G.scalable?"":' width="'+qt+'px" height="'+qt+'px"',Et+=' viewBox="0 0 '+qt+" "+qt+'" ',Et+=' preserveAspectRatio="xMinYMin meet"',Et+=H.text||U.text?' role="img" aria-labelledby="'+Z([H.id,U.id].join(" ").trim())+'"':"",Et+=">",Et+=H.text?'<title id="'+Z(H.id)+'">'+Z(H.text)+"</title>":"",Et+=U.text?'<description id="'+Z(U.id)+'">'+Z(U.text)+"</description>":"",Et+='<rect width="100%" height="100%" fill="white" cx="0" cy="0"/>',Et+='<path d="',pt=0;pt<P.getModuleCount();pt+=1)for(ot=pt*N+z,nt=0;nt<P.getModuleCount();nt+=1)P.isDark(pt,nt)&&(Et+="M"+(nt*N+z)+","+ot+xt);return(Et+='" stroke="transparent" fill="black"/>')+"</svg>"},P.createDataURL=function(N,z){N=N||2,z=z===void 0?4*N:z;var U=P.getModuleCount()*N+2*z,H=z,G=U-z;return B(U,U,function(nt,pt){if(H<=nt&&nt<G&&H<=pt&&pt<G){var ot=Math.floor((nt-H)/N),xt=Math.floor((pt-H)/N);return P.isDark(xt,ot)?0:1}return 1})},P.createImgTag=function(N,z,U){N=N||2,z=z===void 0?4*N:z;var H=P.getModuleCount()*N+2*z,G="";return G+="<img",G+=' src="',G+=P.createDataURL(N,z),G+='"',G+=' width="',G+=H,G+='"',G+=' height="',G+=H,G+='"',U&&(G+=' alt="',G+=Z(U),G+='"'),G+"/>"};var Z=function(N){for(var z="",U=0;U<N.length;U+=1){var H=N.charAt(U);switch(H){case"<":z+="&lt;";break;case">":z+="&gt;";break;case"&":z+="&amp;";break;case'"':z+="&quot;";break;default:z+=H}}return z};return P.createASCII=function(N,z){if((N=N||1)<2)return function(bt){bt=bt===void 0?2:bt;var Ct,$t,Zt,xe,re,jt=1*P.getModuleCount()+2*bt,Xt=bt,je=jt-bt,pe={"\u2588\u2588":"\u2588","\u2588 ":"\u2580"," \u2588":"\u2584","  ":" "},Ie={"\u2588\u2588":"\u2580","\u2588 ":"\u2580"," \u2588":" ","  ":" "},Ye="";for(Ct=0;Ct<jt;Ct+=2){for(Zt=Math.floor((Ct-Xt)/1),xe=Math.floor((Ct+1-Xt)/1),$t=0;$t<jt;$t+=1)re="\u2588",Xt<=$t&&$t<je&&Xt<=Ct&&Ct<je&&P.isDark(Zt,Math.floor(($t-Xt)/1))&&(re=" "),Xt<=$t&&$t<je&&Xt<=Ct+1&&Ct+1<je&&P.isDark(xe,Math.floor(($t-Xt)/1))?re+=" ":re+="\u2588",Ye+=bt<1&&Ct+1>=je?Ie[re]:pe[re];Ye+=`
`}return jt%2&&bt>0?Ye.substring(0,Ye.length-jt-1)+Array(jt+1).join("\u2580"):Ye.substring(0,Ye.length-1)}(z);N-=1,z=z===void 0?2*N:z;var U,H,G,nt,pt=P.getModuleCount()*N+2*z,ot=z,xt=pt-z,qt=Array(N+1).join("\u2588\u2588"),Et=Array(N+1).join("  "),zt="",Ut="";for(U=0;U<pt;U+=1){for(G=Math.floor((U-ot)/N),Ut="",H=0;H<pt;H+=1)nt=1,ot<=H&&H<xt&&ot<=U&&U<xt&&P.isDark(G,Math.floor((H-ot)/N))&&(nt=0),Ut+=nt?qt:Et;for(G=0;G<N;G+=1)zt+=Ut+`
`}return zt.substring(0,zt.length-1)},P.renderTo2dContext=function(N,z){z=z||2;for(var U=P.getModuleCount(),H=0;H<U;H++)for(var G=0;G<U;G++)N.fillStyle=P.isDark(H,G)?"black":"white",N.fillRect(H*z,G*z,z,z)},P};A.stringToBytes=(A.stringToBytesFuncs={default:function(v){for(var y=[],a=0;a<v.length;a+=1){var c=v.charCodeAt(a);y.push(255&c)}return y}}).default,A.createStringToBytes=function(v,y){var a=function(){for(var f=x(v),p=function(){var l=f.read();if(l==-1)throw"eof";return l},m=0,b={};;){var P=f.read();if(P==-1)break;var E=p(),u=p()<<8|p();b[String.fromCharCode(P<<8|E)]=u,m+=1}if(m!=y)throw m+" != "+y;return b}(),c="?".charCodeAt(0);return function(f){for(var p=[],m=0;m<f.length;m+=1){var b=f.charCodeAt(m);if(b<128)p.push(b);else{var P=a[f.charAt(m)];typeof P=="number"?(255&P)==P?p.push(P):(p.push(P>>>8),p.push(255&P)):p.push(c)}}return p}};var L,M,$,K,et,tt={L:1,M:0,Q:3,H:2},ht=(L=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],M=1335,$=7973,et=function(v){for(var y=0;v!=0;)y+=1,v>>>=1;return y},(K={}).getBCHTypeInfo=function(v){for(var y=v<<10;et(y)-et(M)>=0;)y^=M<<et(y)-et(M);return 21522^(v<<10|y)},K.getBCHTypeNumber=function(v){for(var y=v<<12;et(y)-et($)>=0;)y^=$<<et(y)-et($);return v<<12|y},K.getPatternPosition=function(v){return L[v-1]},K.getMaskFunction=function(v){switch(v){case 0:return function(y,a){return(y+a)%2==0};case 1:return function(y,a){return y%2==0};case 2:return function(y,a){return a%3==0};case 3:return function(y,a){return(y+a)%3==0};case 4:return function(y,a){return(Math.floor(y/2)+Math.floor(a/3))%2==0};case 5:return function(y,a){return y*a%2+y*a%3==0};case 6:return function(y,a){return(y*a%2+y*a%3)%2==0};case 7:return function(y,a){return(y*a%3+(y+a)%2)%2==0};default:throw"bad maskPattern:"+v}},K.getErrorCorrectPolynomial=function(v){for(var y=Q([1],0),a=0;a<v;a+=1)y=y.multiply(Q([1,mt.gexp(a)],0));return y},K.getLengthInBits=function(v,y){if(1<=y&&y<10)switch(v){case 1:return 10;case 2:return 9;case 4:case 8:return 8;default:throw"mode:"+v}else if(y<27)switch(v){case 1:return 12;case 2:return 11;case 4:return 16;case 8:return 10;default:throw"mode:"+v}else{if(!(y<41))throw"type:"+y;switch(v){case 1:return 14;case 2:return 13;case 4:return 16;case 8:return 12;default:throw"mode:"+v}}},K.getLostPoint=function(v){for(var y=v.getModuleCount(),a=0,c=0;c<y;c+=1)for(var f=0;f<y;f+=1){for(var p=0,m=v.isDark(c,f),b=-1;b<=1;b+=1)if(!(c+b<0||y<=c+b))for(var P=-1;P<=1;P+=1)f+P<0||y<=f+P||b==0&&P==0||m==v.isDark(c+b,f+P)&&(p+=1);p>5&&(a+=3+p-5)}for(c=0;c<y-1;c+=1)for(f=0;f<y-1;f+=1){var E=0;v.isDark(c,f)&&(E+=1),v.isDark(c+1,f)&&(E+=1),v.isDark(c,f+1)&&(E+=1),v.isDark(c+1,f+1)&&(E+=1),E!=0&&E!=4||(a+=3)}for(c=0;c<y;c+=1)for(f=0;f<y-6;f+=1)v.isDark(c,f)&&!v.isDark(c,f+1)&&v.isDark(c,f+2)&&v.isDark(c,f+3)&&v.isDark(c,f+4)&&!v.isDark(c,f+5)&&v.isDark(c,f+6)&&(a+=40);for(f=0;f<y;f+=1)for(c=0;c<y-6;c+=1)v.isDark(c,f)&&!v.isDark(c+1,f)&&v.isDark(c+2,f)&&v.isDark(c+3,f)&&v.isDark(c+4,f)&&!v.isDark(c+5,f)&&v.isDark(c+6,f)&&(a+=40);var u=0;for(f=0;f<y;f+=1)for(c=0;c<y;c+=1)v.isDark(c,f)&&(u+=1);return a+Math.abs(100*u/y/y-50)/5*10},K),mt=function(){for(var v=new Array(256),y=new Array(256),a=0;a<8;a+=1)v[a]=1<<a;for(a=8;a<256;a+=1)v[a]=v[a-4]^v[a-5]^v[a-6]^v[a-8];for(a=0;a<255;a+=1)y[v[a]]=a;return{glog:function(c){if(c<1)throw"glog("+c+")";return y[c]},gexp:function(c){for(;c<0;)c+=255;for(;c>=256;)c-=255;return v[c]}}}();function Q(v,y){if(v.length===void 0)throw v.length+"/"+y;var a=function(){for(var f=0;f<v.length&&v[f]==0;)f+=1;for(var p=new Array(v.length-f+y),m=0;m<v.length-f;m+=1)p[m]=v[m+f];return p}(),c={getAt:function(f){return a[f]},getLength:function(){return a.length},multiply:function(f){for(var p=new Array(c.getLength()+f.getLength()-1),m=0;m<c.getLength();m+=1)for(var b=0;b<f.getLength();b+=1)p[m+b]^=mt.gexp(mt.glog(c.getAt(m))+mt.glog(f.getAt(b)));return Q(p,0)},mod:function(f){if(c.getLength()-f.getLength()<0)return c;for(var p=mt.glog(c.getAt(0))-mt.glog(f.getAt(0)),m=new Array(c.getLength()),b=0;b<c.getLength();b+=1)m[b]=c.getAt(b);for(b=0;b<f.getLength();b+=1)m[b]^=mt.gexp(mt.glog(f.getAt(b))+p);return Q(m,0).mod(f)}};return c}var _t=function(){var v=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12,7,37,13],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],y=function(c,f){var p={};return p.totalCount=c,p.dataCount=f,p},a={getRSBlocks:function(c,f){var p=function(S,O){switch(O){case tt.L:return v[4*(S-1)+0];case tt.M:return v[4*(S-1)+1];case tt.Q:return v[4*(S-1)+2];case tt.H:return v[4*(S-1)+3];default:return}}(c,f);if(p===void 0)throw"bad rs block @ typeNumber:"+c+"/errorCorrectionLevel:"+f;for(var m=p.length/3,b=[],P=0;P<m;P+=1)for(var E=p[3*P+0],u=p[3*P+1],l=p[3*P+2],_=0;_<E;_+=1)b.push(y(u,l));return b}};return a}(),Tt=function(){var v=[],y=0,a={getBuffer:function(){return v},getAt:function(c){var f=Math.floor(c/8);return(v[f]>>>7-c%8&1)==1},put:function(c,f){for(var p=0;p<f;p+=1)a.putBit((c>>>f-p-1&1)==1)},getLengthInBits:function(){return y},putBit:function(c){var f=Math.floor(y/8);v.length<=f&&v.push(0),c&&(v[f]|=128>>>y%8),y+=1}};return a},ee=function(v){var y=v,a={getMode:function(){return 1},getLength:function(p){return y.length},write:function(p){for(var m=y,b=0;b+2<m.length;)p.put(c(m.substring(b,b+3)),10),b+=3;b<m.length&&(m.length-b==1?p.put(c(m.substring(b,b+1)),4):m.length-b==2&&p.put(c(m.substring(b,b+2)),7))}},c=function(p){for(var m=0,b=0;b<p.length;b+=1)m=10*m+f(p.charAt(b));return m},f=function(p){if("0"<=p&&p<="9")return p.charCodeAt(0)-"0".charCodeAt(0);throw"illegal char :"+p};return a},Ft=function(v){var y=v,a={getMode:function(){return 2},getLength:function(f){return y.length},write:function(f){for(var p=y,m=0;m+1<p.length;)f.put(45*c(p.charAt(m))+c(p.charAt(m+1)),11),m+=2;m<p.length&&f.put(c(p.charAt(m)),6)}},c=function(f){if("0"<=f&&f<="9")return f.charCodeAt(0)-"0".charCodeAt(0);if("A"<=f&&f<="Z")return f.charCodeAt(0)-"A".charCodeAt(0)+10;switch(f){case" ":return 36;case"$":return 37;case"%":return 38;case"*":return 39;case"+":return 40;case"-":return 41;case".":return 42;case"/":return 43;case":":return 44;default:throw"illegal char :"+f}};return a},Dt=function(v){var y=A.stringToBytes(v);return{getMode:function(){return 4},getLength:function(a){return y.length},write:function(a){for(var c=0;c<y.length;c+=1)a.put(y[c],8)}}},T=function(v){var y=A.stringToBytesFuncs.SJIS;if(!y)throw"sjis not supported.";(function(f,p){var m=y("\u53CB");if(m.length!=2||(m[0]<<8|m[1])!=38726)throw"sjis not supported."})();var a=y(v),c={getMode:function(){return 8},getLength:function(f){return~~(a.length/2)},write:function(f){for(var p=a,m=0;m+1<p.length;){var b=(255&p[m])<<8|255&p[m+1];if(33088<=b&&b<=40956)b-=33088;else{if(!(57408<=b&&b<=60351))throw"illegal char at "+(m+1)+"/"+b;b-=49472}b=192*(b>>>8&255)+(255&b),f.put(b,13),m+=2}if(m<p.length)throw"illegal char at "+(m+1)}};return c},C=function(){var v=[],y={writeByte:function(a){v.push(255&a)},writeShort:function(a){y.writeByte(a),y.writeByte(a>>>8)},writeBytes:function(a,c,f){c=c||0,f=f||a.length;for(var p=0;p<f;p+=1)y.writeByte(a[p+c])},writeString:function(a){for(var c=0;c<a.length;c+=1)y.writeByte(a.charCodeAt(c))},toByteArray:function(){return v},toString:function(){var a="";a+="[";for(var c=0;c<v.length;c+=1)c>0&&(a+=","),a+=v[c];return a+"]"}};return y},x=function(v){var y=v,a=0,c=0,f=0,p={read:function(){for(;f<8;){if(a>=y.length){if(f==0)return-1;throw"unexpected end of file./"+f}var b=y.charAt(a);if(a+=1,b=="=")return f=0,-1;b.match(/^\s$/)||(c=c<<6|m(b.charCodeAt(0)),f+=6)}var P=c>>>f-8&255;return f-=8,P}},m=function(b){if(65<=b&&b<=90)return b-65;if(97<=b&&b<=122)return b-97+26;if(48<=b&&b<=57)return b-48+52;if(b==43)return 62;if(b==47)return 63;throw"c:"+b};return p},B=function(v,y,a){for(var c=function(u,l){var _=u,S=l,O=new Array(u*l),F={setPixel:function(N,z,U){O[z*_+N]=U},write:function(N){N.writeString("GIF87a"),N.writeShort(_),N.writeShort(S),N.writeByte(128),N.writeByte(0),N.writeByte(0),N.writeByte(0),N.writeByte(0),N.writeByte(0),N.writeByte(255),N.writeByte(255),N.writeByte(255),N.writeString(","),N.writeShort(0),N.writeShort(0),N.writeShort(_),N.writeShort(S),N.writeByte(0);var z=D(2);N.writeByte(2);for(var U=0;z.length-U>255;)N.writeByte(255),N.writeBytes(z,U,255),U+=255;N.writeByte(z.length-U),N.writeBytes(z,U,z.length-U),N.writeByte(0),N.writeString(";")}},D=function(N){for(var z=1<<N,U=1+(1<<N),H=N+1,G=Z(),nt=0;nt<z;nt+=1)G.add(String.fromCharCode(nt));G.add(String.fromCharCode(z)),G.add(String.fromCharCode(U));var pt,ot,xt,qt=C(),Et=(pt=qt,ot=0,xt=0,{write:function(Ct,$t){if(Ct>>>$t!=0)throw"length over";for(;ot+$t>=8;)pt.writeByte(255&(Ct<<ot|xt)),$t-=8-ot,Ct>>>=8-ot,xt=0,ot=0;xt|=Ct<<ot,ot+=$t},flush:function(){ot>0&&pt.writeByte(xt)}});Et.write(z,H);var zt=0,Ut=String.fromCharCode(O[zt]);for(zt+=1;zt<O.length;){var bt=String.fromCharCode(O[zt]);zt+=1,G.contains(Ut+bt)?Ut+=bt:(Et.write(G.indexOf(Ut),H),G.size()<4095&&(G.size()==1<<H&&(H+=1),G.add(Ut+bt)),Ut=bt)}return Et.write(G.indexOf(Ut),H),Et.write(U,H),Et.flush(),qt.toByteArray()},Z=function(){var N={},z=0,U={add:function(H){if(U.contains(H))throw"dup key:"+H;N[H]=z,z+=1},size:function(){return z},indexOf:function(H){return N[H]},contains:function(H){return N[H]!==void 0}};return U};return F}(v,y),f=0;f<y;f+=1)for(var p=0;p<v;p+=1)c.setPixel(p,f,a(p,f));var m=C();c.write(m);for(var b=function(){var u=0,l=0,_=0,S="",O={},F=function(Z){S+=String.fromCharCode(D(63&Z))},D=function(Z){if(!(Z<0)){if(Z<26)return 65+Z;if(Z<52)return Z-26+97;if(Z<62)return Z-52+48;if(Z==62)return 43;if(Z==63)return 47}throw"n:"+Z};return O.writeByte=function(Z){for(u=u<<8|255&Z,l+=8,_+=1;l>=6;)F(u>>>l-6),l-=6},O.flush=function(){if(l>0&&(F(u<<6-l),u=0,l=0),_%3!=0)for(var Z=3-_%3,N=0;N<Z;N+=1)S+="="},O.toString=function(){return S},O}(),P=m.toByteArray(),E=0;E<P.length;E+=1)b.writeByte(P[E]);return b.flush(),"data:image/gif;base64,"+b};return A}();g.stringToBytesFuncs["UTF-8"]=function(A){return function(L){for(var M=[],$=0;$<L.length;$++){var K=L.charCodeAt($);K<128?M.push(K):K<2048?M.push(192|K>>6,128|63&K):K<55296||K>=57344?M.push(224|K>>12,128|K>>6&63,128|63&K):($++,K=65536+((1023&K)<<10|1023&L.charCodeAt($)),M.push(240|K>>18,128|K>>12&63,128|K>>6&63,128|63&K))}return M}(A)},(d=typeof(s=function(){return g})=="function"?s.apply(o,[]):s)===void 0||(i.exports=d)}},t={};function e(i){var o=t[i];if(o!==void 0)return o.exports;var s=t[i]={exports:{}};return r[i](s,s.exports,e),s.exports}e.n=i=>{var o=i&&i.__esModule?()=>i.default:()=>i;return e.d(o,{a:o}),o},e.d=(i,o)=>{for(var s in o)e.o(o,s)&&!e.o(i,s)&&Object.defineProperty(i,s,{enumerable:!0,get:o[s]})},e.o=(i,o)=>Object.prototype.hasOwnProperty.call(i,o);var n={};return(()=>{"use strict";e.d(n,{default:()=>E});var i=function(){return i=Object.assign||function(u){for(var l,_=1,S=arguments.length;_<S;_++)for(var O in l=arguments[_])Object.prototype.hasOwnProperty.call(l,O)&&(u[O]=l[O]);return u},i.apply(this,arguments)},o=function(u,l,_){if(_||arguments.length===2)for(var S,O=0,F=l.length;O<F;O++)!S&&O in l||(S||(S=Array.prototype.slice.call(l,0,O)),S[O]=l[O]);return u.concat(S||Array.prototype.slice.call(l))},s=function(u){return!!u&&typeof u=="object"&&!Array.isArray(u)};function d(u){for(var l=[],_=1;_<arguments.length;_++)l[_-1]=arguments[_];if(!l.length)return u;var S=l.shift();return S!==void 0&&s(u)&&s(S)?(u=i({},u),Object.keys(S).forEach(function(O){var F=u[O],D=S[O];Array.isArray(F)&&Array.isArray(D)?u[O]=D:s(F)&&s(D)?u[O]=d(Object.assign({},F),D):u[O]=D}),d.apply(void 0,o([u],l,!1))):u}function g(u,l){var _=document.createElement("a");_.download=l,_.href=u,document.body.appendChild(_),_.click(),document.body.removeChild(_)}function A(u){return l=this,_=void 0,O=function(){return function(F,D){var Z,N,z,U,H={label:0,sent:function(){if(1&z[0])throw z[1];return z[1]},trys:[],ops:[]};return U={next:G(0),throw:G(1),return:G(2)},typeof Symbol=="function"&&(U[Symbol.iterator]=function(){return this}),U;function G(nt){return function(pt){return function(ot){if(Z)throw new TypeError("Generator is already executing.");for(;H;)try{if(Z=1,N&&(z=2&ot[0]?N.return:ot[0]?N.throw||((z=N.return)&&z.call(N),0):N.next)&&!(z=z.call(N,ot[1])).done)return z;switch(N=0,z&&(ot=[2&ot[0],z.value]),ot[0]){case 0:case 1:z=ot;break;case 4:return H.label++,{value:ot[1],done:!1};case 5:H.label++,N=ot[1],ot=[0];continue;case 7:ot=H.ops.pop(),H.trys.pop();continue;default:if(!((z=(z=H.trys).length>0&&z[z.length-1])||ot[0]!==6&&ot[0]!==2)){H=0;continue}if(ot[0]===3&&(!z||ot[1]>z[0]&&ot[1]<z[3])){H.label=ot[1];break}if(ot[0]===6&&H.label<z[1]){H.label=z[1],z=ot;break}if(z&&H.label<z[2]){H.label=z[2],H.ops.push(ot);break}z[2]&&H.ops.pop(),H.trys.pop();continue}ot=D.call(F,H)}catch(xt){ot=[6,xt],N=0}finally{Z=z=0}if(5&ot[0])throw ot[1];return{value:ot[0]?ot[1]:void 0,done:!0}}([nt,pt])}}}(this,function(F){return[2,new Promise(function(D){var Z=new XMLHttpRequest;Z.onload=function(){var N=new FileReader;N.onloadend=function(){D(N.result)},N.readAsDataURL(Z.response)},Z.open("GET",u),Z.responseType="blob",Z.send()})]})},new((S=void 0)||(S=Promise))(function(F,D){function Z(U){try{z(O.next(U))}catch(H){D(H)}}function N(U){try{z(O.throw(U))}catch(H){D(H)}}function z(U){var H;U.done?F(U.value):(H=U.value,H instanceof S?H:new S(function(G){G(H)})).then(Z,N)}z((O=O.apply(l,_||[])).next())});var l,_,S,O}let L={L:.07,M:.15,Q:.25,H:.3};var M=function(){return M=Object.assign||function(u){for(var l,_=1,S=arguments.length;_<S;_++)for(var O in l=arguments[_])Object.prototype.hasOwnProperty.call(l,O)&&(u[O]=l[O]);return u},M.apply(this,arguments)},$=function(){function u(l){var _=l.svg,S=l.type;this._svg=_,this._type=S}return u.prototype.draw=function(l,_,S,O){var F;switch(this._type){case"dots":F=this._drawDot;break;case"classy":F=this._drawClassy;break;case"classy-rounded":F=this._drawClassyRounded;break;case"rounded":F=this._drawRounded;break;case"extra-rounded":F=this._drawExtraRounded;break;default:F=this._drawSquare}F.call(this,{x:l,y:_,size:S,getNeighbor:O})},u.prototype._rotateFigure=function(l){var _,S=l.x,O=l.y,F=l.size,D=l.rotation,Z=D===void 0?0:D,N=S+F/2,z=O+F/2;(0,l.draw)(),(_=this._element)===null||_===void 0||_.setAttribute("transform","rotate(".concat(180*Z/Math.PI,",").concat(N,",").concat(z,")"))},u.prototype._basicDot=function(l){var _=this,S=l.size,O=l.x,F=l.y;this._rotateFigure(M(M({},l),{draw:function(){_._element=document.createElementNS("http://www.w3.org/2000/svg","circle"),_._element.setAttribute("cx",String(O+S/2)),_._element.setAttribute("cy",String(F+S/2)),_._element.setAttribute("r",String(S/2))}}))},u.prototype._basicSquare=function(l){var _=this,S=l.size,O=l.x,F=l.y;this._rotateFigure(M(M({},l),{draw:function(){_._element=document.createElementNS("http://www.w3.org/2000/svg","rect"),_._element.setAttribute("x",String(O)),_._element.setAttribute("y",String(F)),_._element.setAttribute("width",String(S)),_._element.setAttribute("height",String(S))}}))},u.prototype._basicSideRounded=function(l){var _=this,S=l.size,O=l.x,F=l.y;this._rotateFigure(M(M({},l),{draw:function(){_._element=document.createElementNS("http://www.w3.org/2000/svg","path"),_._element.setAttribute("d","M ".concat(O," ").concat(F)+"v ".concat(S)+"h ".concat(S/2)+"a ".concat(S/2," ").concat(S/2,", 0, 0, 0, 0 ").concat(-S))}}))},u.prototype._basicCornerRounded=function(l){var _=this,S=l.size,O=l.x,F=l.y;this._rotateFigure(M(M({},l),{draw:function(){_._element=document.createElementNS("http://www.w3.org/2000/svg","path"),_._element.setAttribute("d","M ".concat(O," ").concat(F)+"v ".concat(S)+"h ".concat(S)+"v ".concat(-S/2)+"a ".concat(S/2," ").concat(S/2,", 0, 0, 0, ").concat(-S/2," ").concat(-S/2))}}))},u.prototype._basicCornerExtraRounded=function(l){var _=this,S=l.size,O=l.x,F=l.y;this._rotateFigure(M(M({},l),{draw:function(){_._element=document.createElementNS("http://www.w3.org/2000/svg","path"),_._element.setAttribute("d","M ".concat(O," ").concat(F)+"v ".concat(S)+"h ".concat(S)+"a ".concat(S," ").concat(S,", 0, 0, 0, ").concat(-S," ").concat(-S))}}))},u.prototype._basicCornersRounded=function(l){var _=this,S=l.size,O=l.x,F=l.y;this._rotateFigure(M(M({},l),{draw:function(){_._element=document.createElementNS("http://www.w3.org/2000/svg","path"),_._element.setAttribute("d","M ".concat(O," ").concat(F)+"v ".concat(S/2)+"a ".concat(S/2," ").concat(S/2,", 0, 0, 0, ").concat(S/2," ").concat(S/2)+"h ".concat(S/2)+"v ".concat(-S/2)+"a ".concat(S/2," ").concat(S/2,", 0, 0, 0, ").concat(-S/2," ").concat(-S/2))}}))},u.prototype._drawDot=function(l){var _=l.x,S=l.y,O=l.size;this._basicDot({x:_,y:S,size:O,rotation:0})},u.prototype._drawSquare=function(l){var _=l.x,S=l.y,O=l.size;this._basicSquare({x:_,y:S,size:O,rotation:0})},u.prototype._drawRounded=function(l){var _=l.x,S=l.y,O=l.size,F=l.getNeighbor,D=F?+F(-1,0):0,Z=F?+F(1,0):0,N=F?+F(0,-1):0,z=F?+F(0,1):0,U=D+Z+N+z;if(U!==0)if(U>2||D&&Z||N&&z)this._basicSquare({x:_,y:S,size:O,rotation:0});else{if(U===2){var H=0;return D&&N?H=Math.PI/2:N&&Z?H=Math.PI:Z&&z&&(H=-Math.PI/2),void this._basicCornerRounded({x:_,y:S,size:O,rotation:H})}if(U===1)return H=0,N?H=Math.PI/2:Z?H=Math.PI:z&&(H=-Math.PI/2),void this._basicSideRounded({x:_,y:S,size:O,rotation:H})}else this._basicDot({x:_,y:S,size:O,rotation:0})},u.prototype._drawExtraRounded=function(l){var _=l.x,S=l.y,O=l.size,F=l.getNeighbor,D=F?+F(-1,0):0,Z=F?+F(1,0):0,N=F?+F(0,-1):0,z=F?+F(0,1):0,U=D+Z+N+z;if(U!==0)if(U>2||D&&Z||N&&z)this._basicSquare({x:_,y:S,size:O,rotation:0});else{if(U===2){var H=0;return D&&N?H=Math.PI/2:N&&Z?H=Math.PI:Z&&z&&(H=-Math.PI/2),void this._basicCornerExtraRounded({x:_,y:S,size:O,rotation:H})}if(U===1)return H=0,N?H=Math.PI/2:Z?H=Math.PI:z&&(H=-Math.PI/2),void this._basicSideRounded({x:_,y:S,size:O,rotation:H})}else this._basicDot({x:_,y:S,size:O,rotation:0})},u.prototype._drawClassy=function(l){var _=l.x,S=l.y,O=l.size,F=l.getNeighbor,D=F?+F(-1,0):0,Z=F?+F(1,0):0,N=F?+F(0,-1):0,z=F?+F(0,1):0;D+Z+N+z!==0?D||N?Z||z?this._basicSquare({x:_,y:S,size:O,rotation:0}):this._basicCornerRounded({x:_,y:S,size:O,rotation:Math.PI/2}):this._basicCornerRounded({x:_,y:S,size:O,rotation:-Math.PI/2}):this._basicCornersRounded({x:_,y:S,size:O,rotation:Math.PI/2})},u.prototype._drawClassyRounded=function(l){var _=l.x,S=l.y,O=l.size,F=l.getNeighbor,D=F?+F(-1,0):0,Z=F?+F(1,0):0,N=F?+F(0,-1):0,z=F?+F(0,1):0;D+Z+N+z!==0?D||N?Z||z?this._basicSquare({x:_,y:S,size:O,rotation:0}):this._basicCornerExtraRounded({x:_,y:S,size:O,rotation:Math.PI/2}):this._basicCornerExtraRounded({x:_,y:S,size:O,rotation:-Math.PI/2}):this._basicCornersRounded({x:_,y:S,size:O,rotation:Math.PI/2})},u}();let K=$;var et=function(){return et=Object.assign||function(u){for(var l,_=1,S=arguments.length;_<S;_++)for(var O in l=arguments[_])Object.prototype.hasOwnProperty.call(l,O)&&(u[O]=l[O]);return u},et.apply(this,arguments)},tt=function(){function u(l){var _=l.svg,S=l.type;this._svg=_,this._type=S}return u.prototype.draw=function(l,_,S,O){var F;switch(this._type){case"square":F=this._drawSquare;break;case"extra-rounded":F=this._drawExtraRounded;break;default:F=this._drawDot}F.call(this,{x:l,y:_,size:S,rotation:O})},u.prototype._rotateFigure=function(l){var _,S=l.x,O=l.y,F=l.size,D=l.rotation,Z=D===void 0?0:D,N=S+F/2,z=O+F/2;(0,l.draw)(),(_=this._element)===null||_===void 0||_.setAttribute("transform","rotate(".concat(180*Z/Math.PI,",").concat(N,",").concat(z,")"))},u.prototype._basicDot=function(l){var _=this,S=l.size,O=l.x,F=l.y,D=S/7;this._rotateFigure(et(et({},l),{draw:function(){_._element=document.createElementNS("http://www.w3.org/2000/svg","path"),_._element.setAttribute("clip-rule","evenodd"),_._element.setAttribute("d","M ".concat(O+S/2," ").concat(F)+"a ".concat(S/2," ").concat(S/2," 0 1 0 0.1 0")+"z"+"m 0 ".concat(D)+"a ".concat(S/2-D," ").concat(S/2-D," 0 1 1 -0.1 0")+"Z")}}))},u.prototype._basicSquare=function(l){var _=this,S=l.size,O=l.x,F=l.y,D=S/7;this._rotateFigure(et(et({},l),{draw:function(){_._element=document.createElementNS("http://www.w3.org/2000/svg","path"),_._element.setAttribute("clip-rule","evenodd"),_._element.setAttribute("d","M ".concat(O," ").concat(F)+"v ".concat(S)+"h ".concat(S)+"v ".concat(-S)+"z"+"M ".concat(O+D," ").concat(F+D)+"h ".concat(S-2*D)+"v ".concat(S-2*D)+"h ".concat(2*D-S)+"z")}}))},u.prototype._basicExtraRounded=function(l){var _=this,S=l.size,O=l.x,F=l.y,D=S/7;this._rotateFigure(et(et({},l),{draw:function(){_._element=document.createElementNS("http://www.w3.org/2000/svg","path"),_._element.setAttribute("clip-rule","evenodd"),_._element.setAttribute("d","M ".concat(O," ").concat(F+2.5*D)+"v ".concat(2*D)+"a ".concat(2.5*D," ").concat(2.5*D,", 0, 0, 0, ").concat(2.5*D," ").concat(2.5*D)+"h ".concat(2*D)+"a ".concat(2.5*D," ").concat(2.5*D,", 0, 0, 0, ").concat(2.5*D," ").concat(2.5*-D)+"v ".concat(-2*D)+"a ".concat(2.5*D," ").concat(2.5*D,", 0, 0, 0, ").concat(2.5*-D," ").concat(2.5*-D)+"h ".concat(-2*D)+"a ".concat(2.5*D," ").concat(2.5*D,", 0, 0, 0, ").concat(2.5*-D," ").concat(2.5*D)+"M ".concat(O+2.5*D," ").concat(F+D)+"h ".concat(2*D)+"a ".concat(1.5*D," ").concat(1.5*D,", 0, 0, 1, ").concat(1.5*D," ").concat(1.5*D)+"v ".concat(2*D)+"a ".concat(1.5*D," ").concat(1.5*D,", 0, 0, 1, ").concat(1.5*-D," ").concat(1.5*D)+"h ".concat(-2*D)+"a ".concat(1.5*D," ").concat(1.5*D,", 0, 0, 1, ").concat(1.5*-D," ").concat(1.5*-D)+"v ".concat(-2*D)+"a ".concat(1.5*D," ").concat(1.5*D,", 0, 0, 1, ").concat(1.5*D," ").concat(1.5*-D))}}))},u.prototype._drawDot=function(l){var _=l.x,S=l.y,O=l.size,F=l.rotation;this._basicDot({x:_,y:S,size:O,rotation:F})},u.prototype._drawSquare=function(l){var _=l.x,S=l.y,O=l.size,F=l.rotation;this._basicSquare({x:_,y:S,size:O,rotation:F})},u.prototype._drawExtraRounded=function(l){var _=l.x,S=l.y,O=l.size,F=l.rotation;this._basicExtraRounded({x:_,y:S,size:O,rotation:F})},u}();let ht=tt;var mt=function(){return mt=Object.assign||function(u){for(var l,_=1,S=arguments.length;_<S;_++)for(var O in l=arguments[_])Object.prototype.hasOwnProperty.call(l,O)&&(u[O]=l[O]);return u},mt.apply(this,arguments)},Q=function(){function u(l){var _=l.svg,S=l.type;this._svg=_,this._type=S}return u.prototype.draw=function(l,_,S,O){(this._type==="square"?this._drawSquare:this._drawDot).call(this,{x:l,y:_,size:S,rotation:O})},u.prototype._rotateFigure=function(l){var _,S=l.x,O=l.y,F=l.size,D=l.rotation,Z=D===void 0?0:D,N=S+F/2,z=O+F/2;(0,l.draw)(),(_=this._element)===null||_===void 0||_.setAttribute("transform","rotate(".concat(180*Z/Math.PI,",").concat(N,",").concat(z,")"))},u.prototype._basicDot=function(l){var _=this,S=l.size,O=l.x,F=l.y;this._rotateFigure(mt(mt({},l),{draw:function(){_._element=document.createElementNS("http://www.w3.org/2000/svg","circle"),_._element.setAttribute("cx",String(O+S/2)),_._element.setAttribute("cy",String(F+S/2)),_._element.setAttribute("r",String(S/2))}}))},u.prototype._basicSquare=function(l){var _=this,S=l.size,O=l.x,F=l.y;this._rotateFigure(mt(mt({},l),{draw:function(){_._element=document.createElementNS("http://www.w3.org/2000/svg","rect"),_._element.setAttribute("x",String(O)),_._element.setAttribute("y",String(F)),_._element.setAttribute("width",String(S)),_._element.setAttribute("height",String(S))}}))},u.prototype._drawDot=function(l){var _=l.x,S=l.y,O=l.size,F=l.rotation;this._basicDot({x:_,y:S,size:O,rotation:F})},u.prototype._drawSquare=function(l){var _=l.x,S=l.y,O=l.size,F=l.rotation;this._basicSquare({x:_,y:S,size:O,rotation:F})},u}();let _t=Q,Tt="circle";var ee=function(u,l,_,S){return new(_||(_=Promise))(function(O,F){function D(z){try{N(S.next(z))}catch(U){F(U)}}function Z(z){try{N(S.throw(z))}catch(U){F(U)}}function N(z){var U;z.done?O(z.value):(U=z.value,U instanceof _?U:new _(function(H){H(U)})).then(D,Z)}N((S=S.apply(u,l||[])).next())})},Ft=function(u,l){var _,S,O,F,D={label:0,sent:function(){if(1&O[0])throw O[1];return O[1]},trys:[],ops:[]};return F={next:Z(0),throw:Z(1),return:Z(2)},typeof Symbol=="function"&&(F[Symbol.iterator]=function(){return this}),F;function Z(N){return function(z){return function(U){if(_)throw new TypeError("Generator is already executing.");for(;D;)try{if(_=1,S&&(O=2&U[0]?S.return:U[0]?S.throw||((O=S.return)&&O.call(S),0):S.next)&&!(O=O.call(S,U[1])).done)return O;switch(S=0,O&&(U=[2&U[0],O.value]),U[0]){case 0:case 1:O=U;break;case 4:return D.label++,{value:U[1],done:!1};case 5:D.label++,S=U[1],U=[0];continue;case 7:U=D.ops.pop(),D.trys.pop();continue;default:if(!((O=(O=D.trys).length>0&&O[O.length-1])||U[0]!==6&&U[0]!==2)){D=0;continue}if(U[0]===3&&(!O||U[1]>O[0]&&U[1]<O[3])){D.label=U[1];break}if(U[0]===6&&D.label<O[1]){D.label=O[1],O=U;break}if(O&&D.label<O[2]){D.label=O[2],D.ops.push(U);break}O[2]&&D.ops.pop(),D.trys.pop();continue}U=l.call(u,D)}catch(H){U=[6,H],S=0}finally{_=O=0}if(5&U[0])throw U[1];return{value:U[0]?U[1]:void 0,done:!0}}([N,z])}}},Dt=[[1,1,1,1,1,1,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,1,1,1,1,1,1]],T=[[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,1,1,1,0,0],[0,0,1,1,1,0,0],[0,0,1,1,1,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]];let C=function(){function u(l){this._element=document.createElementNS("http://www.w3.org/2000/svg","svg"),this._element.setAttribute("width",String(l.width)),this._element.setAttribute("height",String(l.height)),this._defs=document.createElementNS("http://www.w3.org/2000/svg","defs"),this._element.appendChild(this._defs),this._options=l}return Object.defineProperty(u.prototype,"width",{get:function(){return this._options.width},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"height",{get:function(){return this._options.height},enumerable:!1,configurable:!0}),u.prototype.getElement=function(){return this._element},u.prototype.drawQR=function(l){return ee(this,void 0,void 0,function(){var _,S,O,F,D,Z,N,z,U,H,G=this;return Ft(this,function(nt){switch(nt.label){case 0:return _=l.getModuleCount(),S=Math.min(this._options.width,this._options.height)-2*this._options.margin,O=this._options.shape===Tt?S/Math.sqrt(2):S,F=O/_,D={hideXDots:0,hideYDots:0,width:0,height:0},this._qr=l,this._options.image?[4,this.loadImage()]:[3,2];case 1:if(nt.sent(),!this._image)return[2];Z=this._options,N=Z.imageOptions,z=Z.qrOptions,U=N.imageSize*L[z.errorCorrectionLevel],H=Math.floor(U*_*_),D=function(pt){var ot=pt.originalHeight,xt=pt.originalWidth,qt=pt.maxHiddenDots,Et=pt.maxHiddenAxisDots,zt=pt.dotSize,Ut={x:0,y:0},bt={x:0,y:0};if(ot<=0||xt<=0||qt<=0||zt<=0)return{height:0,width:0,hideYDots:0,hideXDots:0};var Ct=ot/xt;return Ut.x=Math.floor(Math.sqrt(qt/Ct)),Ut.x<=0&&(Ut.x=1),Et&&Et<Ut.x&&(Ut.x=Et),Ut.x%2==0&&Ut.x--,bt.x=Ut.x*zt,Ut.y=1+2*Math.ceil((Ut.x*Ct-1)/2),bt.y=Math.round(bt.x*Ct),(Ut.y*Ut.x>qt||Et&&Et<Ut.y)&&(Et&&Et<Ut.y?(Ut.y=Et,Ut.y%2==0&&Ut.x--):Ut.y-=2,bt.y=Ut.y*zt,Ut.x=1+2*Math.ceil((Ut.y/Ct-1)/2),bt.x=Math.round(bt.y/Ct)),{height:bt.y,width:bt.x,hideYDots:Ut.y,hideXDots:Ut.x}}({originalWidth:this._image.width,originalHeight:this._image.height,maxHiddenDots:H,maxHiddenAxisDots:_-14,dotSize:F}),nt.label=2;case 2:return this.drawBackground(),this.drawDots(function(pt,ot){var xt,qt,Et,zt,Ut,bt;return!(G._options.imageOptions.hideBackgroundDots&&pt>=(_-D.hideXDots)/2&&pt<(_+D.hideXDots)/2&&ot>=(_-D.hideYDots)/2&&ot<(_+D.hideYDots)/2||((xt=Dt[pt])===null||xt===void 0?void 0:xt[ot])||((qt=Dt[pt-_+7])===null||qt===void 0?void 0:qt[ot])||((Et=Dt[pt])===null||Et===void 0?void 0:Et[ot-_+7])||((zt=T[pt])===null||zt===void 0?void 0:zt[ot])||((Ut=T[pt-_+7])===null||Ut===void 0?void 0:Ut[ot])||((bt=T[pt])===null||bt===void 0?void 0:bt[ot-_+7]))}),this.drawCorners(),this._options.image?[4,this.drawImage({width:D.width,height:D.height,count:_,dotSize:F})]:[3,4];case 3:nt.sent(),nt.label=4;case 4:return[2]}})})},u.prototype.drawBackground=function(){var l,_,S,O=this._element,F=this._options;if(O){var D=(l=F.backgroundOptions)===null||l===void 0?void 0:l.gradient,Z=(_=F.backgroundOptions)===null||_===void 0?void 0:_.color;if((D||Z)&&this._createColor({options:D,color:Z,additionalRotation:0,x:0,y:0,height:F.height,width:F.width,name:"background-color"}),(S=F.backgroundOptions)===null||S===void 0?void 0:S.round){var N=Math.min(F.width,F.height),z=document.createElementNS("http://www.w3.org/2000/svg","rect");this._backgroundClipPath=document.createElementNS("http://www.w3.org/2000/svg","clipPath"),this._backgroundClipPath.setAttribute("id","clip-path-background-color"),this._defs.appendChild(this._backgroundClipPath),z.setAttribute("x",String((F.width-N)/2)),z.setAttribute("y",String((F.height-N)/2)),z.setAttribute("width",String(N)),z.setAttribute("height",String(N)),z.setAttribute("rx",String(N/2*F.backgroundOptions.round)),this._backgroundClipPath.appendChild(z)}}},u.prototype.drawDots=function(l){var _,S,O=this;if(!this._qr)throw"QR code is not defined";var F=this._options,D=this._qr.getModuleCount();if(D>F.width||D>F.height)throw"The canvas is too small.";var Z=Math.min(F.width,F.height)-2*F.margin,N=(F.shape===Tt?Z/Math.sqrt(2):Z)/D,z=(F.width-D*N)/2,U=(F.height-D*N)/2,H=new K({svg:this._element,type:F.dotsOptions.type});this._dotsClipPath=document.createElementNS("http://www.w3.org/2000/svg","clipPath"),this._dotsClipPath.setAttribute("id","clip-path-dot-color"),this._defs.appendChild(this._dotsClipPath),this._createColor({options:(_=F.dotsOptions)===null||_===void 0?void 0:_.gradient,color:F.dotsOptions.color,additionalRotation:0,x:0,y:0,height:F.height,width:F.width,name:"dot-color"});for(var G=function(Zt){for(var xe=function(jt){return l&&!l(Zt,jt)?"continue":!((S=nt._qr)===null||S===void 0)&&S.isDark(Zt,jt)?(H.draw(z+Zt*N,U+jt*N,N,function(Xt,je){return!(Zt+Xt<0||jt+je<0||Zt+Xt>=D||jt+je>=D)&&!(l&&!l(Zt+Xt,jt+je))&&!!O._qr&&O._qr.isDark(Zt+Xt,jt+je)}),void(H._element&&nt._dotsClipPath&&nt._dotsClipPath.appendChild(H._element))):"continue"},re=0;re<D;re++)xe(re)},nt=this,pt=0;pt<D;pt++)G(pt);if(F.shape===Tt){var ot=Math.floor((Z/N-D)/2),xt=D+2*ot,qt=z-ot*N,Et=U-ot*N,zt=[],Ut=Math.floor(xt/2);for(pt=0;pt<xt;pt++){zt[pt]=[];for(var bt=0;bt<xt;bt++)pt>=ot-1&&pt<=xt-ot&&bt>=ot-1&&bt<=xt-ot||Math.sqrt((pt-Ut)*(pt-Ut)+(bt-Ut)*(bt-Ut))>Ut?zt[pt][bt]=0:zt[pt][bt]=this._qr.isDark(bt-2*ot<0?bt:bt>=D?bt-2*ot:bt-ot,pt-2*ot<0?pt:pt>=D?pt-2*ot:pt-ot)?1:0}var Ct=function(Zt){for(var xe=function(jt){if(!zt[Zt][jt])return"continue";H.draw(qt+Zt*N,Et+jt*N,N,function(Xt,je){var pe;return!!(!((pe=zt[Zt+Xt])===null||pe===void 0)&&pe[jt+je])}),H._element&&$t._dotsClipPath&&$t._dotsClipPath.appendChild(H._element)},re=0;re<xt;re++)xe(re)},$t=this;for(pt=0;pt<xt;pt++)Ct(pt)}},u.prototype.drawCorners=function(){var l=this;if(!this._qr)throw"QR code is not defined";var _=this._element,S=this._options;if(!_)throw"Element code is not defined";var O=this._qr.getModuleCount(),F=Math.min(S.width,S.height)-2*S.margin,D=(S.shape===Tt?F/Math.sqrt(2):F)/O,Z=7*D,N=3*D,z=(S.width-O*D)/2,U=(S.height-O*D)/2;[[0,0,0],[1,0,Math.PI/2],[0,1,-Math.PI/2]].forEach(function(H){var G,nt,pt,ot,xt,qt,Et,zt,Ut,bt,Ct,$t,Zt=H[0],xe=H[1],re=H[2],jt=z+Zt*D*(O-7),Xt=U+xe*D*(O-7),je=l._dotsClipPath,pe=l._dotsClipPath;if((((G=S.cornersSquareOptions)===null||G===void 0?void 0:G.gradient)||((nt=S.cornersSquareOptions)===null||nt===void 0?void 0:nt.color))&&((je=document.createElementNS("http://www.w3.org/2000/svg","clipPath")).setAttribute("id","clip-path-corners-square-color-".concat(Zt,"-").concat(xe)),l._defs.appendChild(je),l._cornersSquareClipPath=l._cornersDotClipPath=pe=je,l._createColor({options:(pt=S.cornersSquareOptions)===null||pt===void 0?void 0:pt.gradient,color:(ot=S.cornersSquareOptions)===null||ot===void 0?void 0:ot.color,additionalRotation:re,x:jt,y:Xt,height:Z,width:Z,name:"corners-square-color-".concat(Zt,"-").concat(xe)})),(xt=S.cornersSquareOptions)===null||xt===void 0?void 0:xt.type){var Ie=new ht({svg:l._element,type:S.cornersSquareOptions.type});Ie.draw(jt,Xt,Z,re),Ie._element&&je&&je.appendChild(Ie._element)}else for(var Ye=new K({svg:l._element,type:S.dotsOptions.type}),Xe=function(Ee){for(var _n=function(Ve){if(!(!((qt=Dt[Ee])===null||qt===void 0)&&qt[Ve]))return"continue";Ye.draw(jt+Ee*D,Xt+Ve*D,D,function(Rr,ze){var Ae;return!!(!((Ae=Dt[Ee+Rr])===null||Ae===void 0)&&Ae[Ve+ze])}),Ye._element&&je&&je.appendChild(Ye._element)},Ge=0;Ge<Dt[Ee].length;Ge++)_n(Ge)},Pe=0;Pe<Dt.length;Pe++)Xe(Pe);if((((Et=S.cornersDotOptions)===null||Et===void 0?void 0:Et.gradient)||((zt=S.cornersDotOptions)===null||zt===void 0?void 0:zt.color))&&((pe=document.createElementNS("http://www.w3.org/2000/svg","clipPath")).setAttribute("id","clip-path-corners-dot-color-".concat(Zt,"-").concat(xe)),l._defs.appendChild(pe),l._cornersDotClipPath=pe,l._createColor({options:(Ut=S.cornersDotOptions)===null||Ut===void 0?void 0:Ut.gradient,color:(bt=S.cornersDotOptions)===null||bt===void 0?void 0:bt.color,additionalRotation:re,x:jt+2*D,y:Xt+2*D,height:N,width:N,name:"corners-dot-color-".concat(Zt,"-").concat(xe)})),(Ct=S.cornersDotOptions)===null||Ct===void 0?void 0:Ct.type){var tn=new _t({svg:l._element,type:S.cornersDotOptions.type});tn.draw(jt+2*D,Xt+2*D,N,re),tn._element&&pe&&pe.appendChild(tn._element)}else{Ye=new K({svg:l._element,type:S.dotsOptions.type});var Je=function(Ee){for(var _n=function(Ve){if(!(!(($t=T[Ee])===null||$t===void 0)&&$t[Ve]))return"continue";Ye.draw(jt+Ee*D,Xt+Ve*D,D,function(Rr,ze){var Ae;return!!(!((Ae=T[Ee+Rr])===null||Ae===void 0)&&Ae[Ve+ze])}),Ye._element&&pe&&pe.appendChild(Ye._element)},Ge=0;Ge<T[Ee].length;Ge++)_n(Ge)};for(Pe=0;Pe<T.length;Pe++)Je(Pe)}})},u.prototype.loadImage=function(){var l=this;return new Promise(function(_,S){var O=l._options,F=new Image;if(!O.image)return S("Image is not defined");typeof O.imageOptions.crossOrigin=="string"&&(F.crossOrigin=O.imageOptions.crossOrigin),l._image=F,F.onload=function(){_()},F.src=O.image})},u.prototype.drawImage=function(l){var _=l.width,S=l.height,O=l.count,F=l.dotSize;return ee(this,void 0,void 0,function(){var D,Z,N,z,U,H,G,nt,pt;return Ft(this,function(ot){switch(ot.label){case 0:return D=this._options,Z=(D.width-O*F)/2,N=(D.height-O*F)/2,z=Z+D.imageOptions.margin+(O*F-_)/2,U=N+D.imageOptions.margin+(O*F-S)/2,H=_-2*D.imageOptions.margin,G=S-2*D.imageOptions.margin,(nt=document.createElementNS("http://www.w3.org/2000/svg","image")).setAttribute("x",String(z)),nt.setAttribute("y",String(U)),nt.setAttribute("width","".concat(H,"px")),nt.setAttribute("height","".concat(G,"px")),[4,A(D.image||"")];case 1:return pt=ot.sent(),nt.setAttribute("href",pt||""),this._element.appendChild(nt),[2]}})})},u.prototype._createColor=function(l){var _=l.options,S=l.color,O=l.additionalRotation,F=l.x,D=l.y,Z=l.height,N=l.width,z=l.name,U=N>Z?N:Z,H=document.createElementNS("http://www.w3.org/2000/svg","rect");if(H.setAttribute("x",String(F)),H.setAttribute("y",String(D)),H.setAttribute("height",String(Z)),H.setAttribute("width",String(N)),H.setAttribute("clip-path","url('#clip-path-".concat(z,"')")),_){var G;if(_.type==="radial")(G=document.createElementNS("http://www.w3.org/2000/svg","radialGradient")).setAttribute("id",z),G.setAttribute("gradientUnits","userSpaceOnUse"),G.setAttribute("fx",String(F+N/2)),G.setAttribute("fy",String(D+Z/2)),G.setAttribute("cx",String(F+N/2)),G.setAttribute("cy",String(D+Z/2)),G.setAttribute("r",String(U/2));else{var nt=((_.rotation||0)+O)%(2*Math.PI),pt=(nt+2*Math.PI)%(2*Math.PI),ot=F+N/2,xt=D+Z/2,qt=F+N/2,Et=D+Z/2;pt>=0&&pt<=.25*Math.PI||pt>1.75*Math.PI&&pt<=2*Math.PI?(ot-=N/2,xt-=Z/2*Math.tan(nt),qt+=N/2,Et+=Z/2*Math.tan(nt)):pt>.25*Math.PI&&pt<=.75*Math.PI?(xt-=Z/2,ot-=N/2/Math.tan(nt),Et+=Z/2,qt+=N/2/Math.tan(nt)):pt>.75*Math.PI&&pt<=1.25*Math.PI?(ot+=N/2,xt+=Z/2*Math.tan(nt),qt-=N/2,Et-=Z/2*Math.tan(nt)):pt>1.25*Math.PI&&pt<=1.75*Math.PI&&(xt+=Z/2,ot+=N/2/Math.tan(nt),Et-=Z/2,qt-=N/2/Math.tan(nt)),(G=document.createElementNS("http://www.w3.org/2000/svg","linearGradient")).setAttribute("id",z),G.setAttribute("gradientUnits","userSpaceOnUse"),G.setAttribute("x1",String(Math.round(ot))),G.setAttribute("y1",String(Math.round(xt))),G.setAttribute("x2",String(Math.round(qt))),G.setAttribute("y2",String(Math.round(Et)))}_.colorStops.forEach(function(zt){var Ut=zt.offset,bt=zt.color,Ct=document.createElementNS("http://www.w3.org/2000/svg","stop");Ct.setAttribute("offset","".concat(100*Ut,"%")),Ct.setAttribute("stop-color",bt),G.appendChild(Ct)}),H.setAttribute("fill","url('#".concat(z,"')")),this._defs.appendChild(G)}else S&&H.setAttribute("fill",S);this._element.appendChild(H)},u}(),x="canvas";for(var B={},v=0;v<=40;v++)B[v]=v;let y={type:x,shape:"square",width:300,height:300,data:"",margin:0,qrOptions:{typeNumber:B[0],mode:void 0,errorCorrectionLevel:"Q"},imageOptions:{hideBackgroundDots:!0,imageSize:.4,crossOrigin:void 0,margin:0},dotsOptions:{type:"square",color:"#000"},backgroundOptions:{round:0,color:"#fff"}};var a=function(){return a=Object.assign||function(u){for(var l,_=1,S=arguments.length;_<S;_++)for(var O in l=arguments[_])Object.prototype.hasOwnProperty.call(l,O)&&(u[O]=l[O]);return u},a.apply(this,arguments)};function c(u){var l=a({},u);if(!l.colorStops||!l.colorStops.length)throw"Field 'colorStops' is required in gradient";return l.rotation?l.rotation=Number(l.rotation):l.rotation=0,l.colorStops=l.colorStops.map(function(_){return a(a({},_),{offset:Number(_.offset)})}),l}function f(u){var l=a({},u);return l.width=Number(l.width),l.height=Number(l.height),l.margin=Number(l.margin),l.imageOptions=a(a({},l.imageOptions),{hideBackgroundDots:Boolean(l.imageOptions.hideBackgroundDots),imageSize:Number(l.imageOptions.imageSize),margin:Number(l.imageOptions.margin)}),l.margin>Math.min(l.width,l.height)&&(l.margin=Math.min(l.width,l.height)),l.dotsOptions=a({},l.dotsOptions),l.dotsOptions.gradient&&(l.dotsOptions.gradient=c(l.dotsOptions.gradient)),l.cornersSquareOptions&&(l.cornersSquareOptions=a({},l.cornersSquareOptions),l.cornersSquareOptions.gradient&&(l.cornersSquareOptions.gradient=c(l.cornersSquareOptions.gradient))),l.cornersDotOptions&&(l.cornersDotOptions=a({},l.cornersDotOptions),l.cornersDotOptions.gradient&&(l.cornersDotOptions.gradient=c(l.cornersDotOptions.gradient))),l.backgroundOptions&&(l.backgroundOptions=a({},l.backgroundOptions),l.backgroundOptions.gradient&&(l.backgroundOptions.gradient=c(l.backgroundOptions.gradient))),l}var p=e(192),m=e.n(p),b=function(u,l,_,S){return new(_||(_=Promise))(function(O,F){function D(z){try{N(S.next(z))}catch(U){F(U)}}function Z(z){try{N(S.throw(z))}catch(U){F(U)}}function N(z){var U;z.done?O(z.value):(U=z.value,U instanceof _?U:new _(function(H){H(U)})).then(D,Z)}N((S=S.apply(u,l||[])).next())})},P=function(u,l){var _,S,O,F,D={label:0,sent:function(){if(1&O[0])throw O[1];return O[1]},trys:[],ops:[]};return F={next:Z(0),throw:Z(1),return:Z(2)},typeof Symbol=="function"&&(F[Symbol.iterator]=function(){return this}),F;function Z(N){return function(z){return function(U){if(_)throw new TypeError("Generator is already executing.");for(;D;)try{if(_=1,S&&(O=2&U[0]?S.return:U[0]?S.throw||((O=S.return)&&O.call(S),0):S.next)&&!(O=O.call(S,U[1])).done)return O;switch(S=0,O&&(U=[2&U[0],O.value]),U[0]){case 0:case 1:O=U;break;case 4:return D.label++,{value:U[1],done:!1};case 5:D.label++,S=U[1],U=[0];continue;case 7:U=D.ops.pop(),D.trys.pop();continue;default:if(!((O=(O=D.trys).length>0&&O[O.length-1])||U[0]!==6&&U[0]!==2)){D=0;continue}if(U[0]===3&&(!O||U[1]>O[0]&&U[1]<O[3])){D.label=U[1];break}if(U[0]===6&&D.label<O[1]){D.label=O[1],O=U;break}if(O&&D.label<O[2]){D.label=O[2],D.ops.push(U);break}O[2]&&D.ops.pop(),D.trys.pop();continue}U=l.call(u,D)}catch(H){U=[6,H],S=0}finally{_=O=0}if(5&U[0])throw U[1];return{value:U[0]?U[1]:void 0,done:!0}}([N,z])}}};let E=function(){function u(l){this._options=l?f(d(y,l)):y,this.update()}return u._clearContainer=function(l){l&&(l.innerHTML="")},u.prototype._setupSvg=function(){var l=this;if(this._qr){var _=new C(this._options);this._svg=_.getElement(),this._svgDrawingPromise=_.drawQR(this._qr).then(function(){var S;l._svg&&((S=l._extension)===null||S===void 0||S.call(l,_.getElement(),l._options))})}},u.prototype._setupCanvas=function(){var l,_=this;this._qr&&(this._canvas=document.createElement("canvas"),this._canvas.width=this._options.width,this._canvas.height=this._options.height,this._setupSvg(),this._canvasDrawingPromise=(l=this._svgDrawingPromise)===null||l===void 0?void 0:l.then(function(){if(_._svg){var S=_._svg,O=new XMLSerializer().serializeToString(S),F="data:image/svg+xml;base64,"+btoa(O),D=new Image;return new Promise(function(Z){D.onload=function(){var N,z;(z=(N=_._canvas)===null||N===void 0?void 0:N.getContext("2d"))===null||z===void 0||z.drawImage(D,0,0),Z()},D.src=F})}}))},u.prototype._getElement=function(l){return l===void 0&&(l="png"),b(this,void 0,void 0,function(){return P(this,function(_){switch(_.label){case 0:if(!this._qr)throw"QR code is empty";return l.toLowerCase()!=="svg"?[3,2]:(this._svg&&this._svgDrawingPromise||this._setupSvg(),[4,this._svgDrawingPromise]);case 1:return _.sent(),[2,this._svg];case 2:return this._canvas&&this._canvasDrawingPromise||this._setupCanvas(),[4,this._canvasDrawingPromise];case 3:return _.sent(),[2,this._canvas]}})})},u.prototype.update=function(l){u._clearContainer(this._container),this._options=l?f(d(this._options,l)):this._options,this._options.data&&(this._qr=m()(this._options.qrOptions.typeNumber,this._options.qrOptions.errorCorrectionLevel),this._qr.addData(this._options.data,this._options.qrOptions.mode||function(_){switch(!0){case/^[0-9]*$/.test(_):return"Numeric";case/^[0-9A-Z $%*+\-./:]*$/.test(_):return"Alphanumeric";default:return"Byte"}}(this._options.data)),this._qr.make(),this._options.type===x?this._setupCanvas():this._setupSvg(),this.append(this._container))},u.prototype.append=function(l){if(l){if(typeof l.appendChild!="function")throw"Container should be a single DOM node";this._options.type===x?this._canvas&&l.appendChild(this._canvas):this._svg&&l.appendChild(this._svg),this._container=l}},u.prototype.applyExtension=function(l){if(!l)throw"Extension function should be defined.";this._extension=l,this.update()},u.prototype.deleteExtension=function(){this._extension=void 0,this.update()},u.prototype.getRawData=function(l){return l===void 0&&(l="png"),b(this,void 0,void 0,function(){var _,S,O;return P(this,function(F){switch(F.label){case 0:if(!this._qr)throw"QR code is empty";return[4,this._getElement(l)];case 1:return(_=F.sent())?l.toLowerCase()==="svg"?(S=new XMLSerializer,O=S.serializeToString(_),[2,new Blob([`<?xml version="1.0" standalone="no"?>\r
`+O],{type:"image/svg+xml"})]):[2,new Promise(function(D){return _.toBlob(D,"image/".concat(l),1)})]:[2,null]}})})},u.prototype.download=function(l){return b(this,void 0,void 0,function(){var _,S,O,F,D;return P(this,function(Z){switch(Z.label){case 0:if(!this._qr)throw"QR code is empty";return _="png",S="qr",typeof l=="string"?(_=l,console.warn("Extension is deprecated as argument for 'download' method, please pass object { name: '...', extension: '...' } as argument")):typeof l=="object"&&l!==null&&(l.name&&(S=l.name),l.extension&&(_=l.extension)),[4,this._getElement(_)];case 1:return(O=Z.sent())?(_.toLowerCase()==="svg"?(F=new XMLSerializer,D=`<?xml version="1.0" standalone="no"?>\r
`+(D=F.serializeToString(O)),g("data:image/svg+xml;charset=utf-8,"+encodeURIComponent(D),"".concat(S,".svg"))):g(O.toDataURL("image/".concat(_)),"".concat(S,".").concat(_)),[2]):[2]}})})},u}()})(),n.default})()})});var rd=_e((Kn,ed)=>{var td=typeof self<"u"?self:Kn,fc=function(){function r(){this.fetch=!1,this.DOMException=td.DOMException}return r.prototype=td,new r}();(function(r){var t=function(e){var n={searchParams:"URLSearchParams"in r,iterable:"Symbol"in r&&"iterator"in Symbol,blob:"FileReader"in r&&"Blob"in r&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in r,arrayBuffer:"ArrayBuffer"in r};function i(x){return x&&DataView.prototype.isPrototypeOf(x)}if(n.arrayBuffer)var o=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],s=ArrayBuffer.isView||function(x){return x&&o.indexOf(Object.prototype.toString.call(x))>-1};function d(x){if(typeof x!="string"&&(x=String(x)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(x))throw new TypeError("Invalid character in header field name");return x.toLowerCase()}function g(x){return typeof x!="string"&&(x=String(x)),x}function A(x){var B={next:function(){var v=x.shift();return{done:v===void 0,value:v}}};return n.iterable&&(B[Symbol.iterator]=function(){return B}),B}function L(x){this.map={},x instanceof L?x.forEach(function(B,v){this.append(v,B)},this):Array.isArray(x)?x.forEach(function(B){this.append(B[0],B[1])},this):x&&Object.getOwnPropertyNames(x).forEach(function(B){this.append(B,x[B])},this)}L.prototype.append=function(x,B){x=d(x),B=g(B);var v=this.map[x];this.map[x]=v?v+", "+B:B},L.prototype.delete=function(x){delete this.map[d(x)]},L.prototype.get=function(x){return x=d(x),this.has(x)?this.map[x]:null},L.prototype.has=function(x){return this.map.hasOwnProperty(d(x))},L.prototype.set=function(x,B){this.map[d(x)]=g(B)},L.prototype.forEach=function(x,B){for(var v in this.map)this.map.hasOwnProperty(v)&&x.call(B,this.map[v],v,this)},L.prototype.keys=function(){var x=[];return this.forEach(function(B,v){x.push(v)}),A(x)},L.prototype.values=function(){var x=[];return this.forEach(function(B){x.push(B)}),A(x)},L.prototype.entries=function(){var x=[];return this.forEach(function(B,v){x.push([v,B])}),A(x)},n.iterable&&(L.prototype[Symbol.iterator]=L.prototype.entries);function M(x){if(x.bodyUsed)return Promise.reject(new TypeError("Already read"));x.bodyUsed=!0}function $(x){return new Promise(function(B,v){x.onload=function(){B(x.result)},x.onerror=function(){v(x.error)}})}function K(x){var B=new FileReader,v=$(B);return B.readAsArrayBuffer(x),v}function et(x){var B=new FileReader,v=$(B);return B.readAsText(x),v}function tt(x){for(var B=new Uint8Array(x),v=new Array(B.length),y=0;y<B.length;y++)v[y]=String.fromCharCode(B[y]);return v.join("")}function ht(x){if(x.slice)return x.slice(0);var B=new Uint8Array(x.byteLength);return B.set(new Uint8Array(x)),B.buffer}function mt(){return this.bodyUsed=!1,this._initBody=function(x){this._bodyInit=x,x?typeof x=="string"?this._bodyText=x:n.blob&&Blob.prototype.isPrototypeOf(x)?this._bodyBlob=x:n.formData&&FormData.prototype.isPrototypeOf(x)?this._bodyFormData=x:n.searchParams&&URLSearchParams.prototype.isPrototypeOf(x)?this._bodyText=x.toString():n.arrayBuffer&&n.blob&&i(x)?(this._bodyArrayBuffer=ht(x.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):n.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(x)||s(x))?this._bodyArrayBuffer=ht(x):this._bodyText=x=Object.prototype.toString.call(x):this._bodyText="",this.headers.get("content-type")||(typeof x=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n.searchParams&&URLSearchParams.prototype.isPrototypeOf(x)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},n.blob&&(this.blob=function(){var x=M(this);if(x)return x;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?M(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(K)}),this.text=function(){var x=M(this);if(x)return x;if(this._bodyBlob)return et(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(tt(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},n.formData&&(this.formData=function(){return this.text().then(ee)}),this.json=function(){return this.text().then(JSON.parse)},this}var Q=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function _t(x){var B=x.toUpperCase();return Q.indexOf(B)>-1?B:x}function Tt(x,B){B=B||{};var v=B.body;if(x instanceof Tt){if(x.bodyUsed)throw new TypeError("Already read");this.url=x.url,this.credentials=x.credentials,B.headers||(this.headers=new L(x.headers)),this.method=x.method,this.mode=x.mode,this.signal=x.signal,!v&&x._bodyInit!=null&&(v=x._bodyInit,x.bodyUsed=!0)}else this.url=String(x);if(this.credentials=B.credentials||this.credentials||"same-origin",(B.headers||!this.headers)&&(this.headers=new L(B.headers)),this.method=_t(B.method||this.method||"GET"),this.mode=B.mode||this.mode||null,this.signal=B.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&v)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(v)}Tt.prototype.clone=function(){return new Tt(this,{body:this._bodyInit})};function ee(x){var B=new FormData;return x.trim().split("&").forEach(function(v){if(v){var y=v.split("="),a=y.shift().replace(/\+/g," "),c=y.join("=").replace(/\+/g," ");B.append(decodeURIComponent(a),decodeURIComponent(c))}}),B}function Ft(x){var B=new L,v=x.replace(/\r?\n[\t ]+/g," ");return v.split(/\r?\n/).forEach(function(y){var a=y.split(":"),c=a.shift().trim();if(c){var f=a.join(":").trim();B.append(c,f)}}),B}mt.call(Tt.prototype);function Dt(x,B){B||(B={}),this.type="default",this.status=B.status===void 0?200:B.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in B?B.statusText:"OK",this.headers=new L(B.headers),this.url=B.url||"",this._initBody(x)}mt.call(Dt.prototype),Dt.prototype.clone=function(){return new Dt(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new L(this.headers),url:this.url})},Dt.error=function(){var x=new Dt(null,{status:0,statusText:""});return x.type="error",x};var T=[301,302,303,307,308];Dt.redirect=function(x,B){if(T.indexOf(B)===-1)throw new RangeError("Invalid status code");return new Dt(null,{status:B,headers:{location:x}})},e.DOMException=r.DOMException;try{new e.DOMException}catch{e.DOMException=function(B,v){this.message=B,this.name=v;var y=Error(B);this.stack=y.stack},e.DOMException.prototype=Object.create(Error.prototype),e.DOMException.prototype.constructor=e.DOMException}function C(x,B){return new Promise(function(v,y){var a=new Tt(x,B);if(a.signal&&a.signal.aborted)return y(new e.DOMException("Aborted","AbortError"));var c=new XMLHttpRequest;function f(){c.abort()}c.onload=function(){var p={status:c.status,statusText:c.statusText,headers:Ft(c.getAllResponseHeaders()||"")};p.url="responseURL"in c?c.responseURL:p.headers.get("X-Request-URL");var m="response"in c?c.response:c.responseText;v(new Dt(m,p))},c.onerror=function(){y(new TypeError("Network request failed"))},c.ontimeout=function(){y(new TypeError("Network request failed"))},c.onabort=function(){y(new e.DOMException("Aborted","AbortError"))},c.open(a.method,a.url,!0),a.credentials==="include"?c.withCredentials=!0:a.credentials==="omit"&&(c.withCredentials=!1),"responseType"in c&&n.blob&&(c.responseType="blob"),a.headers.forEach(function(p,m){c.setRequestHeader(m,p)}),a.signal&&(a.signal.addEventListener("abort",f),c.onreadystatechange=function(){c.readyState===4&&a.signal.removeEventListener("abort",f)}),c.send(typeof a._bodyInit>"u"?null:a._bodyInit)})}return C.polyfill=!0,r.fetch||(r.fetch=C,r.Headers=L,r.Request=Tt,r.Response=Dt),e.Headers=L,e.Request=Tt,e.Response=Dt,e.fetch=C,Object.defineProperty(e,"__esModule",{value:!0}),e}({})})(fc);fc.fetch.ponyfill=!0;delete fc.fetch.polyfill;var go=fc;Kn=go.fetch;Kn.default=go.fetch;Kn.fetch=go.fetch;Kn.Headers=go.Headers;Kn.Request=go.Request;Kn.Response=go.Response;ed.exports=Kn});var ad=_e((Ek,lc)=>{(function(r){"use strict";var t=function(w){var I,k=new Float64Array(16);if(w)for(I=0;I<w.length;I++)k[I]=w[I];return k},e=function(){throw new Error("no PRNG")},n=new Uint8Array(16),i=new Uint8Array(32);i[0]=9;var o=t(),s=t([1]),d=t([56129,1]),g=t([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),A=t([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),L=t([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),M=t([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),$=t([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function K(w,I,k,h){w[I]=k>>24&255,w[I+1]=k>>16&255,w[I+2]=k>>8&255,w[I+3]=k&255,w[I+4]=h>>24&255,w[I+5]=h>>16&255,w[I+6]=h>>8&255,w[I+7]=h&255}function et(w,I,k,h,R){var j,V=0;for(j=0;j<R;j++)V|=w[I+j]^k[h+j];return(1&V-1>>>8)-1}function tt(w,I,k,h){return et(w,I,k,h,16)}function ht(w,I,k,h){return et(w,I,k,h,32)}function mt(w,I,k,h){for(var R=h[0]&255|(h[1]&255)<<8|(h[2]&255)<<16|(h[3]&255)<<24,j=k[0]&255|(k[1]&255)<<8|(k[2]&255)<<16|(k[3]&255)<<24,V=k[4]&255|(k[5]&255)<<8|(k[6]&255)<<16|(k[7]&255)<<24,rt=k[8]&255|(k[9]&255)<<8|(k[10]&255)<<16|(k[11]&255)<<24,ft=k[12]&255|(k[13]&255)<<8|(k[14]&255)<<16|(k[15]&255)<<24,Ot=h[4]&255|(h[5]&255)<<8|(h[6]&255)<<16|(h[7]&255)<<24,gt=I[0]&255|(I[1]&255)<<8|(I[2]&255)<<16|(I[3]&255)<<24,Wt=I[4]&255|(I[5]&255)<<8|(I[6]&255)<<16|(I[7]&255)<<24,Bt=I[8]&255|(I[9]&255)<<8|(I[10]&255)<<16|(I[11]&255)<<24,Yt=I[12]&255|(I[13]&255)<<8|(I[14]&255)<<16|(I[15]&255)<<24,Jt=h[8]&255|(h[9]&255)<<8|(h[10]&255)<<16|(h[11]&255)<<24,fe=k[16]&255|(k[17]&255)<<8|(k[18]&255)<<16|(k[19]&255)<<24,ce=k[20]&255|(k[21]&255)<<8|(k[22]&255)<<16|(k[23]&255)<<24,Qt=k[24]&255|(k[25]&255)<<8|(k[26]&255)<<16|(k[27]&255)<<24,ne=k[28]&255|(k[29]&255)<<8|(k[30]&255)<<16|(k[31]&255)<<24,te=h[12]&255|(h[13]&255)<<8|(h[14]&255)<<16|(h[15]&255)<<24,Rt=R,Nt=j,It=V,Mt=rt,Lt=ft,vt=Ot,X=gt,J=Wt,lt=Bt,ct=Yt,ut=Jt,yt=fe,Gt=ce,ge=Qt,we=ne,me=te,q,ke=0;ke<20;ke+=2)q=Rt+Gt|0,Lt^=q<<7|q>>>32-7,q=Lt+Rt|0,lt^=q<<9|q>>>32-9,q=lt+Lt|0,Gt^=q<<13|q>>>32-13,q=Gt+lt|0,Rt^=q<<18|q>>>32-18,q=vt+Nt|0,ct^=q<<7|q>>>32-7,q=ct+vt|0,ge^=q<<9|q>>>32-9,q=ge+ct|0,Nt^=q<<13|q>>>32-13,q=Nt+ge|0,vt^=q<<18|q>>>32-18,q=ut+X|0,we^=q<<7|q>>>32-7,q=we+ut|0,It^=q<<9|q>>>32-9,q=It+we|0,X^=q<<13|q>>>32-13,q=X+It|0,ut^=q<<18|q>>>32-18,q=me+yt|0,Mt^=q<<7|q>>>32-7,q=Mt+me|0,J^=q<<9|q>>>32-9,q=J+Mt|0,yt^=q<<13|q>>>32-13,q=yt+J|0,me^=q<<18|q>>>32-18,q=Rt+Mt|0,Nt^=q<<7|q>>>32-7,q=Nt+Rt|0,It^=q<<9|q>>>32-9,q=It+Nt|0,Mt^=q<<13|q>>>32-13,q=Mt+It|0,Rt^=q<<18|q>>>32-18,q=vt+Lt|0,X^=q<<7|q>>>32-7,q=X+vt|0,J^=q<<9|q>>>32-9,q=J+X|0,Lt^=q<<13|q>>>32-13,q=Lt+J|0,vt^=q<<18|q>>>32-18,q=ut+ct|0,yt^=q<<7|q>>>32-7,q=yt+ut|0,lt^=q<<9|q>>>32-9,q=lt+yt|0,ct^=q<<13|q>>>32-13,q=ct+lt|0,ut^=q<<18|q>>>32-18,q=me+we|0,Gt^=q<<7|q>>>32-7,q=Gt+me|0,ge^=q<<9|q>>>32-9,q=ge+Gt|0,we^=q<<13|q>>>32-13,q=we+ge|0,me^=q<<18|q>>>32-18;Rt=Rt+R|0,Nt=Nt+j|0,It=It+V|0,Mt=Mt+rt|0,Lt=Lt+ft|0,vt=vt+Ot|0,X=X+gt|0,J=J+Wt|0,lt=lt+Bt|0,ct=ct+Yt|0,ut=ut+Jt|0,yt=yt+fe|0,Gt=Gt+ce|0,ge=ge+Qt|0,we=we+ne|0,me=me+te|0,w[0]=Rt>>>0&255,w[1]=Rt>>>8&255,w[2]=Rt>>>16&255,w[3]=Rt>>>24&255,w[4]=Nt>>>0&255,w[5]=Nt>>>8&255,w[6]=Nt>>>16&255,w[7]=Nt>>>24&255,w[8]=It>>>0&255,w[9]=It>>>8&255,w[10]=It>>>16&255,w[11]=It>>>24&255,w[12]=Mt>>>0&255,w[13]=Mt>>>8&255,w[14]=Mt>>>16&255,w[15]=Mt>>>24&255,w[16]=Lt>>>0&255,w[17]=Lt>>>8&255,w[18]=Lt>>>16&255,w[19]=Lt>>>24&255,w[20]=vt>>>0&255,w[21]=vt>>>8&255,w[22]=vt>>>16&255,w[23]=vt>>>24&255,w[24]=X>>>0&255,w[25]=X>>>8&255,w[26]=X>>>16&255,w[27]=X>>>24&255,w[28]=J>>>0&255,w[29]=J>>>8&255,w[30]=J>>>16&255,w[31]=J>>>24&255,w[32]=lt>>>0&255,w[33]=lt>>>8&255,w[34]=lt>>>16&255,w[35]=lt>>>24&255,w[36]=ct>>>0&255,w[37]=ct>>>8&255,w[38]=ct>>>16&255,w[39]=ct>>>24&255,w[40]=ut>>>0&255,w[41]=ut>>>8&255,w[42]=ut>>>16&255,w[43]=ut>>>24&255,w[44]=yt>>>0&255,w[45]=yt>>>8&255,w[46]=yt>>>16&255,w[47]=yt>>>24&255,w[48]=Gt>>>0&255,w[49]=Gt>>>8&255,w[50]=Gt>>>16&255,w[51]=Gt>>>24&255,w[52]=ge>>>0&255,w[53]=ge>>>8&255,w[54]=ge>>>16&255,w[55]=ge>>>24&255,w[56]=we>>>0&255,w[57]=we>>>8&255,w[58]=we>>>16&255,w[59]=we>>>24&255,w[60]=me>>>0&255,w[61]=me>>>8&255,w[62]=me>>>16&255,w[63]=me>>>24&255}function Q(w,I,k,h){for(var R=h[0]&255|(h[1]&255)<<8|(h[2]&255)<<16|(h[3]&255)<<24,j=k[0]&255|(k[1]&255)<<8|(k[2]&255)<<16|(k[3]&255)<<24,V=k[4]&255|(k[5]&255)<<8|(k[6]&255)<<16|(k[7]&255)<<24,rt=k[8]&255|(k[9]&255)<<8|(k[10]&255)<<16|(k[11]&255)<<24,ft=k[12]&255|(k[13]&255)<<8|(k[14]&255)<<16|(k[15]&255)<<24,Ot=h[4]&255|(h[5]&255)<<8|(h[6]&255)<<16|(h[7]&255)<<24,gt=I[0]&255|(I[1]&255)<<8|(I[2]&255)<<16|(I[3]&255)<<24,Wt=I[4]&255|(I[5]&255)<<8|(I[6]&255)<<16|(I[7]&255)<<24,Bt=I[8]&255|(I[9]&255)<<8|(I[10]&255)<<16|(I[11]&255)<<24,Yt=I[12]&255|(I[13]&255)<<8|(I[14]&255)<<16|(I[15]&255)<<24,Jt=h[8]&255|(h[9]&255)<<8|(h[10]&255)<<16|(h[11]&255)<<24,fe=k[16]&255|(k[17]&255)<<8|(k[18]&255)<<16|(k[19]&255)<<24,ce=k[20]&255|(k[21]&255)<<8|(k[22]&255)<<16|(k[23]&255)<<24,Qt=k[24]&255|(k[25]&255)<<8|(k[26]&255)<<16|(k[27]&255)<<24,ne=k[28]&255|(k[29]&255)<<8|(k[30]&255)<<16|(k[31]&255)<<24,te=h[12]&255|(h[13]&255)<<8|(h[14]&255)<<16|(h[15]&255)<<24,Rt=R,Nt=j,It=V,Mt=rt,Lt=ft,vt=Ot,X=gt,J=Wt,lt=Bt,ct=Yt,ut=Jt,yt=fe,Gt=ce,ge=Qt,we=ne,me=te,q,ke=0;ke<20;ke+=2)q=Rt+Gt|0,Lt^=q<<7|q>>>32-7,q=Lt+Rt|0,lt^=q<<9|q>>>32-9,q=lt+Lt|0,Gt^=q<<13|q>>>32-13,q=Gt+lt|0,Rt^=q<<18|q>>>32-18,q=vt+Nt|0,ct^=q<<7|q>>>32-7,q=ct+vt|0,ge^=q<<9|q>>>32-9,q=ge+ct|0,Nt^=q<<13|q>>>32-13,q=Nt+ge|0,vt^=q<<18|q>>>32-18,q=ut+X|0,we^=q<<7|q>>>32-7,q=we+ut|0,It^=q<<9|q>>>32-9,q=It+we|0,X^=q<<13|q>>>32-13,q=X+It|0,ut^=q<<18|q>>>32-18,q=me+yt|0,Mt^=q<<7|q>>>32-7,q=Mt+me|0,J^=q<<9|q>>>32-9,q=J+Mt|0,yt^=q<<13|q>>>32-13,q=yt+J|0,me^=q<<18|q>>>32-18,q=Rt+Mt|0,Nt^=q<<7|q>>>32-7,q=Nt+Rt|0,It^=q<<9|q>>>32-9,q=It+Nt|0,Mt^=q<<13|q>>>32-13,q=Mt+It|0,Rt^=q<<18|q>>>32-18,q=vt+Lt|0,X^=q<<7|q>>>32-7,q=X+vt|0,J^=q<<9|q>>>32-9,q=J+X|0,Lt^=q<<13|q>>>32-13,q=Lt+J|0,vt^=q<<18|q>>>32-18,q=ut+ct|0,yt^=q<<7|q>>>32-7,q=yt+ut|0,lt^=q<<9|q>>>32-9,q=lt+yt|0,ct^=q<<13|q>>>32-13,q=ct+lt|0,ut^=q<<18|q>>>32-18,q=me+we|0,Gt^=q<<7|q>>>32-7,q=Gt+me|0,ge^=q<<9|q>>>32-9,q=ge+Gt|0,we^=q<<13|q>>>32-13,q=we+ge|0,me^=q<<18|q>>>32-18;w[0]=Rt>>>0&255,w[1]=Rt>>>8&255,w[2]=Rt>>>16&255,w[3]=Rt>>>24&255,w[4]=vt>>>0&255,w[5]=vt>>>8&255,w[6]=vt>>>16&255,w[7]=vt>>>24&255,w[8]=ut>>>0&255,w[9]=ut>>>8&255,w[10]=ut>>>16&255,w[11]=ut>>>24&255,w[12]=me>>>0&255,w[13]=me>>>8&255,w[14]=me>>>16&255,w[15]=me>>>24&255,w[16]=X>>>0&255,w[17]=X>>>8&255,w[18]=X>>>16&255,w[19]=X>>>24&255,w[20]=J>>>0&255,w[21]=J>>>8&255,w[22]=J>>>16&255,w[23]=J>>>24&255,w[24]=lt>>>0&255,w[25]=lt>>>8&255,w[26]=lt>>>16&255,w[27]=lt>>>24&255,w[28]=ct>>>0&255,w[29]=ct>>>8&255,w[30]=ct>>>16&255,w[31]=ct>>>24&255}function _t(w,I,k,h){mt(w,I,k,h)}function Tt(w,I,k,h){Q(w,I,k,h)}var ee=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function Ft(w,I,k,h,R,j,V){var rt=new Uint8Array(16),ft=new Uint8Array(64),Ot,gt;for(gt=0;gt<16;gt++)rt[gt]=0;for(gt=0;gt<8;gt++)rt[gt]=j[gt];for(;R>=64;){for(_t(ft,rt,V,ee),gt=0;gt<64;gt++)w[I+gt]=k[h+gt]^ft[gt];for(Ot=1,gt=8;gt<16;gt++)Ot=Ot+(rt[gt]&255)|0,rt[gt]=Ot&255,Ot>>>=8;R-=64,I+=64,h+=64}if(R>0)for(_t(ft,rt,V,ee),gt=0;gt<R;gt++)w[I+gt]=k[h+gt]^ft[gt];return 0}function Dt(w,I,k,h,R){var j=new Uint8Array(16),V=new Uint8Array(64),rt,ft;for(ft=0;ft<16;ft++)j[ft]=0;for(ft=0;ft<8;ft++)j[ft]=h[ft];for(;k>=64;){for(_t(V,j,R,ee),ft=0;ft<64;ft++)w[I+ft]=V[ft];for(rt=1,ft=8;ft<16;ft++)rt=rt+(j[ft]&255)|0,j[ft]=rt&255,rt>>>=8;k-=64,I+=64}if(k>0)for(_t(V,j,R,ee),ft=0;ft<k;ft++)w[I+ft]=V[ft];return 0}function T(w,I,k,h,R){var j=new Uint8Array(32);Tt(j,h,R,ee);for(var V=new Uint8Array(8),rt=0;rt<8;rt++)V[rt]=h[rt+16];return Dt(w,I,k,V,j)}function C(w,I,k,h,R,j,V){var rt=new Uint8Array(32);Tt(rt,j,V,ee);for(var ft=new Uint8Array(8),Ot=0;Ot<8;Ot++)ft[Ot]=j[Ot+16];return Ft(w,I,k,h,R,ft,rt)}var x=function(w){this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0;var I,k,h,R,j,V,rt,ft;I=w[0]&255|(w[1]&255)<<8,this.r[0]=I&8191,k=w[2]&255|(w[3]&255)<<8,this.r[1]=(I>>>13|k<<3)&8191,h=w[4]&255|(w[5]&255)<<8,this.r[2]=(k>>>10|h<<6)&7939,R=w[6]&255|(w[7]&255)<<8,this.r[3]=(h>>>7|R<<9)&8191,j=w[8]&255|(w[9]&255)<<8,this.r[4]=(R>>>4|j<<12)&255,this.r[5]=j>>>1&8190,V=w[10]&255|(w[11]&255)<<8,this.r[6]=(j>>>14|V<<2)&8191,rt=w[12]&255|(w[13]&255)<<8,this.r[7]=(V>>>11|rt<<5)&8065,ft=w[14]&255|(w[15]&255)<<8,this.r[8]=(rt>>>8|ft<<8)&8191,this.r[9]=ft>>>5&127,this.pad[0]=w[16]&255|(w[17]&255)<<8,this.pad[1]=w[18]&255|(w[19]&255)<<8,this.pad[2]=w[20]&255|(w[21]&255)<<8,this.pad[3]=w[22]&255|(w[23]&255)<<8,this.pad[4]=w[24]&255|(w[25]&255)<<8,this.pad[5]=w[26]&255|(w[27]&255)<<8,this.pad[6]=w[28]&255|(w[29]&255)<<8,this.pad[7]=w[30]&255|(w[31]&255)<<8};x.prototype.blocks=function(w,I,k){for(var h=this.fin?0:2048,R,j,V,rt,ft,Ot,gt,Wt,Bt,Yt,Jt,fe,ce,Qt,ne,te,Rt,Nt,It,Mt=this.h[0],Lt=this.h[1],vt=this.h[2],X=this.h[3],J=this.h[4],lt=this.h[5],ct=this.h[6],ut=this.h[7],yt=this.h[8],Gt=this.h[9],ge=this.r[0],we=this.r[1],me=this.r[2],q=this.r[3],ke=this.r[4],Oe=this.r[5],Ce=this.r[6],be=this.r[7],Be=this.r[8],Re=this.r[9];k>=16;)R=w[I+0]&255|(w[I+1]&255)<<8,Mt+=R&8191,j=w[I+2]&255|(w[I+3]&255)<<8,Lt+=(R>>>13|j<<3)&8191,V=w[I+4]&255|(w[I+5]&255)<<8,vt+=(j>>>10|V<<6)&8191,rt=w[I+6]&255|(w[I+7]&255)<<8,X+=(V>>>7|rt<<9)&8191,ft=w[I+8]&255|(w[I+9]&255)<<8,J+=(rt>>>4|ft<<12)&8191,lt+=ft>>>1&8191,Ot=w[I+10]&255|(w[I+11]&255)<<8,ct+=(ft>>>14|Ot<<2)&8191,gt=w[I+12]&255|(w[I+13]&255)<<8,ut+=(Ot>>>11|gt<<5)&8191,Wt=w[I+14]&255|(w[I+15]&255)<<8,yt+=(gt>>>8|Wt<<8)&8191,Gt+=Wt>>>5|h,Bt=0,Yt=Bt,Yt+=Mt*ge,Yt+=Lt*(5*Re),Yt+=vt*(5*Be),Yt+=X*(5*be),Yt+=J*(5*Ce),Bt=Yt>>>13,Yt&=8191,Yt+=lt*(5*Oe),Yt+=ct*(5*ke),Yt+=ut*(5*q),Yt+=yt*(5*me),Yt+=Gt*(5*we),Bt+=Yt>>>13,Yt&=8191,Jt=Bt,Jt+=Mt*we,Jt+=Lt*ge,Jt+=vt*(5*Re),Jt+=X*(5*Be),Jt+=J*(5*be),Bt=Jt>>>13,Jt&=8191,Jt+=lt*(5*Ce),Jt+=ct*(5*Oe),Jt+=ut*(5*ke),Jt+=yt*(5*q),Jt+=Gt*(5*me),Bt+=Jt>>>13,Jt&=8191,fe=Bt,fe+=Mt*me,fe+=Lt*we,fe+=vt*ge,fe+=X*(5*Re),fe+=J*(5*Be),Bt=fe>>>13,fe&=8191,fe+=lt*(5*be),fe+=ct*(5*Ce),fe+=ut*(5*Oe),fe+=yt*(5*ke),fe+=Gt*(5*q),Bt+=fe>>>13,fe&=8191,ce=Bt,ce+=Mt*q,ce+=Lt*me,ce+=vt*we,ce+=X*ge,ce+=J*(5*Re),Bt=ce>>>13,ce&=8191,ce+=lt*(5*Be),ce+=ct*(5*be),ce+=ut*(5*Ce),ce+=yt*(5*Oe),ce+=Gt*(5*ke),Bt+=ce>>>13,ce&=8191,Qt=Bt,Qt+=Mt*ke,Qt+=Lt*q,Qt+=vt*me,Qt+=X*we,Qt+=J*ge,Bt=Qt>>>13,Qt&=8191,Qt+=lt*(5*Re),Qt+=ct*(5*Be),Qt+=ut*(5*be),Qt+=yt*(5*Ce),Qt+=Gt*(5*Oe),Bt+=Qt>>>13,Qt&=8191,ne=Bt,ne+=Mt*Oe,ne+=Lt*ke,ne+=vt*q,ne+=X*me,ne+=J*we,Bt=ne>>>13,ne&=8191,ne+=lt*ge,ne+=ct*(5*Re),ne+=ut*(5*Be),ne+=yt*(5*be),ne+=Gt*(5*Ce),Bt+=ne>>>13,ne&=8191,te=Bt,te+=Mt*Ce,te+=Lt*Oe,te+=vt*ke,te+=X*q,te+=J*me,Bt=te>>>13,te&=8191,te+=lt*we,te+=ct*ge,te+=ut*(5*Re),te+=yt*(5*Be),te+=Gt*(5*be),Bt+=te>>>13,te&=8191,Rt=Bt,Rt+=Mt*be,Rt+=Lt*Ce,Rt+=vt*Oe,Rt+=X*ke,Rt+=J*q,Bt=Rt>>>13,Rt&=8191,Rt+=lt*me,Rt+=ct*we,Rt+=ut*ge,Rt+=yt*(5*Re),Rt+=Gt*(5*Be),Bt+=Rt>>>13,Rt&=8191,Nt=Bt,Nt+=Mt*Be,Nt+=Lt*be,Nt+=vt*Ce,Nt+=X*Oe,Nt+=J*ke,Bt=Nt>>>13,Nt&=8191,Nt+=lt*q,Nt+=ct*me,Nt+=ut*we,Nt+=yt*ge,Nt+=Gt*(5*Re),Bt+=Nt>>>13,Nt&=8191,It=Bt,It+=Mt*Re,It+=Lt*Be,It+=vt*be,It+=X*Ce,It+=J*Oe,Bt=It>>>13,It&=8191,It+=lt*ke,It+=ct*q,It+=ut*me,It+=yt*we,It+=Gt*ge,Bt+=It>>>13,It&=8191,Bt=(Bt<<2)+Bt|0,Bt=Bt+Yt|0,Yt=Bt&8191,Bt=Bt>>>13,Jt+=Bt,Mt=Yt,Lt=Jt,vt=fe,X=ce,J=Qt,lt=ne,ct=te,ut=Rt,yt=Nt,Gt=It,I+=16,k-=16;this.h[0]=Mt,this.h[1]=Lt,this.h[2]=vt,this.h[3]=X,this.h[4]=J,this.h[5]=lt,this.h[6]=ct,this.h[7]=ut,this.h[8]=yt,this.h[9]=Gt},x.prototype.finish=function(w,I){var k=new Uint16Array(10),h,R,j,V;if(this.leftover){for(V=this.leftover,this.buffer[V++]=1;V<16;V++)this.buffer[V]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(h=this.h[1]>>>13,this.h[1]&=8191,V=2;V<10;V++)this.h[V]+=h,h=this.h[V]>>>13,this.h[V]&=8191;for(this.h[0]+=h*5,h=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=h,h=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=h,k[0]=this.h[0]+5,h=k[0]>>>13,k[0]&=8191,V=1;V<10;V++)k[V]=this.h[V]+h,h=k[V]>>>13,k[V]&=8191;for(k[9]-=1<<13,R=(h^1)-1,V=0;V<10;V++)k[V]&=R;for(R=~R,V=0;V<10;V++)this.h[V]=this.h[V]&R|k[V];for(this.h[0]=(this.h[0]|this.h[1]<<13)&65535,this.h[1]=(this.h[1]>>>3|this.h[2]<<10)&65535,this.h[2]=(this.h[2]>>>6|this.h[3]<<7)&65535,this.h[3]=(this.h[3]>>>9|this.h[4]<<4)&65535,this.h[4]=(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14)&65535,this.h[5]=(this.h[6]>>>2|this.h[7]<<11)&65535,this.h[6]=(this.h[7]>>>5|this.h[8]<<8)&65535,this.h[7]=(this.h[8]>>>8|this.h[9]<<5)&65535,j=this.h[0]+this.pad[0],this.h[0]=j&65535,V=1;V<8;V++)j=(this.h[V]+this.pad[V]|0)+(j>>>16)|0,this.h[V]=j&65535;w[I+0]=this.h[0]>>>0&255,w[I+1]=this.h[0]>>>8&255,w[I+2]=this.h[1]>>>0&255,w[I+3]=this.h[1]>>>8&255,w[I+4]=this.h[2]>>>0&255,w[I+5]=this.h[2]>>>8&255,w[I+6]=this.h[3]>>>0&255,w[I+7]=this.h[3]>>>8&255,w[I+8]=this.h[4]>>>0&255,w[I+9]=this.h[4]>>>8&255,w[I+10]=this.h[5]>>>0&255,w[I+11]=this.h[5]>>>8&255,w[I+12]=this.h[6]>>>0&255,w[I+13]=this.h[6]>>>8&255,w[I+14]=this.h[7]>>>0&255,w[I+15]=this.h[7]>>>8&255},x.prototype.update=function(w,I,k){var h,R;if(this.leftover){for(R=16-this.leftover,R>k&&(R=k),h=0;h<R;h++)this.buffer[this.leftover+h]=w[I+h];if(k-=R,I+=R,this.leftover+=R,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(k>=16&&(R=k-k%16,this.blocks(w,I,R),I+=R,k-=R),k){for(h=0;h<k;h++)this.buffer[this.leftover+h]=w[I+h];this.leftover+=k}};function B(w,I,k,h,R,j){var V=new x(j);return V.update(k,h,R),V.finish(w,I),0}function v(w,I,k,h,R,j){var V=new Uint8Array(16);return B(V,0,k,h,R,j),tt(w,I,V,0)}function y(w,I,k,h,R){var j;if(k<32)return-1;for(C(w,0,I,0,k,h,R),B(w,16,w,32,k-32,w),j=0;j<16;j++)w[j]=0;return 0}function a(w,I,k,h,R){var j,V=new Uint8Array(32);if(k<32||(T(V,0,32,h,R),v(I,16,I,32,k-32,V)!==0))return-1;for(C(w,0,I,0,k,h,R),j=0;j<32;j++)w[j]=0;return 0}function c(w,I){var k;for(k=0;k<16;k++)w[k]=I[k]|0}function f(w){var I,k,h=1;for(I=0;I<16;I++)k=w[I]+h+65535,h=Math.floor(k/65536),w[I]=k-h*65536;w[0]+=h-1+37*(h-1)}function p(w,I,k){for(var h,R=~(k-1),j=0;j<16;j++)h=R&(w[j]^I[j]),w[j]^=h,I[j]^=h}function m(w,I){var k,h,R,j=t(),V=t();for(k=0;k<16;k++)V[k]=I[k];for(f(V),f(V),f(V),h=0;h<2;h++){for(j[0]=V[0]-65517,k=1;k<15;k++)j[k]=V[k]-65535-(j[k-1]>>16&1),j[k-1]&=65535;j[15]=V[15]-32767-(j[14]>>16&1),R=j[15]>>16&1,j[14]&=65535,p(V,j,1-R)}for(k=0;k<16;k++)w[2*k]=V[k]&255,w[2*k+1]=V[k]>>8}function b(w,I){var k=new Uint8Array(32),h=new Uint8Array(32);return m(k,w),m(h,I),ht(k,0,h,0)}function P(w){var I=new Uint8Array(32);return m(I,w),I[0]&1}function E(w,I){var k;for(k=0;k<16;k++)w[k]=I[2*k]+(I[2*k+1]<<8);w[15]&=32767}function u(w,I,k){for(var h=0;h<16;h++)w[h]=I[h]+k[h]}function l(w,I,k){for(var h=0;h<16;h++)w[h]=I[h]-k[h]}function _(w,I,k){var h,R,j=0,V=0,rt=0,ft=0,Ot=0,gt=0,Wt=0,Bt=0,Yt=0,Jt=0,fe=0,ce=0,Qt=0,ne=0,te=0,Rt=0,Nt=0,It=0,Mt=0,Lt=0,vt=0,X=0,J=0,lt=0,ct=0,ut=0,yt=0,Gt=0,ge=0,we=0,me=0,q=k[0],ke=k[1],Oe=k[2],Ce=k[3],be=k[4],Be=k[5],Re=k[6],gr=k[7],Ze=k[8],lr=k[9],dr=k[10],pr=k[11],wr=k[12],Tr=k[13],Mr=k[14],Lr=k[15];h=I[0],j+=h*q,V+=h*ke,rt+=h*Oe,ft+=h*Ce,Ot+=h*be,gt+=h*Be,Wt+=h*Re,Bt+=h*gr,Yt+=h*Ze,Jt+=h*lr,fe+=h*dr,ce+=h*pr,Qt+=h*wr,ne+=h*Tr,te+=h*Mr,Rt+=h*Lr,h=I[1],V+=h*q,rt+=h*ke,ft+=h*Oe,Ot+=h*Ce,gt+=h*be,Wt+=h*Be,Bt+=h*Re,Yt+=h*gr,Jt+=h*Ze,fe+=h*lr,ce+=h*dr,Qt+=h*pr,ne+=h*wr,te+=h*Tr,Rt+=h*Mr,Nt+=h*Lr,h=I[2],rt+=h*q,ft+=h*ke,Ot+=h*Oe,gt+=h*Ce,Wt+=h*be,Bt+=h*Be,Yt+=h*Re,Jt+=h*gr,fe+=h*Ze,ce+=h*lr,Qt+=h*dr,ne+=h*pr,te+=h*wr,Rt+=h*Tr,Nt+=h*Mr,It+=h*Lr,h=I[3],ft+=h*q,Ot+=h*ke,gt+=h*Oe,Wt+=h*Ce,Bt+=h*be,Yt+=h*Be,Jt+=h*Re,fe+=h*gr,ce+=h*Ze,Qt+=h*lr,ne+=h*dr,te+=h*pr,Rt+=h*wr,Nt+=h*Tr,It+=h*Mr,Mt+=h*Lr,h=I[4],Ot+=h*q,gt+=h*ke,Wt+=h*Oe,Bt+=h*Ce,Yt+=h*be,Jt+=h*Be,fe+=h*Re,ce+=h*gr,Qt+=h*Ze,ne+=h*lr,te+=h*dr,Rt+=h*pr,Nt+=h*wr,It+=h*Tr,Mt+=h*Mr,Lt+=h*Lr,h=I[5],gt+=h*q,Wt+=h*ke,Bt+=h*Oe,Yt+=h*Ce,Jt+=h*be,fe+=h*Be,ce+=h*Re,Qt+=h*gr,ne+=h*Ze,te+=h*lr,Rt+=h*dr,Nt+=h*pr,It+=h*wr,Mt+=h*Tr,Lt+=h*Mr,vt+=h*Lr,h=I[6],Wt+=h*q,Bt+=h*ke,Yt+=h*Oe,Jt+=h*Ce,fe+=h*be,ce+=h*Be,Qt+=h*Re,ne+=h*gr,te+=h*Ze,Rt+=h*lr,Nt+=h*dr,It+=h*pr,Mt+=h*wr,Lt+=h*Tr,vt+=h*Mr,X+=h*Lr,h=I[7],Bt+=h*q,Yt+=h*ke,Jt+=h*Oe,fe+=h*Ce,ce+=h*be,Qt+=h*Be,ne+=h*Re,te+=h*gr,Rt+=h*Ze,Nt+=h*lr,It+=h*dr,Mt+=h*pr,Lt+=h*wr,vt+=h*Tr,X+=h*Mr,J+=h*Lr,h=I[8],Yt+=h*q,Jt+=h*ke,fe+=h*Oe,ce+=h*Ce,Qt+=h*be,ne+=h*Be,te+=h*Re,Rt+=h*gr,Nt+=h*Ze,It+=h*lr,Mt+=h*dr,Lt+=h*pr,vt+=h*wr,X+=h*Tr,J+=h*Mr,lt+=h*Lr,h=I[9],Jt+=h*q,fe+=h*ke,ce+=h*Oe,Qt+=h*Ce,ne+=h*be,te+=h*Be,Rt+=h*Re,Nt+=h*gr,It+=h*Ze,Mt+=h*lr,Lt+=h*dr,vt+=h*pr,X+=h*wr,J+=h*Tr,lt+=h*Mr,ct+=h*Lr,h=I[10],fe+=h*q,ce+=h*ke,Qt+=h*Oe,ne+=h*Ce,te+=h*be,Rt+=h*Be,Nt+=h*Re,It+=h*gr,Mt+=h*Ze,Lt+=h*lr,vt+=h*dr,X+=h*pr,J+=h*wr,lt+=h*Tr,ct+=h*Mr,ut+=h*Lr,h=I[11],ce+=h*q,Qt+=h*ke,ne+=h*Oe,te+=h*Ce,Rt+=h*be,Nt+=h*Be,It+=h*Re,Mt+=h*gr,Lt+=h*Ze,vt+=h*lr,X+=h*dr,J+=h*pr,lt+=h*wr,ct+=h*Tr,ut+=h*Mr,yt+=h*Lr,h=I[12],Qt+=h*q,ne+=h*ke,te+=h*Oe,Rt+=h*Ce,Nt+=h*be,It+=h*Be,Mt+=h*Re,Lt+=h*gr,vt+=h*Ze,X+=h*lr,J+=h*dr,lt+=h*pr,ct+=h*wr,ut+=h*Tr,yt+=h*Mr,Gt+=h*Lr,h=I[13],ne+=h*q,te+=h*ke,Rt+=h*Oe,Nt+=h*Ce,It+=h*be,Mt+=h*Be,Lt+=h*Re,vt+=h*gr,X+=h*Ze,J+=h*lr,lt+=h*dr,ct+=h*pr,ut+=h*wr,yt+=h*Tr,Gt+=h*Mr,ge+=h*Lr,h=I[14],te+=h*q,Rt+=h*ke,Nt+=h*Oe,It+=h*Ce,Mt+=h*be,Lt+=h*Be,vt+=h*Re,X+=h*gr,J+=h*Ze,lt+=h*lr,ct+=h*dr,ut+=h*pr,yt+=h*wr,Gt+=h*Tr,ge+=h*Mr,we+=h*Lr,h=I[15],Rt+=h*q,Nt+=h*ke,It+=h*Oe,Mt+=h*Ce,Lt+=h*be,vt+=h*Be,X+=h*Re,J+=h*gr,lt+=h*Ze,ct+=h*lr,ut+=h*dr,yt+=h*pr,Gt+=h*wr,ge+=h*Tr,we+=h*Mr,me+=h*Lr,j+=38*Nt,V+=38*It,rt+=38*Mt,ft+=38*Lt,Ot+=38*vt,gt+=38*X,Wt+=38*J,Bt+=38*lt,Yt+=38*ct,Jt+=38*ut,fe+=38*yt,ce+=38*Gt,Qt+=38*ge,ne+=38*we,te+=38*me,R=1,h=j+R+65535,R=Math.floor(h/65536),j=h-R*65536,h=V+R+65535,R=Math.floor(h/65536),V=h-R*65536,h=rt+R+65535,R=Math.floor(h/65536),rt=h-R*65536,h=ft+R+65535,R=Math.floor(h/65536),ft=h-R*65536,h=Ot+R+65535,R=Math.floor(h/65536),Ot=h-R*65536,h=gt+R+65535,R=Math.floor(h/65536),gt=h-R*65536,h=Wt+R+65535,R=Math.floor(h/65536),Wt=h-R*65536,h=Bt+R+65535,R=Math.floor(h/65536),Bt=h-R*65536,h=Yt+R+65535,R=Math.floor(h/65536),Yt=h-R*65536,h=Jt+R+65535,R=Math.floor(h/65536),Jt=h-R*65536,h=fe+R+65535,R=Math.floor(h/65536),fe=h-R*65536,h=ce+R+65535,R=Math.floor(h/65536),ce=h-R*65536,h=Qt+R+65535,R=Math.floor(h/65536),Qt=h-R*65536,h=ne+R+65535,R=Math.floor(h/65536),ne=h-R*65536,h=te+R+65535,R=Math.floor(h/65536),te=h-R*65536,h=Rt+R+65535,R=Math.floor(h/65536),Rt=h-R*65536,j+=R-1+37*(R-1),R=1,h=j+R+65535,R=Math.floor(h/65536),j=h-R*65536,h=V+R+65535,R=Math.floor(h/65536),V=h-R*65536,h=rt+R+65535,R=Math.floor(h/65536),rt=h-R*65536,h=ft+R+65535,R=Math.floor(h/65536),ft=h-R*65536,h=Ot+R+65535,R=Math.floor(h/65536),Ot=h-R*65536,h=gt+R+65535,R=Math.floor(h/65536),gt=h-R*65536,h=Wt+R+65535,R=Math.floor(h/65536),Wt=h-R*65536,h=Bt+R+65535,R=Math.floor(h/65536),Bt=h-R*65536,h=Yt+R+65535,R=Math.floor(h/65536),Yt=h-R*65536,h=Jt+R+65535,R=Math.floor(h/65536),Jt=h-R*65536,h=fe+R+65535,R=Math.floor(h/65536),fe=h-R*65536,h=ce+R+65535,R=Math.floor(h/65536),ce=h-R*65536,h=Qt+R+65535,R=Math.floor(h/65536),Qt=h-R*65536,h=ne+R+65535,R=Math.floor(h/65536),ne=h-R*65536,h=te+R+65535,R=Math.floor(h/65536),te=h-R*65536,h=Rt+R+65535,R=Math.floor(h/65536),Rt=h-R*65536,j+=R-1+37*(R-1),w[0]=j,w[1]=V,w[2]=rt,w[3]=ft,w[4]=Ot,w[5]=gt,w[6]=Wt,w[7]=Bt,w[8]=Yt,w[9]=Jt,w[10]=fe,w[11]=ce,w[12]=Qt,w[13]=ne,w[14]=te,w[15]=Rt}function S(w,I){_(w,I,I)}function O(w,I){var k=t(),h;for(h=0;h<16;h++)k[h]=I[h];for(h=253;h>=0;h--)S(k,k),h!==2&&h!==4&&_(k,k,I);for(h=0;h<16;h++)w[h]=k[h]}function F(w,I){var k=t(),h;for(h=0;h<16;h++)k[h]=I[h];for(h=250;h>=0;h--)S(k,k),h!==1&&_(k,k,I);for(h=0;h<16;h++)w[h]=k[h]}function D(w,I,k){var h=new Uint8Array(32),R=new Float64Array(80),j,V,rt=t(),ft=t(),Ot=t(),gt=t(),Wt=t(),Bt=t();for(V=0;V<31;V++)h[V]=I[V];for(h[31]=I[31]&127|64,h[0]&=248,E(R,k),V=0;V<16;V++)ft[V]=R[V],gt[V]=rt[V]=Ot[V]=0;for(rt[0]=gt[0]=1,V=254;V>=0;--V)j=h[V>>>3]>>>(V&7)&1,p(rt,ft,j),p(Ot,gt,j),u(Wt,rt,Ot),l(rt,rt,Ot),u(Ot,ft,gt),l(ft,ft,gt),S(gt,Wt),S(Bt,rt),_(rt,Ot,rt),_(Ot,ft,Wt),u(Wt,rt,Ot),l(rt,rt,Ot),S(ft,rt),l(Ot,gt,Bt),_(rt,Ot,d),u(rt,rt,gt),_(Ot,Ot,rt),_(rt,gt,Bt),_(gt,ft,R),S(ft,Wt),p(rt,ft,j),p(Ot,gt,j);for(V=0;V<16;V++)R[V+16]=rt[V],R[V+32]=Ot[V],R[V+48]=ft[V],R[V+64]=gt[V];var Yt=R.subarray(32),Jt=R.subarray(16);return O(Yt,Yt),_(Jt,Jt,Yt),m(w,Jt),0}function Z(w,I){return D(w,I,i)}function N(w,I){return e(I,32),Z(w,I)}function z(w,I,k){var h=new Uint8Array(32);return D(h,k,I),Tt(w,n,h,ee)}var U=y,H=a;function G(w,I,k,h,R,j){var V=new Uint8Array(32);return z(V,R,j),U(w,I,k,h,V)}function nt(w,I,k,h,R,j){var V=new Uint8Array(32);return z(V,R,j),H(w,I,k,h,V)}var pt=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function ot(w,I,k,h){for(var R=new Int32Array(16),j=new Int32Array(16),V,rt,ft,Ot,gt,Wt,Bt,Yt,Jt,fe,ce,Qt,ne,te,Rt,Nt,It,Mt,Lt,vt,X,J,lt,ct,ut,yt,Gt=w[0],ge=w[1],we=w[2],me=w[3],q=w[4],ke=w[5],Oe=w[6],Ce=w[7],be=I[0],Be=I[1],Re=I[2],gr=I[3],Ze=I[4],lr=I[5],dr=I[6],pr=I[7],wr=0;h>=128;){for(Lt=0;Lt<16;Lt++)vt=8*Lt+wr,R[Lt]=k[vt+0]<<24|k[vt+1]<<16|k[vt+2]<<8|k[vt+3],j[Lt]=k[vt+4]<<24|k[vt+5]<<16|k[vt+6]<<8|k[vt+7];for(Lt=0;Lt<80;Lt++)if(V=Gt,rt=ge,ft=we,Ot=me,gt=q,Wt=ke,Bt=Oe,Yt=Ce,Jt=be,fe=Be,ce=Re,Qt=gr,ne=Ze,te=lr,Rt=dr,Nt=pr,X=Ce,J=pr,lt=J&65535,ct=J>>>16,ut=X&65535,yt=X>>>16,X=(q>>>14|Ze<<32-14)^(q>>>18|Ze<<32-18)^(Ze>>>41-32|q<<32-(41-32)),J=(Ze>>>14|q<<32-14)^(Ze>>>18|q<<32-18)^(q>>>41-32|Ze<<32-(41-32)),lt+=J&65535,ct+=J>>>16,ut+=X&65535,yt+=X>>>16,X=q&ke^~q&Oe,J=Ze&lr^~Ze&dr,lt+=J&65535,ct+=J>>>16,ut+=X&65535,yt+=X>>>16,X=pt[Lt*2],J=pt[Lt*2+1],lt+=J&65535,ct+=J>>>16,ut+=X&65535,yt+=X>>>16,X=R[Lt%16],J=j[Lt%16],lt+=J&65535,ct+=J>>>16,ut+=X&65535,yt+=X>>>16,ct+=lt>>>16,ut+=ct>>>16,yt+=ut>>>16,It=ut&65535|yt<<16,Mt=lt&65535|ct<<16,X=It,J=Mt,lt=J&65535,ct=J>>>16,ut=X&65535,yt=X>>>16,X=(Gt>>>28|be<<32-28)^(be>>>34-32|Gt<<32-(34-32))^(be>>>39-32|Gt<<32-(39-32)),J=(be>>>28|Gt<<32-28)^(Gt>>>34-32|be<<32-(34-32))^(Gt>>>39-32|be<<32-(39-32)),lt+=J&65535,ct+=J>>>16,ut+=X&65535,yt+=X>>>16,X=Gt&ge^Gt&we^ge&we,J=be&Be^be&Re^Be&Re,lt+=J&65535,ct+=J>>>16,ut+=X&65535,yt+=X>>>16,ct+=lt>>>16,ut+=ct>>>16,yt+=ut>>>16,Yt=ut&65535|yt<<16,Nt=lt&65535|ct<<16,X=Ot,J=Qt,lt=J&65535,ct=J>>>16,ut=X&65535,yt=X>>>16,X=It,J=Mt,lt+=J&65535,ct+=J>>>16,ut+=X&65535,yt+=X>>>16,ct+=lt>>>16,ut+=ct>>>16,yt+=ut>>>16,Ot=ut&65535|yt<<16,Qt=lt&65535|ct<<16,ge=V,we=rt,me=ft,q=Ot,ke=gt,Oe=Wt,Ce=Bt,Gt=Yt,Be=Jt,Re=fe,gr=ce,Ze=Qt,lr=ne,dr=te,pr=Rt,be=Nt,Lt%16===15)for(vt=0;vt<16;vt++)X=R[vt],J=j[vt],lt=J&65535,ct=J>>>16,ut=X&65535,yt=X>>>16,X=R[(vt+9)%16],J=j[(vt+9)%16],lt+=J&65535,ct+=J>>>16,ut+=X&65535,yt+=X>>>16,It=R[(vt+1)%16],Mt=j[(vt+1)%16],X=(It>>>1|Mt<<32-1)^(It>>>8|Mt<<32-8)^It>>>7,J=(Mt>>>1|It<<32-1)^(Mt>>>8|It<<32-8)^(Mt>>>7|It<<32-7),lt+=J&65535,ct+=J>>>16,ut+=X&65535,yt+=X>>>16,It=R[(vt+14)%16],Mt=j[(vt+14)%16],X=(It>>>19|Mt<<32-19)^(Mt>>>61-32|It<<32-(61-32))^It>>>6,J=(Mt>>>19|It<<32-19)^(It>>>61-32|Mt<<32-(61-32))^(Mt>>>6|It<<32-6),lt+=J&65535,ct+=J>>>16,ut+=X&65535,yt+=X>>>16,ct+=lt>>>16,ut+=ct>>>16,yt+=ut>>>16,R[vt]=ut&65535|yt<<16,j[vt]=lt&65535|ct<<16;X=Gt,J=be,lt=J&65535,ct=J>>>16,ut=X&65535,yt=X>>>16,X=w[0],J=I[0],lt+=J&65535,ct+=J>>>16,ut+=X&65535,yt+=X>>>16,ct+=lt>>>16,ut+=ct>>>16,yt+=ut>>>16,w[0]=Gt=ut&65535|yt<<16,I[0]=be=lt&65535|ct<<16,X=ge,J=Be,lt=J&65535,ct=J>>>16,ut=X&65535,yt=X>>>16,X=w[1],J=I[1],lt+=J&65535,ct+=J>>>16,ut+=X&65535,yt+=X>>>16,ct+=lt>>>16,ut+=ct>>>16,yt+=ut>>>16,w[1]=ge=ut&65535|yt<<16,I[1]=Be=lt&65535|ct<<16,X=we,J=Re,lt=J&65535,ct=J>>>16,ut=X&65535,yt=X>>>16,X=w[2],J=I[2],lt+=J&65535,ct+=J>>>16,ut+=X&65535,yt+=X>>>16,ct+=lt>>>16,ut+=ct>>>16,yt+=ut>>>16,w[2]=we=ut&65535|yt<<16,I[2]=Re=lt&65535|ct<<16,X=me,J=gr,lt=J&65535,ct=J>>>16,ut=X&65535,yt=X>>>16,X=w[3],J=I[3],lt+=J&65535,ct+=J>>>16,ut+=X&65535,yt+=X>>>16,ct+=lt>>>16,ut+=ct>>>16,yt+=ut>>>16,w[3]=me=ut&65535|yt<<16,I[3]=gr=lt&65535|ct<<16,X=q,J=Ze,lt=J&65535,ct=J>>>16,ut=X&65535,yt=X>>>16,X=w[4],J=I[4],lt+=J&65535,ct+=J>>>16,ut+=X&65535,yt+=X>>>16,ct+=lt>>>16,ut+=ct>>>16,yt+=ut>>>16,w[4]=q=ut&65535|yt<<16,I[4]=Ze=lt&65535|ct<<16,X=ke,J=lr,lt=J&65535,ct=J>>>16,ut=X&65535,yt=X>>>16,X=w[5],J=I[5],lt+=J&65535,ct+=J>>>16,ut+=X&65535,yt+=X>>>16,ct+=lt>>>16,ut+=ct>>>16,yt+=ut>>>16,w[5]=ke=ut&65535|yt<<16,I[5]=lr=lt&65535|ct<<16,X=Oe,J=dr,lt=J&65535,ct=J>>>16,ut=X&65535,yt=X>>>16,X=w[6],J=I[6],lt+=J&65535,ct+=J>>>16,ut+=X&65535,yt+=X>>>16,ct+=lt>>>16,ut+=ct>>>16,yt+=ut>>>16,w[6]=Oe=ut&65535|yt<<16,I[6]=dr=lt&65535|ct<<16,X=Ce,J=pr,lt=J&65535,ct=J>>>16,ut=X&65535,yt=X>>>16,X=w[7],J=I[7],lt+=J&65535,ct+=J>>>16,ut+=X&65535,yt+=X>>>16,ct+=lt>>>16,ut+=ct>>>16,yt+=ut>>>16,w[7]=Ce=ut&65535|yt<<16,I[7]=pr=lt&65535|ct<<16,wr+=128,h-=128}return h}function xt(w,I,k){var h=new Int32Array(8),R=new Int32Array(8),j=new Uint8Array(256),V,rt=k;for(h[0]=1779033703,h[1]=3144134277,h[2]=1013904242,h[3]=2773480762,h[4]=1359893119,h[5]=2600822924,h[6]=528734635,h[7]=1541459225,R[0]=4089235720,R[1]=2227873595,R[2]=4271175723,R[3]=1595750129,R[4]=2917565137,R[5]=725511199,R[6]=4215389547,R[7]=327033209,ot(h,R,I,k),k%=128,V=0;V<k;V++)j[V]=I[rt-k+V];for(j[k]=128,k=256-128*(k<112?1:0),j[k-9]=0,K(j,k-8,rt/536870912|0,rt<<3),ot(h,R,j,k),V=0;V<8;V++)K(w,8*V,h[V],R[V]);return 0}function qt(w,I){var k=t(),h=t(),R=t(),j=t(),V=t(),rt=t(),ft=t(),Ot=t(),gt=t();l(k,w[1],w[0]),l(gt,I[1],I[0]),_(k,k,gt),u(h,w[0],w[1]),u(gt,I[0],I[1]),_(h,h,gt),_(R,w[3],I[3]),_(R,R,A),_(j,w[2],I[2]),u(j,j,j),l(V,h,k),l(rt,j,R),u(ft,j,R),u(Ot,h,k),_(w[0],V,rt),_(w[1],Ot,ft),_(w[2],ft,rt),_(w[3],V,Ot)}function Et(w,I,k){var h;for(h=0;h<4;h++)p(w[h],I[h],k)}function zt(w,I){var k=t(),h=t(),R=t();O(R,I[2]),_(k,I[0],R),_(h,I[1],R),m(w,h),w[31]^=P(k)<<7}function Ut(w,I,k){var h,R;for(c(w[0],o),c(w[1],s),c(w[2],s),c(w[3],o),R=255;R>=0;--R)h=k[R/8|0]>>(R&7)&1,Et(w,I,h),qt(I,w),qt(w,w),Et(w,I,h)}function bt(w,I){var k=[t(),t(),t(),t()];c(k[0],L),c(k[1],M),c(k[2],s),_(k[3],L,M),Ut(w,k,I)}function Ct(w,I,k){var h=new Uint8Array(64),R=[t(),t(),t(),t()],j;for(k||e(I,32),xt(h,I,32),h[0]&=248,h[31]&=127,h[31]|=64,bt(R,h),zt(w,R),j=0;j<32;j++)I[j+32]=w[j];return 0}var $t=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function Zt(w,I){var k,h,R,j;for(h=63;h>=32;--h){for(k=0,R=h-32,j=h-12;R<j;++R)I[R]+=k-16*I[h]*$t[R-(h-32)],k=Math.floor((I[R]+128)/256),I[R]-=k*256;I[R]+=k,I[h]=0}for(k=0,R=0;R<32;R++)I[R]+=k-(I[31]>>4)*$t[R],k=I[R]>>8,I[R]&=255;for(R=0;R<32;R++)I[R]-=k*$t[R];for(h=0;h<32;h++)I[h+1]+=I[h]>>8,w[h]=I[h]&255}function xe(w){var I=new Float64Array(64),k;for(k=0;k<64;k++)I[k]=w[k];for(k=0;k<64;k++)w[k]=0;Zt(w,I)}function re(w,I,k,h){var R=new Uint8Array(64),j=new Uint8Array(64),V=new Uint8Array(64),rt,ft,Ot=new Float64Array(64),gt=[t(),t(),t(),t()];xt(R,h,32),R[0]&=248,R[31]&=127,R[31]|=64;var Wt=k+64;for(rt=0;rt<k;rt++)w[64+rt]=I[rt];for(rt=0;rt<32;rt++)w[32+rt]=R[32+rt];for(xt(V,w.subarray(32),k+32),xe(V),bt(gt,V),zt(w,gt),rt=32;rt<64;rt++)w[rt]=h[rt];for(xt(j,w,k+64),xe(j),rt=0;rt<64;rt++)Ot[rt]=0;for(rt=0;rt<32;rt++)Ot[rt]=V[rt];for(rt=0;rt<32;rt++)for(ft=0;ft<32;ft++)Ot[rt+ft]+=j[rt]*R[ft];return Zt(w.subarray(32),Ot),Wt}function jt(w,I){var k=t(),h=t(),R=t(),j=t(),V=t(),rt=t(),ft=t();return c(w[2],s),E(w[1],I),S(R,w[1]),_(j,R,g),l(R,R,w[2]),u(j,w[2],j),S(V,j),S(rt,V),_(ft,rt,V),_(k,ft,R),_(k,k,j),F(k,k),_(k,k,R),_(k,k,j),_(k,k,j),_(w[0],k,j),S(h,w[0]),_(h,h,j),b(h,R)&&_(w[0],w[0],$),S(h,w[0]),_(h,h,j),b(h,R)?-1:(P(w[0])===I[31]>>7&&l(w[0],o,w[0]),_(w[3],w[0],w[1]),0)}function Xt(w,I,k,h){var R,j=new Uint8Array(32),V=new Uint8Array(64),rt=[t(),t(),t(),t()],ft=[t(),t(),t(),t()];if(k<64||jt(ft,h))return-1;for(R=0;R<k;R++)w[R]=I[R];for(R=0;R<32;R++)w[R+32]=h[R];if(xt(V,w,k),xe(V),Ut(rt,ft,V),bt(ft,I.subarray(32)),qt(rt,ft),zt(j,rt),k-=64,ht(I,0,j,0)){for(R=0;R<k;R++)w[R]=0;return-1}for(R=0;R<k;R++)w[R]=I[R+64];return k}var je=32,pe=24,Ie=32,Ye=16,Xe=32,Pe=32,tn=32,Je=32,Ee=32,_n=pe,Ge=Ie,Ve=Ye,Rr=64,ze=32,Ae=64,Mi=32,nr=64;r.lowlevel={crypto_core_hsalsa20:Tt,crypto_stream_xor:C,crypto_stream:T,crypto_stream_salsa20_xor:Ft,crypto_stream_salsa20:Dt,crypto_onetimeauth:B,crypto_onetimeauth_verify:v,crypto_verify_16:tt,crypto_verify_32:ht,crypto_secretbox:y,crypto_secretbox_open:a,crypto_scalarmult:D,crypto_scalarmult_base:Z,crypto_box_beforenm:z,crypto_box_afternm:U,crypto_box:G,crypto_box_open:nt,crypto_box_keypair:N,crypto_hash:xt,crypto_sign:re,crypto_sign_keypair:Ct,crypto_sign_open:Xt,crypto_secretbox_KEYBYTES:je,crypto_secretbox_NONCEBYTES:pe,crypto_secretbox_ZEROBYTES:Ie,crypto_secretbox_BOXZEROBYTES:Ye,crypto_scalarmult_BYTES:Xe,crypto_scalarmult_SCALARBYTES:Pe,crypto_box_PUBLICKEYBYTES:tn,crypto_box_SECRETKEYBYTES:Je,crypto_box_BEFORENMBYTES:Ee,crypto_box_NONCEBYTES:_n,crypto_box_ZEROBYTES:Ge,crypto_box_BOXZEROBYTES:Ve,crypto_sign_BYTES:Rr,crypto_sign_PUBLICKEYBYTES:ze,crypto_sign_SECRETKEYBYTES:Ae,crypto_sign_SEEDBYTES:Mi,crypto_hash_BYTES:nr,gf:t,D:g,L:$t,pack25519:m,unpack25519:E,M:_,A:u,S,Z:l,pow2523:F,add:qt,set25519:c,modL:Zt,scalarmult:Ut,scalarbase:bt};function ar(w,I){if(w.length!==je)throw new Error("bad key size");if(I.length!==pe)throw new Error("bad nonce size")}function ys(w,I){if(w.length!==tn)throw new Error("bad public key size");if(I.length!==Je)throw new Error("bad secret key size")}function Se(){for(var w=0;w<arguments.length;w++)if(!(arguments[w]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function cr(w){for(var I=0;I<w.length;I++)w[I]=0}r.randomBytes=function(w){var I=new Uint8Array(w);return e(I,w),I},r.secretbox=function(w,I,k){Se(w,I,k),ar(k,I);for(var h=new Uint8Array(Ie+w.length),R=new Uint8Array(h.length),j=0;j<w.length;j++)h[j+Ie]=w[j];return y(R,h,h.length,I,k),R.subarray(Ye)},r.secretbox.open=function(w,I,k){Se(w,I,k),ar(k,I);for(var h=new Uint8Array(Ye+w.length),R=new Uint8Array(h.length),j=0;j<w.length;j++)h[j+Ye]=w[j];return h.length<32||a(R,h,h.length,I,k)!==0?null:R.subarray(Ie)},r.secretbox.keyLength=je,r.secretbox.nonceLength=pe,r.secretbox.overheadLength=Ye,r.scalarMult=function(w,I){if(Se(w,I),w.length!==Pe)throw new Error("bad n size");if(I.length!==Xe)throw new Error("bad p size");var k=new Uint8Array(Xe);return D(k,w,I),k},r.scalarMult.base=function(w){if(Se(w),w.length!==Pe)throw new Error("bad n size");var I=new Uint8Array(Xe);return Z(I,w),I},r.scalarMult.scalarLength=Pe,r.scalarMult.groupElementLength=Xe,r.box=function(w,I,k,h){var R=r.box.before(k,h);return r.secretbox(w,I,R)},r.box.before=function(w,I){Se(w,I),ys(w,I);var k=new Uint8Array(Ee);return z(k,w,I),k},r.box.after=r.secretbox,r.box.open=function(w,I,k,h){var R=r.box.before(k,h);return r.secretbox.open(w,I,R)},r.box.open.after=r.secretbox.open,r.box.keyPair=function(){var w=new Uint8Array(tn),I=new Uint8Array(Je);return N(w,I),{publicKey:w,secretKey:I}},r.box.keyPair.fromSecretKey=function(w){if(Se(w),w.length!==Je)throw new Error("bad secret key size");var I=new Uint8Array(tn);return Z(I,w),{publicKey:I,secretKey:new Uint8Array(w)}},r.box.publicKeyLength=tn,r.box.secretKeyLength=Je,r.box.sharedKeyLength=Ee,r.box.nonceLength=_n,r.box.overheadLength=r.secretbox.overheadLength,r.sign=function(w,I){if(Se(w,I),I.length!==Ae)throw new Error("bad secret key size");var k=new Uint8Array(Rr+w.length);return re(k,w,w.length,I),k},r.sign.open=function(w,I){if(Se(w,I),I.length!==ze)throw new Error("bad public key size");var k=new Uint8Array(w.length),h=Xt(k,w,w.length,I);if(h<0)return null;for(var R=new Uint8Array(h),j=0;j<R.length;j++)R[j]=k[j];return R},r.sign.detached=function(w,I){for(var k=r.sign(w,I),h=new Uint8Array(Rr),R=0;R<h.length;R++)h[R]=k[R];return h},r.sign.detached.verify=function(w,I,k){if(Se(w,I,k),I.length!==Rr)throw new Error("bad signature size");if(k.length!==ze)throw new Error("bad public key size");var h=new Uint8Array(Rr+w.length),R=new Uint8Array(Rr+w.length),j;for(j=0;j<Rr;j++)h[j]=I[j];for(j=0;j<w.length;j++)h[j+Rr]=w[j];return Xt(R,h,h.length,k)>=0},r.sign.keyPair=function(){var w=new Uint8Array(ze),I=new Uint8Array(Ae);return Ct(w,I),{publicKey:w,secretKey:I}},r.sign.keyPair.fromSecretKey=function(w){if(Se(w),w.length!==Ae)throw new Error("bad secret key size");for(var I=new Uint8Array(ze),k=0;k<I.length;k++)I[k]=w[32+k];return{publicKey:I,secretKey:new Uint8Array(w)}},r.sign.keyPair.fromSeed=function(w){if(Se(w),w.length!==Mi)throw new Error("bad seed size");for(var I=new Uint8Array(ze),k=new Uint8Array(Ae),h=0;h<32;h++)k[h]=w[h];return Ct(I,k,!0),{publicKey:I,secretKey:k}},r.sign.publicKeyLength=ze,r.sign.secretKeyLength=Ae,r.sign.seedLength=Mi,r.sign.signatureLength=Rr,r.hash=function(w){Se(w);var I=new Uint8Array(nr);return xt(I,w,w.length),I},r.hash.hashLength=nr,r.verify=function(w,I){return Se(w,I),w.length===0||I.length===0||w.length!==I.length?!1:et(w,0,I,0,w.length)===0},r.setPRNG=function(w){e=w},function(){var w=typeof self<"u"?self.crypto||self.msCrypto:null;if(w&&w.getRandomValues){var I=65536;r.setPRNG(function(k,h){var R,j=new Uint8Array(h);for(R=0;R<h;R+=I)w.getRandomValues(j.subarray(R,R+Math.min(h-R,I)));for(R=0;R<h;R++)k[R]=j[R];cr(j)})}else typeof cf<"u"&&(w=ks(),w&&w.randomBytes&&r.setPRNG(function(k,h){var R,j=w.randomBytes(h);for(R=0;R<h;R++)k[R]=j[R];cr(j)}))}()})(typeof lc<"u"&&lc.exports?lc.exports:self.nacl=self.nacl||{})});var dw={};uf(dw,{CreateTransferError:()=>mr,FetchTransactionError:()=>An,FindReferenceError:()=>ps,HTTPS_PROTOCOL:()=>Qu,MEMO_PROGRAM_ID:()=>os,ParseURLError:()=>Qr,SOLANA_PROTOCOL:()=>co,SOL_DECIMALS:()=>tf,TEN:()=>ef,ValidateTransferError:()=>Er,createQR:()=>wm,createQROptions:()=>Jl,createTransfer:()=>$m,encodeURL:()=>Vm,fetchTransaction:()=>ow,findReference:()=>fd,parseURL:()=>sw,validateTransfer:()=>uw});var se=de(Rf());function Ec(r){if(!Number.isSafeInteger(r)||r<0)throw new Error(`Wrong positive integer: ${r}`)}function Vd(r){if(typeof r!="boolean")throw new Error(`Expected boolean, not ${r}`)}function Tf(r,...t){if(!(r instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(t.length>0&&!t.includes(r.length))throw new TypeError(`Expected Uint8Array of length ${t}, not of length=${r.length}`)}function Yd(r){if(typeof r!="function"||typeof r.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Ec(r.outputLen),Ec(r.blockLen)}function Zd(r,t=!0){if(r.destroyed)throw new Error("Hash instance has been destroyed");if(t&&r.finished)throw new Error("Hash#digest() has already been called")}function Xd(r,t){Tf(r);let e=t.outputLen;if(r.length<e)throw new Error(`digestInto() expects output buffer of length at least ${e}`)}var Jd={number:Ec,bool:Vd,bytes:Tf,hash:Yd,exists:Zd,output:Xd},Pr=Jd;var Qd={node:void 0,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0};var Mf=r=>new Uint32Array(r.buffer,r.byteOffset,Math.floor(r.byteLength/4)),bs=r=>new DataView(r.buffer,r.byteOffset,r.byteLength),un=(r,t)=>r<<32-t|r>>>t,tp=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!tp)throw new Error("Non little-endian hardware is not supported");var kw=Array.from({length:256},(r,t)=>t.toString(16).padStart(2,"0"));function ep(r){if(typeof r!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof r}`);return new TextEncoder().encode(r)}function Hn(r){if(typeof r=="string"&&(r=ep(r)),!(r instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof r})`);return r}var Sn=class{clone(){return this._cloneInto()}};function $n(r){let t=n=>r().update(Hn(n)).digest(),e=r();return t.outputLen=e.outputLen,t.blockLen=e.blockLen,t.create=()=>r(),t}function Lf(r){let t=(n,i)=>r(i).update(Hn(n)).digest(),e=r({});return t.outputLen=e.outputLen,t.blockLen=e.blockLen,t.create=n=>r(n),t}function rp(r,t,e,n){if(typeof r.setBigUint64=="function")return r.setBigUint64(t,e,n);let i=BigInt(32),o=BigInt(4294967295),s=Number(e>>i&o),d=Number(e&o),g=n?4:0,A=n?0:4;r.setUint32(t+g,s,n),r.setUint32(t+A,d,n)}var Ui=class extends Sn{constructor(t,e,n,i){super(),this.blockLen=t,this.outputLen=e,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=bs(this.buffer)}update(t){Pr.exists(this);let{view:e,buffer:n,blockLen:i}=this;t=Hn(t);let o=t.length;for(let s=0;s<o;){let d=Math.min(i-this.pos,o-s);if(d===i){let g=bs(t);for(;i<=o-s;s+=i)this.process(g,s);continue}n.set(t.subarray(s,s+d),this.pos),this.pos+=d,s+=d,this.pos===i&&(this.process(e,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){Pr.exists(this),Pr.output(t,this),this.finished=!0;let{buffer:e,view:n,blockLen:i,isLE:o}=this,{pos:s}=this;e[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>i-s&&(this.process(n,0),s=0);for(let g=s;g<i;g++)e[g]=0;rp(n,i-8,BigInt(this.length*8),o),this.process(n,0);let d=bs(t);this.get().forEach((g,A)=>d.setUint32(4*A,g,o))}digest(){let{buffer:t,outputLen:e}=this;this.digestInto(t);let n=t.slice(0,e);return this.destroy(),n}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());let{blockLen:e,buffer:n,length:i,finished:o,destroyed:s,pos:d}=this;return t.length=i,t.pos=d,t.finished=o,t.destroyed=s,i%e&&t.buffer.set(n),t}};var vs=BigInt(4294967295),Sc=BigInt(32);function Pf(r,t=!1){return t?{h:Number(r&vs),l:Number(r>>Sc&vs)}:{h:Number(r>>Sc&vs)|0,l:Number(r&vs)|0}}function np(r,t=!1){let e=new Uint32Array(r.length),n=new Uint32Array(r.length);for(let i=0;i<r.length;i++){let{h:o,l:s}=Pf(r[i],t);[e[i],n[i]]=[o,s]}return[e,n]}var ip=(r,t)=>BigInt(r>>>0)<<Sc|BigInt(t>>>0),op=(r,t,e)=>r>>>e,sp=(r,t,e)=>r<<32-e|t>>>e,ap=(r,t,e)=>r>>>e|t<<32-e,cp=(r,t,e)=>r<<32-e|t>>>e,up=(r,t,e)=>r<<64-e|t>>>e-32,fp=(r,t,e)=>r>>>e-32|t<<64-e,hp=(r,t)=>t,lp=(r,t)=>r,dp=(r,t,e)=>r<<e|t>>>32-e,pp=(r,t,e)=>t<<e|r>>>32-e,yp=(r,t,e)=>t<<e-32|r>>>64-e,gp=(r,t,e)=>r<<e-32|t>>>64-e;function mp(r,t,e,n){let i=(t>>>0)+(n>>>0);return{h:r+e+(i/2**32|0)|0,l:i|0}}var wp=(r,t,e)=>(r>>>0)+(t>>>0)+(e>>>0),xp=(r,t,e,n)=>t+e+n+(r/2**32|0)|0,bp=(r,t,e,n)=>(r>>>0)+(t>>>0)+(e>>>0)+(n>>>0),vp=(r,t,e,n,i)=>t+e+n+i+(r/2**32|0)|0,kp=(r,t,e,n,i)=>(r>>>0)+(t>>>0)+(e>>>0)+(n>>>0)+(i>>>0),Ip=(r,t,e,n,i,o)=>t+e+n+i+o+(r/2**32|0)|0,Ap={fromBig:Pf,split:np,toBig:ip,shrSH:op,shrSL:sp,rotrSH:ap,rotrSL:cp,rotrBH:up,rotrBL:fp,rotr32H:hp,rotr32L:lp,rotlSH:dp,rotlSL:pp,rotlBH:yp,rotlBL:gp,add:mp,add3L:wp,add3H:xp,add4L:bp,add4H:vp,add5H:Ip,add5L:kp},ue=Ap;var[_p,Ep]=ue.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(r=>BigInt(r))),jn=new Uint32Array(80),Gn=new Uint32Array(80),wo=class extends Ui{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:t,Al:e,Bh:n,Bl:i,Ch:o,Cl:s,Dh:d,Dl:g,Eh:A,El:L,Fh:M,Fl:$,Gh:K,Gl:et,Hh:tt,Hl:ht}=this;return[t,e,n,i,o,s,d,g,A,L,M,$,K,et,tt,ht]}set(t,e,n,i,o,s,d,g,A,L,M,$,K,et,tt,ht){this.Ah=t|0,this.Al=e|0,this.Bh=n|0,this.Bl=i|0,this.Ch=o|0,this.Cl=s|0,this.Dh=d|0,this.Dl=g|0,this.Eh=A|0,this.El=L|0,this.Fh=M|0,this.Fl=$|0,this.Gh=K|0,this.Gl=et|0,this.Hh=tt|0,this.Hl=ht|0}process(t,e){for(let _t=0;_t<16;_t++,e+=4)jn[_t]=t.getUint32(e),Gn[_t]=t.getUint32(e+=4);for(let _t=16;_t<80;_t++){let Tt=jn[_t-15]|0,ee=Gn[_t-15]|0,Ft=ue.rotrSH(Tt,ee,1)^ue.rotrSH(Tt,ee,8)^ue.shrSH(Tt,ee,7),Dt=ue.rotrSL(Tt,ee,1)^ue.rotrSL(Tt,ee,8)^ue.shrSL(Tt,ee,7),T=jn[_t-2]|0,C=Gn[_t-2]|0,x=ue.rotrSH(T,C,19)^ue.rotrBH(T,C,61)^ue.shrSH(T,C,6),B=ue.rotrSL(T,C,19)^ue.rotrBL(T,C,61)^ue.shrSL(T,C,6),v=ue.add4L(Dt,B,Gn[_t-7],Gn[_t-16]),y=ue.add4H(v,Ft,x,jn[_t-7],jn[_t-16]);jn[_t]=y|0,Gn[_t]=v|0}let{Ah:n,Al:i,Bh:o,Bl:s,Ch:d,Cl:g,Dh:A,Dl:L,Eh:M,El:$,Fh:K,Fl:et,Gh:tt,Gl:ht,Hh:mt,Hl:Q}=this;for(let _t=0;_t<80;_t++){let Tt=ue.rotrSH(M,$,14)^ue.rotrSH(M,$,18)^ue.rotrBH(M,$,41),ee=ue.rotrSL(M,$,14)^ue.rotrSL(M,$,18)^ue.rotrBL(M,$,41),Ft=M&K^~M&tt,Dt=$&et^~$&ht,T=ue.add5L(Q,ee,Dt,Ep[_t],Gn[_t]),C=ue.add5H(T,mt,Tt,Ft,_p[_t],jn[_t]),x=T|0,B=ue.rotrSH(n,i,28)^ue.rotrBH(n,i,34)^ue.rotrBH(n,i,39),v=ue.rotrSL(n,i,28)^ue.rotrBL(n,i,34)^ue.rotrBL(n,i,39),y=n&o^n&d^o&d,a=i&s^i&g^s&g;mt=tt|0,Q=ht|0,tt=K|0,ht=et|0,K=M|0,et=$|0,{h:M,l:$}=ue.add(A|0,L|0,C|0,x|0),A=d|0,L=g|0,d=o|0,g=s|0,o=n|0,s=i|0;let c=ue.add3L(x,v,a);n=ue.add3H(c,C,B,y),i=c|0}({h:n,l:i}=ue.add(this.Ah|0,this.Al|0,n|0,i|0)),{h:o,l:s}=ue.add(this.Bh|0,this.Bl|0,o|0,s|0),{h:d,l:g}=ue.add(this.Ch|0,this.Cl|0,d|0,g|0),{h:A,l:L}=ue.add(this.Dh|0,this.Dl|0,A|0,L|0),{h:M,l:$}=ue.add(this.Eh|0,this.El|0,M|0,$|0),{h:K,l:et}=ue.add(this.Fh|0,this.Fl|0,K|0,et|0),{h:tt,l:ht}=ue.add(this.Gh|0,this.Gl|0,tt|0,ht|0),{h:mt,l:Q}=ue.add(this.Hh|0,this.Hl|0,mt|0,Q|0),this.set(n,i,o,s,d,g,A,L,M,$,K,et,tt,ht,mt,Q)}roundClean(){jn.fill(0),Gn.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},Bc=class extends wo{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}},Rc=class extends wo{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}},Of=$n(()=>new wo),Mw=$n(()=>new Bc),Lw=$n(()=>new Rc);var Sp=de(ks(),1);var Ir=BigInt(0),Me=BigInt(1),Ni=BigInt(2),Cf=BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),ir=Object.freeze({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),P:BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),l:Cf,n:Cf,h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960")});var Ff=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000"),xo=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),Uw=BigInt("6853475219497561581579357271197624642482790079785650197046958215289687604742"),Bp=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),Rp=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),Tp=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),Mp=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),Te=class{constructor(t,e,n,i){this.x=t,this.y=e,this.z=n,this.t=i}static fromAffine(t){if(!(t instanceof tr))throw new TypeError("ExtendedPoint#fromAffine: expected Point");return t.equals(tr.ZERO)?Te.ZERO:new Te(t.x,t.y,Me,dt(t.x*t.y))}static toAffineBatch(t){let e=Op(t.map(n=>n.z));return t.map((n,i)=>n.toAffine(e[i]))}static normalizeZ(t){return this.toAffineBatch(t).map(this.fromAffine)}equals(t){Uf(t);let{x:e,y:n,z:i}=this,{x:o,y:s,z:d}=t,g=dt(e*d),A=dt(o*i),L=dt(n*d),M=dt(s*i);return g===A&&L===M}negate(){return new Te(dt(-this.x),this.y,this.z,dt(-this.t))}double(){let{x:t,y:e,z:n}=this,{a:i}=ir,o=dt(t*t),s=dt(e*e),d=dt(Ni*dt(n*n)),g=dt(i*o),A=t+e,L=dt(dt(A*A)-o-s),M=g+s,$=M-d,K=g-s,et=dt(L*$),tt=dt(M*K),ht=dt(L*K),mt=dt($*M);return new Te(et,tt,mt,ht)}add(t){Uf(t);let{x:e,y:n,z:i,t:o}=this,{x:s,y:d,z:g,t:A}=t,L=dt((n-e)*(d+s)),M=dt((n+e)*(d-s)),$=dt(M-L);if($===Ir)return this.double();let K=dt(i*Ni*A),et=dt(o*Ni*g),tt=et+K,ht=M+L,mt=et-K,Q=dt(tt*$),_t=dt(ht*mt),Tt=dt(tt*mt),ee=dt($*ht);return new Te(Q,_t,ee,Tt)}subtract(t){return this.add(t.negate())}precomputeWindow(t){let e=1+256/t,n=[],i=this,o=i;for(let s=0;s<e;s++){o=i,n.push(o);for(let d=1;d<2**(t-1);d++)o=o.add(i),n.push(o);i=o.double()}return n}wNAF(t,e){!e&&this.equals(Te.BASE)&&(e=tr.BASE);let n=e&&e._WINDOW_SIZE||1;if(256%n)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let i=e&&Pc.get(e);i||(i=this.precomputeWindow(n),e&&n!==1&&(i=Te.normalizeZ(i),Pc.set(e,i)));let o=Te.ZERO,s=Te.ZERO,d=1+256/n,g=2**(n-1),A=BigInt(2**n-1),L=2**n,M=BigInt(n);for(let $=0;$<d;$++){let K=$*g,et=Number(t&A);if(t>>=M,et>g&&(et-=L,t+=Me),et===0){let tt=i[K];$%2&&(tt=tt.negate()),s=s.add(tt)}else{let tt=i[K+Math.abs(et)-1];et<0&&(tt=tt.negate()),o=o.add(tt)}}return Te.normalizeZ([o,s])[0]}multiply(t,e){return this.wNAF(As(t,ir.l),e)}multiplyUnsafe(t){let e=As(t,ir.l,!1),n=Te.BASE,i=Te.ZERO;if(e===Ir)return i;if(this.equals(i)||e===Me)return this;if(this.equals(n))return this.wNAF(e);let o=i,s=this;for(;e>Ir;)e&Me&&(o=o.add(s)),s=s.double(),e>>=Me;return o}isSmallOrder(){return this.multiplyUnsafe(ir.h).equals(Te.ZERO)}isTorsionFree(){return this.multiplyUnsafe(ir.l).equals(Te.ZERO)}toAffine(t=Es(this.z)){let{x:e,y:n,z:i}=this,o=dt(e*t),s=dt(n*t);if(dt(i*t)!==Me)throw new Error("invZ was invalid");return new tr(o,s)}fromRistrettoBytes(){Mc()}toRistrettoBytes(){Mc()}fromRistrettoHash(){Mc()}};Te.BASE=new Te(ir.Gx,ir.Gy,Me,dt(ir.Gx*ir.Gy));Te.ZERO=new Te(Ir,Me,Me,Ir);function Uf(r){if(!(r instanceof Te))throw new TypeError("ExtendedPoint expected")}function Tc(r){if(!(r instanceof $r))throw new TypeError("RistrettoPoint expected")}function Mc(){throw new Error("Legacy method: switch to RistrettoPoint")}var $r=class{constructor(t){this.ep=t}static calcElligatorRistrettoMap(t){let{d:e}=ir,n=dt(xo*t*t),i=dt((n+Me)*Tp),o=BigInt(-1),s=dt((o-e*n)*dt(n+e)),{isValid:d,value:g}=Cc(i,s),A=dt(g*t);Yn(A)||(A=dt(-A)),d||(g=A),d||(o=n);let L=dt(o*(n-Me)*Mp-s),M=g*g,$=dt((g+g)*s),K=dt(L*Bp),et=dt(Me-M),tt=dt(Me+M);return new Te(dt($*tt),dt(et*K),dt(K*tt),dt($*et))}static hashToCurve(t){t=Zn(t,64);let e=Lc(t.slice(0,32)),n=this.calcElligatorRistrettoMap(e),i=Lc(t.slice(32,64)),o=this.calcElligatorRistrettoMap(i);return new $r(n.add(o))}static fromHex(t){t=Zn(t,32);let{a:e,d:n}=ir,i="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint",o=Lc(t);if(!Up(vo(o),t)||Yn(o))throw new Error(i);let s=dt(o*o),d=dt(Me+e*s),g=dt(Me-e*s),A=dt(d*d),L=dt(g*g),M=dt(e*n*A-L),{isValid:$,value:K}=zf(dt(M*L)),et=dt(K*g),tt=dt(K*et*M),ht=dt((o+o)*et);Yn(ht)&&(ht=dt(-ht));let mt=dt(d*tt),Q=dt(ht*mt);if(!$||Yn(Q)||mt===Ir)throw new Error(i);return new $r(new Te(ht,mt,Me,Q))}toRawBytes(){let{x:t,y:e,z:n,t:i}=this.ep,o=dt(dt(n+e)*dt(n-e)),s=dt(t*e),d=dt(s*s),{value:g}=zf(dt(o*d)),A=dt(g*o),L=dt(g*s),M=dt(A*L*i),$;if(Yn(i*M)){let et=dt(e*xo),tt=dt(t*xo);t=et,e=tt,$=dt(A*Rp)}else $=L;Yn(t*M)&&(e=dt(-e));let K=dt((n-e)*$);return Yn(K)&&(K=dt(-K)),vo(K)}toHex(){return ko(this.toRawBytes())}toString(){return this.toHex()}equals(t){Tc(t);let e=this.ep,n=t.ep,i=dt(e.x*n.y)===dt(e.y*n.x),o=dt(e.y*n.y)===dt(e.x*n.x);return i||o}add(t){return Tc(t),new $r(this.ep.add(t.ep))}subtract(t){return Tc(t),new $r(this.ep.subtract(t.ep))}multiply(t){return new $r(this.ep.multiply(t))}multiplyUnsafe(t){return new $r(this.ep.multiplyUnsafe(t))}};$r.BASE=new $r(Te.BASE);$r.ZERO=new $r(Te.ZERO);var Pc=new WeakMap,tr=class{constructor(t,e){this.x=t,this.y=e}_setWindowSize(t){this._WINDOW_SIZE=t,Pc.delete(this)}static fromHex(t,e=!0){let{d:n,P:i}=ir;t=Zn(t,32);let o=t.slice();o[31]=t[31]&-129;let s=Io(o);if(e&&s>=i)throw new Error("Expected 0 < hex < P");if(!e&&s>=Ff)throw new Error("Expected 0 < hex < 2**256");let d=dt(s*s),g=dt(d-Me),A=dt(n*d+Me),{isValid:L,value:M}=Cc(g,A);if(!L)throw new Error("Point.fromHex: invalid y coordinate");let $=(M&Me)===Me;return(t[31]&128)!==0!==$&&(M=dt(-M)),new tr(M,s)}static async fromPrivateKey(t){return(await Wf(t)).point}toRawBytes(){let t=vo(this.y);return t[31]|=this.x&Me?128:0,t}toHex(){return ko(this.toRawBytes())}toX25519(){let{y:t}=this,e=dt((Me+t)*Es(Me-t));return vo(e)}isTorsionFree(){return Te.fromAffine(this).isTorsionFree()}equals(t){return this.x===t.x&&this.y===t.y}negate(){return new tr(dt(-this.x),this.y)}add(t){return Te.fromAffine(this).add(Te.fromAffine(t)).toAffine()}subtract(t){return this.add(t.negate())}multiply(t){return Te.fromAffine(this).multiply(t,this).toAffine()}};tr.BASE=new tr(ir.Gx,ir.Gy);tr.ZERO=new tr(Ir,Me);var wi=class{constructor(t,e){this.r=t,this.s=e,this.assertValidity()}static fromHex(t){let e=Zn(t,64),n=tr.fromHex(e.slice(0,32),!1),i=Io(e.slice(32,64));return new wi(n,i)}assertValidity(){let{r:t,s:e}=this;if(!(t instanceof tr))throw new Error("Expected Point instance");return As(e,ir.l,!1),this}toRawBytes(){let t=new Uint8Array(64);return t.set(this.r.toRawBytes()),t.set(vo(this.s),32),t}toHex(){return ko(this.toRawBytes())}};function Nf(...r){if(!r.every(n=>n instanceof Uint8Array))throw new Error("Expected Uint8Array list");if(r.length===1)return r[0];let t=r.reduce((n,i)=>n+i.length,0),e=new Uint8Array(t);for(let n=0,i=0;n<r.length;n++){let o=r[n];e.set(o,i),i+=o.length}return e}var Lp=Array.from({length:256},(r,t)=>t.toString(16).padStart(2,"0"));function ko(r){if(!(r instanceof Uint8Array))throw new Error("Uint8Array expected");let t="";for(let e=0;e<r.length;e++)t+=Lp[r[e]];return t}function Oc(r){if(typeof r!="string")throw new TypeError("hexToBytes: expected string, got "+typeof r);if(r.length%2)throw new Error("hexToBytes: received invalid unpadded hex");let t=new Uint8Array(r.length/2);for(let e=0;e<t.length;e++){let n=e*2,i=r.slice(n,n+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");t[e]=o}return t}function Df(r){let e=r.toString(16).padStart(64,"0");return Oc(e)}function vo(r){return Df(r).reverse()}function Yn(r){return(dt(r)&Me)===Me}function Io(r){if(!(r instanceof Uint8Array))throw new Error("Expected Uint8Array");return BigInt("0x"+ko(Uint8Array.from(r).reverse()))}var Pp=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function Lc(r){return dt(Io(r)&Pp)}function dt(r,t=ir.P){let e=r%t;return e>=Ir?e:t+e}function Es(r,t=ir.P){if(r===Ir||t<=Ir)throw new Error(`invert: expected positive integers, got n=${r} mod=${t}`);let e=dt(r,t),n=t,i=Ir,o=Me,s=Me,d=Ir;for(;e!==Ir;){let A=n/e,L=n%e,M=i-s*A,$=o-d*A;n=e,e=L,i=s,o=d,s=M,d=$}if(n!==Me)throw new Error("invert: does not exist");return dt(i,t)}function Op(r,t=ir.P){let e=new Array(r.length),n=r.reduce((o,s,d)=>s===Ir?o:(e[d]=o,dt(o*s,t)),Me),i=Es(n,t);return r.reduceRight((o,s,d)=>s===Ir?o:(e[d]=dt(o*e[d],t),dt(o*s,t)),i),e}function yn(r,t){let{P:e}=ir,n=r;for(;t-- >Ir;)n*=n,n%=e;return n}function Cp(r){let{P:t}=ir,e=BigInt(5),n=BigInt(10),i=BigInt(20),o=BigInt(40),s=BigInt(80),g=r*r%t*r%t,A=yn(g,Ni)*g%t,L=yn(A,Me)*r%t,M=yn(L,e)*L%t,$=yn(M,n)*M%t,K=yn($,i)*$%t,et=yn(K,o)*K%t,tt=yn(et,s)*et%t,ht=yn(tt,s)*et%t,mt=yn(ht,n)*M%t;return{pow_p_5_8:yn(mt,Ni)*r%t,b2:g}}function Cc(r,t){let e=dt(t*t*t),n=dt(e*e*t),i=Cp(r*n).pow_p_5_8,o=dt(r*e*i),s=dt(t*o*o),d=o,g=dt(o*xo),A=s===r,L=s===dt(-r),M=s===dt(-r*xo);return A&&(o=d),(L||M)&&(o=g),Yn(o)&&(o=dt(-o)),{isValid:A||L,value:o}}function zf(r){return Cc(Me,r)}function Is(r){return dt(Io(r),ir.l)}function Up(r,t){if(r.length!==t.length)return!1;for(let e=0;e<r.length;e++)if(r[e]!==t[e])return!1;return!0}function Zn(r,t){let e=r instanceof Uint8Array?Uint8Array.from(r):Oc(r);if(typeof t=="number"&&e.length!==t)throw new Error(`Expected ${t} bytes`);return e}function As(r,t,e=!0){if(!t)throw new TypeError("Specify max value");if(typeof r=="number"&&Number.isSafeInteger(r)&&(r=BigInt(r)),typeof r=="bigint"&&r<t){if(e){if(Ir<r)return r}else if(Ir<=r)return r}throw new TypeError("Expected valid scalar: 0 < scalar < max")}function Np(r){return r[0]&=248,r[31]&=127,r[31]|=64,r}function qf(r){if(r=typeof r=="bigint"||typeof r=="number"?Df(As(r,Ff)):Zn(r),r.length!==32)throw new Error("Expected 32 bytes");return r}function Kf(r){let t=Np(r.slice(0,32)),e=r.slice(32,64),n=Is(t),i=tr.BASE.multiply(n),o=i.toRawBytes();return{head:t,prefix:e,scalar:n,point:i,pointBytes:o}}var bo;function _s(...r){if(typeof bo!="function")throw new Error("utils.sha512Sync must be set to use sync methods");return bo(...r)}async function Wf(r){return Kf(await Xn.sha512(qf(r)))}function Uc(r){return Kf(_s(qf(r)))}function zp(r){return Uc(r).pointBytes}function Fp(r,t){r=Zn(r);let{prefix:e,scalar:n,pointBytes:i}=Uc(t),o=Is(_s(e,r)),s=tr.BASE.multiply(o),d=Is(_s(s.toRawBytes(),i,r)),g=dt(o+d*n,ir.l);return new wi(s,g).toRawBytes()}function Dp(r,t,e){t=Zn(t),e instanceof tr||(e=tr.fromHex(e,!1));let{r:n,s:i}=r instanceof wi?r.assertValidity():wi.fromHex(r),o=Te.BASE.multiplyUnsafe(i);return{r:n,s:i,SB:o,pub:e,msg:t}}function qp(r,t,e,n){let i=Is(n),o=Te.fromAffine(r).multiplyUnsafe(i);return Te.fromAffine(t).add(o).subtract(e).multiplyUnsafe(ir.h).equals(Te.ZERO)}function Kp(r,t,e){let{r:n,SB:i,msg:o,pub:s}=Dp(r,t,e),d=_s(n.toRawBytes(),s.toRawBytes(),o);return qp(s,n,i,d)}var Ss={getExtendedPublicKey:Uc,getPublicKey:zp,sign:Fp,verify:Kp};tr.BASE._setWindowSize(8);var Vn={node:Sp,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0},Xn={bytesToHex:ko,hexToBytes:Oc,concatBytes:Nf,getExtendedPublicKey:Wf,mod:dt,invert:Es,TORSION_SUBGROUP:["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"],hashToPrivateScalar:r=>{if(r=Zn(r),r.length<40||r.length>1024)throw new Error("Expected 40-1024 bytes of private key as per FIPS 186");return dt(Io(r),ir.l-Me)+Me},randomBytes:(r=32)=>{if(Vn.web)return Vn.web.getRandomValues(new Uint8Array(r));if(Vn.node){let{randomBytes:t}=Vn.node;return new Uint8Array(t(r).buffer)}else throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>Xn.randomBytes(32),sha512:async(...r)=>{let t=Nf(...r);if(Vn.web){let e=await Vn.web.subtle.digest("SHA-512",t.buffer);return new Uint8Array(e)}else{if(Vn.node)return Uint8Array.from(Vn.node.createHash("sha512").update(t).digest());throw new Error("The environment doesn't have sha512 function")}},precompute(r=8,t=tr.BASE){let e=t.equals(tr.BASE)?t:new tr(t.x,t.y);return e._setWindowSize(r),e.multiply(Ni),e},sha512Sync:void 0};Object.defineProperties(Xn,{sha512Sync:{configurable:!1,get(){return bo},set(r){bo||(bo=r)}}});var Uu=de(zc()),Vr=de(Yc());var w1=(r,t,e)=>r&t^~r&e,x1=(r,t,e)=>r&t^r&e^t&e,b1=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Qn=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),ti=new Uint32Array(64),Zc=class extends Ui{constructor(){super(64,32,8,!1),this.A=Qn[0]|0,this.B=Qn[1]|0,this.C=Qn[2]|0,this.D=Qn[3]|0,this.E=Qn[4]|0,this.F=Qn[5]|0,this.G=Qn[6]|0,this.H=Qn[7]|0}get(){let{A:t,B:e,C:n,D:i,E:o,F:s,G:d,H:g}=this;return[t,e,n,i,o,s,d,g]}set(t,e,n,i,o,s,d,g){this.A=t|0,this.B=e|0,this.C=n|0,this.D=i|0,this.E=o|0,this.F=s|0,this.G=d|0,this.H=g|0}process(t,e){for(let M=0;M<16;M++,e+=4)ti[M]=t.getUint32(e,!1);for(let M=16;M<64;M++){let $=ti[M-15],K=ti[M-2],et=un($,7)^un($,18)^$>>>3,tt=un(K,17)^un(K,19)^K>>>10;ti[M]=tt+ti[M-7]+et+ti[M-16]|0}let{A:n,B:i,C:o,D:s,E:d,F:g,G:A,H:L}=this;for(let M=0;M<64;M++){let $=un(d,6)^un(d,11)^un(d,25),K=L+$+w1(d,g,A)+b1[M]+ti[M]|0,tt=(un(n,2)^un(n,13)^un(n,22))+x1(n,i,o)|0;L=A,A=g,g=d,d=s+K|0,s=o,o=i,i=n,n=K+tt|0}n=n+this.A|0,i=i+this.B|0,o=o+this.C|0,s=s+this.D|0,d=d+this.E|0,g=g+this.F|0,A=A+this.G|0,L=L+this.H|0,this.set(n,i,o,s,d,g,A,L)}roundClean(){ti.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},Ls=$n(()=>new Zc);var so=de(xh()),W=de(De()),zl=de(De()),ns=de(ou());var su=class extends TypeError{constructor(t,e){let n,{message:i,...o}=t,{path:s}=t,d=s.length===0?i:"At path: "+s.join(".")+" -- "+i;super(d),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>{var g;return(g=n)!=null?g:n=[t,...e()]}}};function q1(r){return ni(r)&&typeof r[Symbol.iterator]=="function"}function ni(r){return typeof r=="object"&&r!=null}function fn(r){return typeof r=="string"?JSON.stringify(r):""+r}function K1(r){let{done:t,value:e}=r.next();return t?void 0:e}function W1(r,t,e,n){if(r===!0)return;r===!1?r={}:typeof r=="string"&&(r={message:r});let{path:i,branch:o}=t,{type:s}=e,{refinement:d,message:g="Expected a value of type `"+s+"`"+(d?" with refinement `"+d+"`":"")+", but received: `"+fn(n)+"`"}=r;return{value:n,type:s,refinement:d,key:i[i.length-1],path:i,branch:o,...r,message:g}}function*bh(r,t,e,n){q1(r)||(r=[r]);for(let i of r){let o=W1(i,t,e,n);o&&(yield o)}}function*au(r,t,e={}){let{path:n=[],branch:i=[r],coerce:o=!1,mask:s=!1}=e,d={path:n,branch:i};if(o&&(r=t.coercer(r,d),s&&t.type!=="type"&&ni(t.schema)&&ni(r)&&!Array.isArray(r)))for(let A in r)t.schema[A]===void 0&&delete r[A];let g=!0;for(let A of t.validator(r,d))g=!1,yield[A,void 0];for(let[A,L,M]of t.entries(r,d)){let $=au(L,M,{path:A===void 0?n:[...n,A],branch:A===void 0?i:[...i,L],coerce:o,mask:s});for(let K of $)K[0]?(g=!1,yield[K[0],void 0]):o&&(L=K[1],A===void 0?r=L:r instanceof Map?r.set(A,L):r instanceof Set?r.add(L):ni(r)&&(r[A]=L))}if(g)for(let A of t.refiner(r,d))g=!1,yield[A,void 0];g&&(yield[void 0,r])}var rn=class{constructor(t){let{type:e,schema:n,validator:i,refiner:o,coercer:s=g=>g,entries:d=function*(){}}=t;this.type=e,this.schema=n,this.entries=d,this.coercer=s,i?this.validator=(g,A)=>{let L=i(g,A);return bh(L,A,this,g)}:this.validator=()=>[],o?this.refiner=(g,A)=>{let L=o(g,A);return bh(L,A,this,g)}:this.refiner=()=>[]}assert(t){return vh(t,this)}create(t){return Gi(t,this)}is(t){return kh(t,this)}mask(t){return H1(t,this)}validate(t,e={}){return To(t,this,e)}};function vh(r,t){let e=To(r,t);if(e[0])throw e[0]}function Gi(r,t){let e=To(r,t,{coerce:!0});if(e[0])throw e[0];return e[1]}function H1(r,t){let e=To(r,t,{coerce:!0,mask:!0});if(e[0])throw e[0];return e[1]}function kh(r,t){return!To(r,t)[0]}function To(r,t,e={}){let n=au(r,t,e),i=K1(n);return i[0]?[new su(i[0],function*(){for(let s of n)s[0]&&(yield s[0])}),void 0]:[void 0,i[1]]}function Ii(r,t){return new rn({type:r,schema:null,validator:t})}function Ih(){return Ii("any",()=>!0)}function Kt(r){return new rn({type:"array",schema:r,*entries(t){if(r&&Array.isArray(t))for(let[e,n]of t.entries())yield[e,n,r]},coercer(t){return Array.isArray(t)?t.slice():t},validator(t){return Array.isArray(t)||"Expected an array value, but received: "+fn(t)}})}function bn(){return Ii("boolean",r=>typeof r=="boolean")}function oa(r){return Ii("instance",t=>t instanceof r||"Expected a `"+r.name+"` instance, but received: "+fn(t))}function or(r){let t=fn(r),e=typeof r;return new rn({type:"literal",schema:e==="string"||e==="number"||e==="boolean"?r:null,validator(n){return n===r||"Expected the literal `"+t+"`, but received: "+fn(n)}})}function $1(){return Ii("never",()=>!1)}function ie(r){return new rn({...r,validator:(t,e)=>t===null||r.validator(t,e),refiner:(t,e)=>t===null||r.refiner(t,e)})}function it(){return Ii("number",r=>typeof r=="number"&&!isNaN(r)||"Expected a number, but received: "+fn(r))}function ve(r){return new rn({...r,validator:(t,e)=>t===void 0||r.validator(t,e),refiner:(t,e)=>t===void 0||r.refiner(t,e)})}function cu(r,t){return new rn({type:"record",schema:null,*entries(e){if(ni(e))for(let n in e){let i=e[n];yield[n,n,r],yield[n,i,t]}},validator(e){return ni(e)||"Expected an object, but received: "+fn(e)}})}function St(){return Ii("string",r=>typeof r=="string"||"Expected a string, but received: "+fn(r))}function sa(r){let t=$1();return new rn({type:"tuple",schema:null,*entries(e){if(Array.isArray(e)){let n=Math.max(r.length,e.length);for(let i=0;i<n;i++)yield[i,e[i],r[i]||t]}},validator(e){return Array.isArray(e)||"Expected an array, but received: "+fn(e)}})}function wt(r){let t=Object.keys(r);return new rn({type:"type",schema:r,*entries(e){if(ni(e))for(let n of t)yield[n,e[n],r[n]]},validator(e){return ni(e)||"Expected an object, but received: "+fn(e)}})}function Kr(r){let t=r.map(e=>e.type).join(" | ");return new rn({type:"union",schema:null,validator(e,n){let i=[];for(let o of r){let[...s]=au(e,o,n),[d]=s;if(d[0])for(let[g]of s)g&&i.push(g);else return[]}return["Expected the value to satisfy a union of `"+t+"`, but received: "+fn(e),...i]}})}function Vi(){return Ii("unknown",()=>!0)}function Yi(r,t,e){return new rn({...r,coercer:(n,i)=>kh(n,t)?r.coercer(e(n,i),i):r.coercer(n,i)})}var _g=de(Fh()),Eg=de(ul());var[ll,dl,pl]=[[],[],[]],rg=BigInt(0),Ho=BigInt(1),ng=BigInt(2),ig=BigInt(7),og=BigInt(256),sg=BigInt(113);for(let r=0,t=Ho,e=1,n=0;r<24;r++){[e,n]=[n,(2*e+3*n)%5],ll.push(2*(5*n+e)),dl.push((r+1)*(r+2)/2%64);let i=rg;for(let o=0;o<7;o++)t=(t<<Ho^(t>>ig)*sg)%og,t&ng&&(i^=Ho<<(Ho<<BigInt(o))-Ho);pl.push(i)}var[ag,cg]=ue.split(pl,!0),fl=(r,t,e)=>e>32?ue.rotlBH(r,t,e):ue.rotlSH(r,t,e),hl=(r,t,e)=>e>32?ue.rotlBL(r,t,e):ue.rotlSL(r,t,e);function ug(r,t=24){let e=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let s=0;s<10;s++)e[s]=r[s]^r[s+10]^r[s+20]^r[s+30]^r[s+40];for(let s=0;s<10;s+=2){let d=(s+8)%10,g=(s+2)%10,A=e[g],L=e[g+1],M=fl(A,L,1)^e[d],$=hl(A,L,1)^e[d+1];for(let K=0;K<50;K+=10)r[s+K]^=M,r[s+K+1]^=$}let i=r[2],o=r[3];for(let s=0;s<24;s++){let d=dl[s],g=fl(i,o,d),A=hl(i,o,d),L=ll[s];i=r[L],o=r[L+1],r[L]=g,r[L+1]=A}for(let s=0;s<50;s+=10){for(let d=0;d<10;d++)e[d]=r[s+d];for(let d=0;d<10;d++)r[s+d]^=~e[(d+2)%10]&e[(d+4)%10]}r[0]^=ag[n],r[1]^=cg[n]}e.fill(0)}var Zi=class extends Sn{constructor(t,e,n,i=!1,o=24){if(super(),this.blockLen=t,this.suffix=e,this.outputLen=n,this.enableXOF=i,this.rounds=o,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Pr.number(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=Mf(this.state)}keccak(){ug(this.state32,this.rounds),this.posOut=0,this.pos=0}update(t){Pr.exists(this);let{blockLen:e,state:n}=this;t=Hn(t);let i=t.length;for(let o=0;o<i;){let s=Math.min(e-this.pos,i-o);for(let d=0;d<s;d++)n[this.pos++]^=t[o++];this.pos===e&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:t,suffix:e,pos:n,blockLen:i}=this;t[n]^=e,(e&128)!==0&&n===i-1&&this.keccak(),t[i-1]^=128,this.keccak()}writeInto(t){Pr.exists(this,!1),Pr.bytes(t),this.finish();let e=this.state,{blockLen:n}=this;for(let i=0,o=t.length;i<o;){this.posOut>=n&&this.keccak();let s=Math.min(n-this.posOut,o-i);t.set(e.subarray(this.posOut,this.posOut+s),i),this.posOut+=s,i+=s}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return Pr.number(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(Pr.output(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){let{blockLen:e,suffix:n,outputLen:i,rounds:o,enableXOF:s}=this;return t||(t=new Zi(e,n,i,s,o)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=o,t.suffix=n,t.outputLen=i,t.enableXOF=s,t.destroyed=this.destroyed,t}},ui=(r,t,e)=>$n(()=>new Zi(t,r,e)),e2=ui(6,144,224/8),r2=ui(6,136,256/8),n2=ui(6,104,384/8),i2=ui(6,72,512/8),o2=ui(1,144,224/8),Au=ui(1,136,256/8),s2=ui(1,104,384/8),a2=ui(1,72,512/8),yl=(r,t,e)=>Lf((n={})=>new Zi(t,r,n.dkLen===void 0?e:n.dkLen,!0)),c2=yl(31,168,128/8),u2=yl(31,136,256/8);var Aa=class extends Sn{constructor(t,e){super(),this.finished=!1,this.destroyed=!1,Pr.hash(t);let n=Hn(e);if(this.iHash=t.create(),!(this.iHash instanceof Sn))throw new TypeError("Expected instance of class which extends utils.Hash");let i=this.blockLen=this.iHash.blockLen;this.outputLen=this.iHash.outputLen;let o=new Uint8Array(i);o.set(n.length>this.iHash.blockLen?t.create().update(n).digest():n);for(let s=0;s<o.length;s++)o[s]^=54;this.iHash.update(o),this.oHash=t.create();for(let s=0;s<o.length;s++)o[s]^=106;this.oHash.update(o),o.fill(0)}update(t){return Pr.exists(this),this.iHash.update(t),this}digestInto(t){Pr.exists(this),Pr.bytes(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){let t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));let{oHash:e,iHash:n,finished:i,destroyed:o,blockLen:s,outputLen:d}=this;return t=t,t.finished=i,t.destroyed=o,t.blockLen=s,t.outputLen=d,t.oHash=e._cloneInto(t.oHash),t.iHash=n._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},_u=(r,t,e)=>new Aa(r,t).update(e).digest();_u.create=(r,t)=>new Aa(r,t);var fg=de(ks(),1);var Le=BigInt(0),er=BigInt(1),fi=BigInt(2),jo=BigInt(3),hg=BigInt(8),fr=Object.freeze({a:Le,b:BigInt(7),P:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:er,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee")});function gl(r){let{a:t,b:e}=fr,n=Pt(r*r),i=Pt(n*r);return Pt(i+t*r+e)}var _a=fr.a===Le,Sa=class extends Error{constructor(t){super(t)}},$e=class{constructor(t,e,n){this.x=t,this.y=e,this.z=n}static fromAffine(t){if(!(t instanceof ur))throw new TypeError("JacobianPoint#fromAffine: expected Point");return new $e(t.x,t.y,er)}static toAffineBatch(t){let e=gg(t.map(n=>n.z));return t.map((n,i)=>n.toAffine(e[i]))}static normalizeZ(t){return $e.toAffineBatch(t).map($e.fromAffine)}equals(t){if(!(t instanceof $e))throw new TypeError("JacobianPoint expected");let{x:e,y:n,z:i}=this,{x:o,y:s,z:d}=t,g=Pt(i*i),A=Pt(d*d),L=Pt(e*A),M=Pt(o*g),$=Pt(Pt(n*d)*A),K=Pt(Pt(s*i)*g);return L===M&&$===K}negate(){return new $e(this.x,Pt(-this.y),this.z)}double(){let{x:t,y:e,z:n}=this,i=Pt(t*t),o=Pt(e*e),s=Pt(o*o),d=t+o,g=Pt(fi*(Pt(d*d)-i-s)),A=Pt(jo*i),L=Pt(A*A),M=Pt(L-fi*g),$=Pt(A*(g-M)-hg*s),K=Pt(fi*e*n);return new $e(M,$,K)}add(t){if(!(t instanceof $e))throw new TypeError("JacobianPoint expected");let{x:e,y:n,z:i}=this,{x:o,y:s,z:d}=t;if(o===Le||s===Le)return this;if(e===Le||n===Le)return t;let g=Pt(i*i),A=Pt(d*d),L=Pt(e*A),M=Pt(o*g),$=Pt(Pt(n*d)*A),K=Pt(Pt(s*i)*g),et=Pt(M-L),tt=Pt(K-$);if(et===Le)return tt===Le?this.double():$e.ZERO;let ht=Pt(et*et),mt=Pt(et*ht),Q=Pt(L*ht),_t=Pt(tt*tt-mt-fi*Q),Tt=Pt(tt*(Q-_t)-$*mt),ee=Pt(i*d*et);return new $e(_t,Tt,ee)}subtract(t){return this.add(t.negate())}multiplyUnsafe(t){let e=$e.ZERO;if(typeof t=="bigint"&&t===Le)return e;let n=xl(t);if(n===er)return this;if(!_a){let M=e,$=this;for(;n>Le;)n&er&&(M=M.add($)),$=$.double(),n>>=er;return M}let{k1neg:i,k1:o,k2neg:s,k2:d}=vl(n),g=e,A=e,L=this;for(;o>Le||d>Le;)o&er&&(g=g.add(L)),d&er&&(A=A.add(L)),L=L.double(),o>>=er,d>>=er;return i&&(g=g.negate()),s&&(A=A.negate()),A=new $e(Pt(A.x*fr.beta),A.y,A.z),g.add(A)}precomputeWindow(t){let e=_a?128/t+1:256/t+1,n=[],i=this,o=i;for(let s=0;s<e;s++){o=i,n.push(o);for(let d=1;d<2**(t-1);d++)o=o.add(i),n.push(o);i=o.double()}return n}wNAF(t,e){!e&&this.equals($e.BASE)&&(e=ur.BASE);let n=e&&e._WINDOW_SIZE||1;if(256%n)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let i=e&&Su.get(e);i||(i=this.precomputeWindow(n),e&&n!==1&&(i=$e.normalizeZ(i),Su.set(e,i)));let o=$e.ZERO,s=$e.ZERO,d=1+(_a?128/n:256/n),g=2**(n-1),A=BigInt(2**n-1),L=2**n,M=BigInt(n);for(let $=0;$<d;$++){let K=$*g,et=Number(t&A);if(t>>=M,et>g&&(et-=L,t+=er),et===0){let tt=i[K];$%2&&(tt=tt.negate()),s=s.add(tt)}else{let tt=i[K+Math.abs(et)-1];et<0&&(tt=tt.negate()),o=o.add(tt)}}return{p:o,f:s}}multiply(t,e){let n=xl(t),i,o;if(_a){let{k1neg:s,k1:d,k2neg:g,k2:A}=vl(n),{p:L,f:M}=this.wNAF(d,e),{p:$,f:K}=this.wNAF(A,e);s&&(L=L.negate()),g&&($=$.negate()),$=new $e(Pt($.x*fr.beta),$.y,$.z),i=L.add($),o=M.add(K)}else{let{p:s,f:d}=this.wNAF(n,e);i=s,o=d}return $e.normalizeZ([i,o])[0]}toAffine(t=Zo(this.z)){let{x:e,y:n,z:i}=this,o=t,s=Pt(o*o),d=Pt(s*o),g=Pt(e*s),A=Pt(n*d);if(Pt(i*o)!==er)throw new Error("invZ was invalid");return new ur(g,A)}};$e.BASE=new $e(fr.Gx,fr.Gy,er);$e.ZERO=new $e(Le,er,Le);var Su=new WeakMap,ur=class{constructor(t,e){this.x=t,this.y=e}_setWindowSize(t){this._WINDOW_SIZE=t,Su.delete(this)}hasEvenY(){return this.y%fi===Le}static fromCompressedHex(t){let e=t.length===32,n=Cn(e?t:t.subarray(1));if(!Eu(n))throw new Error("Point is not on curve");let i=gl(n),o=yg(i),s=(o&er)===er;e?s&&(o=Pt(-o)):(t[0]&1)===1!==s&&(o=Pt(-o));let d=new ur(n,o);return d.assertValidity(),d}static fromUncompressedHex(t){let e=Cn(t.subarray(1,33)),n=Cn(t.subarray(33,65)),i=new ur(e,n);return i.assertValidity(),i}static fromHex(t){let e=Vo(t),n=e.length,i=e[0];if(n===32||n===33&&(i===2||i===3))return this.fromCompressedHex(e);if(n===65&&i===4)return this.fromUncompressedHex(e);throw new Error(`Point.fromHex: received invalid point. Expected 32-33 compressed bytes or 65 uncompressed bytes, not ${n}`)}static fromPrivateKey(t){return ur.BASE.multiply(Ra(t))}static fromSignature(t,e,n){t=Vo(t);let i=wg(t),{r:o,s}=bg(e);if(n!==0&&n!==1)throw new Error("Cannot recover signature: invalid recovery bit");let d=n&1?"03":"02",g=ur.fromHex(d+Ji(o)),{n:A}=fr,L=Zo(o,A),M=Pt(-i*L,A),$=Pt(s*L,A),K=ur.BASE.multiplyAndAddUnsafe(g,M,$);if(!K)throw new Error("Cannot recover signature: point at infinify");return K.assertValidity(),K}toRawBytes(t=!1){return _i(this.toHex(t))}toHex(t=!1){let e=Ji(this.x);return t?`${this.hasEvenY()?"02":"03"}${e}`:`04${e}${Ji(this.y)}`}toHexX(){return this.toHex(!0).slice(2)}toRawX(){return this.toRawBytes(!0).slice(1)}assertValidity(){let t="Point is not on elliptic curve",{x:e,y:n}=this;if(!Eu(e)||!Eu(n))throw new Error(t);let i=Pt(n*n),o=gl(e);if(Pt(i-o)!==Le)throw new Error(t)}equals(t){return this.x===t.x&&this.y===t.y}negate(){return new ur(this.x,Pt(-this.y))}double(){return $e.fromAffine(this).double().toAffine()}add(t){return $e.fromAffine(this).add($e.fromAffine(t)).toAffine()}subtract(t){return this.add(t.negate())}multiply(t){return $e.fromAffine(this).multiply(t,this).toAffine()}multiplyAndAddUnsafe(t,e,n){let i=$e.fromAffine(this),o=e===Le||e===er||this!==ur.BASE?i.multiplyUnsafe(e):i.multiply(e),s=$e.fromAffine(t).multiplyUnsafe(n),d=o.add(s);return d.equals($e.ZERO)?void 0:d.toAffine()}};ur.BASE=new ur(fr.Gx,fr.Gy);ur.ZERO=new ur(Le,Le);function ml(r){return Number.parseInt(r[0],16)>=8?"00"+r:r}function wl(r){if(r.length<2||r[0]!==2)throw new Error(`Invalid signature integer tag: ${to(r)}`);let t=r[1],e=r.subarray(2,t+2);if(!t||e.length!==t)throw new Error("Invalid signature integer: wrong length");if(e[0]===0&&e[1]<=127)throw new Error("Invalid signature integer: trailing length");return{data:Cn(e),left:r.subarray(t+2)}}function lg(r){if(r.length<2||r[0]!=48)throw new Error(`Invalid signature tag: ${to(r)}`);if(r[1]!==r.length-2)throw new Error("Invalid signature: incorrect length");let{data:t,left:e}=wl(r.subarray(2)),{data:n,left:i}=wl(e);if(i.length)throw new Error(`Invalid signature: left bytes after parsing: ${to(i)}`);return{r:t,s:n}}var kn=class{constructor(t,e){this.r=t,this.s=e,this.assertValidity()}static fromCompact(t){let e=t instanceof Uint8Array,n="Signature.fromCompact";if(typeof t!="string"&&!e)throw new TypeError(`${n}: Expected string or Uint8Array`);let i=e?to(t):t;if(i.length!==128)throw new Error(`${n}: Expected 64-byte hex`);return new kn(Ba(i.slice(0,64)),Ba(i.slice(64,128)))}static fromDER(t){let e=t instanceof Uint8Array;if(typeof t!="string"&&!e)throw new TypeError("Signature.fromDER: Expected string or Uint8Array");let{r:n,s:i}=lg(e?t:_i(t));return new kn(n,i)}static fromHex(t){return this.fromDER(t)}assertValidity(){let{r:t,s:e}=this;if(!Yo(t))throw new Error("Invalid Signature: r must be 0 < r < n");if(!Yo(e))throw new Error("Invalid Signature: s must be 0 < s < n")}hasHighS(){let t=fr.n>>er;return this.s>t}normalizeS(){return this.hasHighS()?new kn(this.r,fr.n-this.s):this}toDERRawBytes(t=!1){return _i(this.toDERHex(t))}toDERHex(t=!1){let e=ml($o(this.s));if(t)return e;let n=ml($o(this.r)),i=$o(n.length/2),o=$o(e.length/2);return`30${$o(n.length/2+e.length/2+4)}02${i}${n}02${o}${e}`}toRawBytes(){return this.toDERRawBytes()}toHex(){return this.toDERHex()}toCompactRawBytes(){return _i(this.toCompactHex())}toCompactHex(){return Ji(this.r)+Ji(this.s)}};function Xi(...r){if(!r.every(n=>n instanceof Uint8Array))throw new Error("Uint8Array list expected");if(r.length===1)return r[0];let t=r.reduce((n,i)=>n+i.length,0),e=new Uint8Array(t);for(let n=0,i=0;n<r.length;n++){let o=r[n];e.set(o,i),i+=o.length}return e}var dg=Array.from({length:256},(r,t)=>t.toString(16).padStart(2,"0"));function to(r){if(!(r instanceof Uint8Array))throw new Error("Expected Uint8Array");let t="";for(let e=0;e<r.length;e++)t+=dg[r[e]];return t}var pg=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000");function Ji(r){if(typeof r!="bigint")throw new Error("Expected bigint");if(!(Le<=r&&r<pg))throw new Error("Expected number < 2^256");return r.toString(16).padStart(64,"0")}function Bu(r){let t=_i(Ji(r));if(t.length!==32)throw new Error("Error: expected 32 bytes");return t}function $o(r){let t=r.toString(16);return t.length&1?`0${t}`:t}function Ba(r){if(typeof r!="string")throw new TypeError("hexToNumber: expected string, got "+typeof r);return BigInt(`0x${r}`)}function _i(r){if(typeof r!="string")throw new TypeError("hexToBytes: expected string, got "+typeof r);if(r.length%2)throw new Error("hexToBytes: received invalid unpadded hex"+r.length);let t=new Uint8Array(r.length/2);for(let e=0;e<t.length;e++){let n=e*2,i=r.slice(n,n+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");t[e]=o}return t}function Cn(r){return Ba(to(r))}function Vo(r){return r instanceof Uint8Array?Uint8Array.from(r):_i(r)}function xl(r){if(typeof r=="number"&&Number.isSafeInteger(r)&&r>0)return BigInt(r);if(typeof r=="bigint"&&Yo(r))return r;throw new TypeError("Expected valid private scalar: 0 < scalar < curve.n")}function Pt(r,t=fr.P){let e=r%t;return e>=Le?e:t+e}function nn(r,t){let{P:e}=fr,n=r;for(;t-- >Le;)n*=n,n%=e;return n}function yg(r){let{P:t}=fr,e=BigInt(6),n=BigInt(11),i=BigInt(22),o=BigInt(23),s=BigInt(44),d=BigInt(88),g=r*r*r%t,A=g*g*r%t,L=nn(A,jo)*A%t,M=nn(L,jo)*A%t,$=nn(M,fi)*g%t,K=nn($,n)*$%t,et=nn(K,i)*K%t,tt=nn(et,s)*et%t,ht=nn(tt,d)*tt%t,mt=nn(ht,s)*et%t,Q=nn(mt,jo)*A%t,_t=nn(Q,o)*K%t,Tt=nn(_t,e)*g%t;return nn(Tt,fi)}function Zo(r,t=fr.P){if(r===Le||t<=Le)throw new Error(`invert: expected positive integers, got n=${r} mod=${t}`);let e=Pt(r,t),n=t,i=Le,o=er,s=er,d=Le;for(;e!==Le;){let A=n/e,L=n%e,M=i-s*A,$=o-d*A;n=e,e=L,i=s,o=d,s=M,d=$}if(n!==er)throw new Error("invert: does not exist");return Pt(i,t)}function gg(r,t=fr.P){let e=new Array(r.length),n=r.reduce((o,s,d)=>s===Le?o:(e[d]=o,Pt(o*s,t)),er),i=Zo(n,t);return r.reduceRight((o,s,d)=>s===Le?o:(e[d]=Pt(o*e[d],t),Pt(o*s,t)),i),e}var bl=(r,t)=>(r+t/fi)/t,mg={a1:BigInt("0x3086d221a7d46bcde86c90e49284eb15"),b1:-er*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),a2:BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),b2:BigInt("0x3086d221a7d46bcde86c90e49284eb15"),POW_2_128:BigInt("0x100000000000000000000000000000000")};function vl(r){let{n:t}=fr,{a1:e,b1:n,a2:i,b2:o,POW_2_128:s}=mg,d=bl(o*r,t),g=bl(-n*r,t),A=Pt(r-d*e-g*i,t),L=Pt(-d*n-g*o,t),M=A>s,$=L>s;if(M&&(A=t-A),$&&(L=t-L),A>s||L>s)throw new Error("splitScalarEndo: Endomorphism failed, k="+r);return{k1neg:M,k1:A,k2neg:$,k2:L}}function wg(r){let{n:t}=fr,n=r.length*8-256,i=Cn(r);return n>0&&(i=i>>BigInt(n)),i>=t&&(i-=t),i}var Qi,Go,Ru=class{constructor(){this.v=new Uint8Array(32).fill(1),this.k=new Uint8Array(32).fill(0),this.counter=0}hmac(...t){return vn.hmacSha256(this.k,...t)}hmacSync(...t){return Go(this.k,...t)}checkSync(){if(typeof Go!="function")throw new Sa("hmacSha256Sync needs to be set")}incr(){if(this.counter>=1e3)throw new Error("Tried 1,000 k values for sign(), all were invalid");this.counter+=1}async reseed(t=new Uint8Array){this.k=await this.hmac(this.v,Uint8Array.from([0]),t),this.v=await this.hmac(this.v),t.length!==0&&(this.k=await this.hmac(this.v,Uint8Array.from([1]),t),this.v=await this.hmac(this.v))}reseedSync(t=new Uint8Array){this.checkSync(),this.k=this.hmacSync(this.v,Uint8Array.from([0]),t),this.v=this.hmacSync(this.v),t.length!==0&&(this.k=this.hmacSync(this.v,Uint8Array.from([1]),t),this.v=this.hmacSync(this.v))}async generate(){return this.incr(),this.v=await this.hmac(this.v),this.v}generateSync(){return this.checkSync(),this.incr(),this.v=this.hmacSync(this.v),this.v}};function Yo(r){return Le<r&&r<fr.n}function Eu(r){return Le<r&&r<fr.P}function xg(r,t,e){let n=Cn(r);if(!Yo(n))return;let{n:i}=fr,o=ur.BASE.multiply(n),s=Pt(o.x,i);if(s===Le)return;let d=Pt(Zo(n,i)*Pt(t+e*s,i),i);if(d===Le)return;let g=new kn(s,d),A=(o.x===g.r?0:2)|Number(o.y&er);return{sig:g,recovery:A}}function Ra(r){let t;if(typeof r=="bigint")t=r;else if(typeof r=="number"&&Number.isSafeInteger(r)&&r>0)t=BigInt(r);else if(typeof r=="string"){if(r.length!==64)throw new Error("Expected 32 bytes of private key");t=Ba(r)}else if(r instanceof Uint8Array){if(r.length!==32)throw new Error("Expected 32 bytes of private key");t=Cn(r)}else throw new TypeError("Expected valid private key");if(!Yo(t))throw new Error("Expected private key: 0 < key < n");return t}function bg(r){if(r instanceof kn)return r.assertValidity(),r;try{return kn.fromDER(r)}catch{return kn.fromCompact(r)}}function kl(r,t=!1){return ur.fromPrivateKey(r).toRawBytes(t)}function Il(r){let t=r.length>32?r.slice(0,32):r;return Cn(t)}function vg(r){let t=Il(r),e=Pt(t,fr.n);return Al(e<Le?t:e)}function Al(r){return Bu(r)}function kg(r,t,e){if(r==null)throw new Error(`sign: expected valid message hash, not "${r}"`);let n=Vo(r),i=Ra(t),o=[Al(i),vg(n)];if(e!=null){e===!0&&(e=vn.randomBytes(32));let g=Vo(e);if(g.length!==32)throw new Error("sign: Expected 32 bytes of extra data");o.push(g)}let s=Xi(...o),d=Il(n);return{seed:s,m:d,d:i}}function Ig(r,t){let{sig:e,recovery:n}=r,{canonical:i,der:o,recovered:s}=Object.assign({canonical:!0,der:!0},t);i&&e.hasHighS()&&(e=e.normalizeS(),n^=1);let d=o?e.toDERRawBytes():e.toCompactRawBytes();return s?[d,n]:d}function _l(r,t,e={}){let{seed:n,m:i,d:o}=kg(r,t,e.extraEntropy),s,d=new Ru;for(d.reseedSync(n);!(s=xg(d.generateSync(),i,o));)d.reseedSync();return Ig(s,e)}ur.BASE._setWindowSize(8);var Jr={node:fg,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0};var Ea={},vn={bytesToHex:to,hexToBytes:_i,concatBytes:Xi,mod:Pt,invert:Zo,isValidPrivateKey(r){try{return Ra(r),!0}catch{return!1}},_bigintTo32Bytes:Bu,_normalizePrivateKey:Ra,hashToPrivateKey:r=>{if(r=Vo(r),r.length<40||r.length>1024)throw new Error("Expected 40-1024 bytes of private key as per FIPS 186");let t=Pt(Cn(r),fr.n-er)+er;return Bu(t)},randomBytes:(r=32)=>{if(Jr.web)return Jr.web.getRandomValues(new Uint8Array(r));if(Jr.node){let{randomBytes:t}=Jr.node;return Uint8Array.from(t(r))}else throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>vn.hashToPrivateKey(vn.randomBytes(40)),sha256:async(...r)=>{if(Jr.web){let t=await Jr.web.subtle.digest("SHA-256",Xi(...r));return new Uint8Array(t)}else if(Jr.node){let{createHash:t}=Jr.node,e=t("sha256");return r.forEach(n=>e.update(n)),Uint8Array.from(e.digest())}else throw new Error("The environment doesn't have sha256 function")},hmacSha256:async(r,...t)=>{if(Jr.web){let e=await Jr.web.subtle.importKey("raw",r,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),n=Xi(...t),i=await Jr.web.subtle.sign("HMAC",e,n);return new Uint8Array(i)}else if(Jr.node){let{createHmac:e}=Jr.node,n=e("sha256",r);return t.forEach(i=>n.update(i)),Uint8Array.from(n.digest())}else throw new Error("The environment doesn't have hmac-sha256 function")},sha256Sync:void 0,hmacSha256Sync:void 0,taggedHash:async(r,...t)=>{let e=Ea[r];if(e===void 0){let n=await vn.sha256(Uint8Array.from(r,i=>i.charCodeAt(0)));e=Xi(n,n),Ea[r]=e}return vn.sha256(e,...t)},taggedHashSync:(r,...t)=>{if(typeof Qi!="function")throw new Sa("sha256Sync is undefined, you need to set it");let e=Ea[r];if(e===void 0){let n=Qi(Uint8Array.from(r,i=>i.charCodeAt(0)));e=Xi(n,n),Ea[r]=e}return Qi(e,...t)},precompute(r=8,t=ur.BASE){let e=t===ur.BASE?t:new ur(t.x,t.y);return e._setWindowSize(r),e.multiply(jo),e}};Object.defineProperties(vn,{sha256Sync:{configurable:!1,get(){return Qi},set(r){Qi||(Qi=r)}},hmacSha256Sync:{configurable:!1,get(){return Go},set(r){Go||(Go=r)}}});Xn.sha512Sync=(...r)=>Of(Xn.concatBytes(...r));var x2=Xn.randomPrivateKey,El=()=>{let r=Xn.randomPrivateKey(),t=Nu(r),e=new Uint8Array(64);return e.set(r),e.set(t,32),{publicKey:t,secretKey:e}},Nu=Ss.getPublicKey;function Sl(r){try{return tr.fromHex(r,!0),!0}catch{return!1}}var Fl=(r,t)=>Ss.sign(r,t.slice(0,32)),Sg=Ss.verify,qe=r=>se.Buffer.isBuffer(r)?r:r instanceof Uint8Array?se.Buffer.from(r.buffer,r.byteOffset,r.byteLength):se.Buffer.from(r),zu=class{constructor(t){Object.assign(this,t)}encode(){return se.Buffer.from((0,so.serialize)(La,this))}static decode(t){return(0,so.deserialize)(La,this,t)}static decodeUnchecked(t){return(0,so.deserializeUnchecked)(La,this,t)}};var La=new Map,Bg=32,eo=32;function Rg(r){return r._bn!==void 0}var Bl=1,kt=class extends zu{constructor(t){if(super({}),this._bn=void 0,Rg(t))this._bn=t._bn;else{if(typeof t=="string"){let e=Vr.default.decode(t);if(e.length!=eo)throw new Error("Invalid public key input");this._bn=new Uu.default(e)}else this._bn=new Uu.default(t);if(this._bn.byteLength()>32)throw new Error("Invalid public key input")}}static unique(){let t=new kt(Bl);return Bl+=1,new kt(t.toBuffer())}equals(t){return this._bn.eq(t._bn)}toBase58(){return Vr.default.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){return this.toBuffer()}toBuffer(){let t=this._bn.toArrayLike(se.Buffer);if(t.length===eo)return t;let e=se.Buffer.alloc(32);return t.copy(e,32-t.length),e}toString(){return this.toBase58()}static async createWithSeed(t,e,n){let i=se.Buffer.concat([t.toBuffer(),se.Buffer.from(e),n.toBuffer()]),o=Ls(i);return new kt(o)}static createProgramAddressSync(t,e){let n=se.Buffer.alloc(0);t.forEach(function(o){if(o.length>Bg)throw new TypeError("Max seed length exceeded");n=se.Buffer.concat([n,qe(o)])}),n=se.Buffer.concat([n,e.toBuffer(),se.Buffer.from("ProgramDerivedAddress")]);let i=Ls(n);if(Sl(i))throw new Error("Invalid seeds, address must fall off the curve");return new kt(i)}static async createProgramAddress(t,e){return this.createProgramAddressSync(t,e)}static findProgramAddressSync(t,e){let n=255,i;for(;n!=0;){try{let o=t.concat(se.Buffer.from([n]));i=this.createProgramAddressSync(o,e)}catch(o){if(o instanceof TypeError)throw o;n--;continue}return[i,n]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(t,e){return this.findProgramAddressSync(t,e)}static isOnCurve(t){let e=new kt(t);return Sl(e.toBytes())}};kt.default=new kt("11111111111111111111111111111111");La.set(kt,{kind:"struct",fields:[["_bn","u256"]]});var b2=new kt("BPFLoader1111111111111111111111111111111111"),Pa=1280-40-8,Tg=127,Fu=64,Du=class extends Error{constructor(t){super(`Signature ${t} has expired: block height exceeded.`),this.signature=void 0,this.signature=t}};Object.defineProperty(Du.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});var qu=class extends Error{constructor(t,e){super(`Transaction was not confirmed in ${e.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${t} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=t}};Object.defineProperty(qu.prototype,"name",{value:"TransactionExpiredTimeoutError"});var Oa=class{constructor(t,e){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=t,this.accountKeysFromLookups=e}keySegments(){let t=[this.staticAccountKeys];return this.accountKeysFromLookups&&(t.push(this.accountKeysFromLookups.writable),t.push(this.accountKeysFromLookups.readonly)),t}get(t){for(let e of this.keySegments()){if(t<e.length)return e[t];t-=e.length}}get length(){return this.keySegments().flat().length}compileInstructions(t){if(this.length>255+1)throw new Error("Account index overflow encountered during compilation");let n=new Map;this.keySegments().flat().forEach((o,s)=>{n.set(o.toBase58(),s)});let i=o=>{let s=n.get(o.toBase58());if(s===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return s};return t.map(o=>({programIdIndex:i(o.programId),accountKeyIndexes:o.keys.map(s=>i(s.pubkey)),data:o.data}))}},Ne=(r="publicKey")=>W.blob(32,r);var ro=(r="string")=>{let t=W.struct([W.u32("length"),W.u32("lengthPadding"),W.blob(W.offset(W.u32(),-8),"chars")],r),e=t.decode.bind(t),n=t.encode.bind(t),i=t;return i.decode=(o,s)=>e(o,s).chars.toString(),i.encode=(o,s,d)=>{let g={chars:se.Buffer.from(o,"utf8")};return n(g,s,d)},i.alloc=o=>W.u32().span+W.u32().span+se.Buffer.from(o,"utf8").length,i},Mg=(r="authorized")=>W.struct([Ne("staker"),Ne("withdrawer")],r),Lg=(r="lockup")=>W.struct([W.ns64("unixTimestamp"),W.ns64("epoch"),Ne("custodian")],r),Pg=(r="voteInit")=>W.struct([Ne("nodePubkey"),Ne("authorizedVoter"),Ne("authorizedWithdrawer"),W.u8("commission")],r),Og=(r="voteAuthorizeWithSeedArgs")=>W.struct([W.u32("voteAuthorizationType"),Ne("currentAuthorityDerivedKeyOwnerPubkey"),ro("currentAuthorityDerivedKeySeed"),Ne("newAuthorized")],r);function Dl(r,t){let e=i=>{if(i.span>=0)return i.span;if(typeof i.alloc=="function")return i.alloc(t[i.property]);if("count"in i&&"elementLayout"in i){let o=t[i.property];if(Array.isArray(o))return o.length*e(i.elementLayout)}else if("fields"in i)return Dl({layout:i},t[i.property]);return 0},n=0;return r.layout.fields.forEach(i=>{n+=e(i)}),n}function Jo(r){let t=0,e=0;for(;;){let n=r.shift();if(t|=(n&127)<<e*7,e+=1,(n&128)===0)break}return t}function Qo(r,t){let e=t;for(;;){let n=e&127;if(e>>=7,e==0){r.push(n);break}else n|=128,r.push(n)}}function xr(r,t){if(!r)throw new Error(t||"Assertion failed")}var ts=class{constructor(t,e){this.payer=void 0,this.keyMetaMap=void 0,this.payer=t,this.keyMetaMap=e}static compile(t,e){let n=new Map,i=s=>{let d=s.toBase58(),g=n.get(d);return g===void 0&&(g={isSigner:!1,isWritable:!1,isInvoked:!1},n.set(d,g)),g},o=i(e);o.isSigner=!0,o.isWritable=!0;for(let s of t){i(s.programId).isInvoked=!0;for(let d of s.keys){let g=i(d.pubkey);g.isSigner||(g.isSigner=d.isSigner),g.isWritable||(g.isWritable=d.isWritable)}}return new ts(e,n)}getMessageComponents(){let t=[...this.keyMetaMap.entries()];xr(t.length<=256,"Max static account keys length exceeded");let e=t.filter(([,g])=>g.isSigner&&g.isWritable),n=t.filter(([,g])=>g.isSigner&&!g.isWritable),i=t.filter(([,g])=>!g.isSigner&&g.isWritable),o=t.filter(([,g])=>!g.isSigner&&!g.isWritable),s={numRequiredSignatures:e.length+n.length,numReadonlySignedAccounts:n.length,numReadonlyUnsignedAccounts:o.length};{xr(e.length>0,"Expected at least one writable signer key");let[g]=e[0];xr(g===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}let d=[...e.map(([g])=>new kt(g)),...n.map(([g])=>new kt(g)),...i.map(([g])=>new kt(g)),...o.map(([g])=>new kt(g))];return[s,d]}extractTableLookup(t){let[e,n]=this.drainKeysFoundInLookupTable(t.state.addresses,s=>!s.isSigner&&!s.isInvoked&&s.isWritable),[i,o]=this.drainKeysFoundInLookupTable(t.state.addresses,s=>!s.isSigner&&!s.isInvoked&&!s.isWritable);if(!(e.length===0&&i.length===0))return[{accountKey:t.key,writableIndexes:e,readonlyIndexes:i},{writable:n,readonly:o}]}drainKeysFoundInLookupTable(t,e){let n=new Array,i=new Array;for(let[o,s]of this.keyMetaMap.entries())if(e(s)){let d=new kt(o),g=t.findIndex(A=>A.equals(d));g>=0&&(xr(g<256,"Max lookup table index exceeded"),n.push(g),i.push(d),this.keyMetaMap.delete(o))}return[n,i]}},Bi=class{constructor(t){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=t.header,this.accountKeys=t.accountKeys.map(e=>new kt(e)),this.recentBlockhash=t.recentBlockhash,this.instructions=t.instructions,this.instructions.forEach(e=>this.indexToProgramIds.set(e.programIdIndex,this.accountKeys[e.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:Vr.default.decode(t.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new Oa(this.staticAccountKeys)}static compile(t){let e=ts.compile(t.instructions,t.payerKey),[n,i]=e.getMessageComponents(),s=new Oa(i).compileInstructions(t.instructions).map(d=>({programIdIndex:d.programIdIndex,accounts:d.accountKeyIndexes,data:Vr.default.encode(d.data)}));return new Bi({header:n,accountKeys:i,recentBlockhash:t.recentBlockhash,instructions:s})}isAccountSigner(t){return t<this.header.numRequiredSignatures}isAccountWritable(t){return t<this.header.numRequiredSignatures-this.header.numReadonlySignedAccounts||t>=this.header.numRequiredSignatures&&t<this.accountKeys.length-this.header.numReadonlyUnsignedAccounts}isProgramId(t){return this.indexToProgramIds.has(t)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((t,e)=>!this.isProgramId(e))}serialize(){let t=this.accountKeys.length,e=[];Qo(e,t);let n=this.instructions.map(M=>{let{accounts:$,programIdIndex:K}=M,et=Array.from(Vr.default.decode(M.data)),tt=[];Qo(tt,$.length);let ht=[];return Qo(ht,et.length),{programIdIndex:K,keyIndicesCount:se.Buffer.from(tt),keyIndices:$,dataLength:se.Buffer.from(ht),data:et}}),i=[];Qo(i,n.length);let o=se.Buffer.alloc(Pa);se.Buffer.from(i).copy(o);let s=i.length;n.forEach(M=>{let K=W.struct([W.u8("programIdIndex"),W.blob(M.keyIndicesCount.length,"keyIndicesCount"),W.seq(W.u8("keyIndex"),M.keyIndices.length,"keyIndices"),W.blob(M.dataLength.length,"dataLength"),W.seq(W.u8("userdatum"),M.data.length,"data")]).encode(M,o,s);s+=K}),o=o.slice(0,s);let d=W.struct([W.blob(1,"numRequiredSignatures"),W.blob(1,"numReadonlySignedAccounts"),W.blob(1,"numReadonlyUnsignedAccounts"),W.blob(e.length,"keyCount"),W.seq(Ne("key"),t,"keys"),Ne("recentBlockhash")]),g={numRequiredSignatures:se.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:se.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:se.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:se.Buffer.from(e),keys:this.accountKeys.map(M=>qe(M.toBytes())),recentBlockhash:Vr.default.decode(this.recentBlockhash)},A=se.Buffer.alloc(2048),L=d.encode(g,A);return o.copy(A,L),A.slice(0,L+o.length)}static from(t){let e=[...t],n=e.shift();if(n!==(n&Tg))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");let i=e.shift(),o=e.shift(),s=Jo(e),d=[];for(let $=0;$<s;$++){let K=e.slice(0,eo);e=e.slice(eo),d.push(new kt(se.Buffer.from(K)))}let g=e.slice(0,eo);e=e.slice(eo);let A=Jo(e),L=[];for(let $=0;$<A;$++){let K=e.shift(),et=Jo(e),tt=e.slice(0,et);e=e.slice(et);let ht=Jo(e),mt=e.slice(0,ht),Q=Vr.default.encode(se.Buffer.from(mt));e=e.slice(ht),L.push({programIdIndex:K,accounts:tt,data:Q})}let M={header:{numRequiredSignatures:n,numReadonlySignedAccounts:i,numReadonlyUnsignedAccounts:o},recentBlockhash:Vr.default.encode(se.Buffer.from(g)),accountKeys:d,instructions:L};return new Bi(M)}};var Rl;(function(r){r[r.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",r[r.PROCESSED=1]="PROCESSED",r[r.TIMED_OUT=2]="TIMED_OUT"})(Rl||(Rl={}));var Cg=se.Buffer.alloc(Fu).fill(0),Vt=class{constructor(t){this.keys=void 0,this.programId=void 0,this.data=se.Buffer.alloc(0),this.programId=t.programId,this.keys=t.keys,t.data&&(this.data=t.data)}toJSON(){return{keys:this.keys.map(({pubkey:t,isSigner:e,isWritable:n})=>({pubkey:t.toJSON(),isSigner:e,isWritable:n})),programId:this.programId.toJSON(),data:[...this.data]}}},Ke=class{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(t){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this._message=void 0,this._json=void 0,!!t)if(t.feePayer&&(this.feePayer=t.feePayer),t.signatures&&(this.signatures=t.signatures),Object.prototype.hasOwnProperty.call(t,"lastValidBlockHeight")){let{blockhash:e,lastValidBlockHeight:n}=t;this.recentBlockhash=e,this.lastValidBlockHeight=n}else{let{recentBlockhash:e,nonceInfo:n}=t;n&&(this.nonceInfo=n),this.recentBlockhash=e}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(t=>t.toJSON()),signers:this.signatures.map(({publicKey:t})=>t.toJSON())}}add(...t){if(t.length===0)throw new Error("No instructions");return t.forEach(e=>{"instructions"in e?this.instructions=this.instructions.concat(e.instructions):"data"in e&&"programId"in e&&"keys"in e?this.instructions.push(e):this.instructions.push(new Vt(e))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let t,e;if(this.nonceInfo?(t=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?e=[this.nonceInfo.nonceInstruction,...this.instructions]:e=this.instructions):(t=this.recentBlockhash,e=this.instructions),!t)throw new Error("Transaction recentBlockhash required");e.length<1&&console.warn("No instructions provided");let n;if(this.feePayer)n=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)n=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let tt=0;tt<e.length;tt++)if(e[tt].programId===void 0)throw new Error(`Transaction instruction index ${tt} has undefined program id`);let i=[],o=[];e.forEach(tt=>{tt.keys.forEach(mt=>{o.push({...mt})});let ht=tt.programId.toString();i.includes(ht)||i.push(ht)}),i.forEach(tt=>{o.push({pubkey:new kt(tt),isSigner:!1,isWritable:!1})});let s=[];o.forEach(tt=>{let ht=tt.pubkey.toString(),mt=s.findIndex(Q=>Q.pubkey.toString()===ht);mt>-1?(s[mt].isWritable=s[mt].isWritable||tt.isWritable,s[mt].isSigner=s[mt].isSigner||tt.isSigner):s.push(tt)}),s.sort(function(tt,ht){return tt.isSigner!==ht.isSigner?tt.isSigner?-1:1:tt.isWritable!==ht.isWritable?tt.isWritable?-1:1:tt.pubkey.toBase58().localeCompare(ht.pubkey.toBase58())});let d=s.findIndex(tt=>tt.pubkey.equals(n));if(d>-1){let[tt]=s.splice(d,1);tt.isSigner=!0,tt.isWritable=!0,s.unshift(tt)}else s.unshift({pubkey:n,isSigner:!0,isWritable:!0});for(let tt of this.signatures){let ht=s.findIndex(mt=>mt.pubkey.equals(tt.publicKey));if(ht>-1)s[ht].isSigner||(s[ht].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${tt.publicKey.toString()}`)}let g=0,A=0,L=0,M=[],$=[];s.forEach(({pubkey:tt,isSigner:ht,isWritable:mt})=>{ht?(M.push(tt.toString()),g+=1,mt||(A+=1)):($.push(tt.toString()),mt||(L+=1))});let K=M.concat($),et=e.map(tt=>{let{data:ht,programId:mt}=tt;return{programIdIndex:K.indexOf(mt.toString()),accounts:tt.keys.map(Q=>K.indexOf(Q.pubkey.toString())),data:Vr.default.encode(ht)}});return et.forEach(tt=>{xr(tt.programIdIndex>=0),tt.accounts.forEach(ht=>xr(ht>=0))}),new Bi({header:{numRequiredSignatures:g,numReadonlySignedAccounts:A,numReadonlyUnsignedAccounts:L},accountKeys:K,recentBlockhash:t,instructions:et})}_compile(){let t=this.compileMessage(),e=t.accountKeys.slice(0,t.header.numRequiredSignatures);return this.signatures.length===e.length&&this.signatures.every((i,o)=>e[o].equals(i.publicKey))||(this.signatures=e.map(n=>({signature:null,publicKey:n}))),t}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(t){return(await t.getFeeForMessage(this.compileMessage())).value}setSigners(...t){if(t.length===0)throw new Error("No signers");let e=new Set;this.signatures=t.filter(n=>{let i=n.toString();return e.has(i)?!1:(e.add(i),!0)}).map(n=>({signature:null,publicKey:n}))}sign(...t){if(t.length===0)throw new Error("No signers");let e=new Set,n=[];for(let o of t){let s=o.publicKey.toString();e.has(s)||(e.add(s),n.push(o))}this.signatures=n.map(o=>({signature:null,publicKey:o.publicKey}));let i=this._compile();this._partialSign(i,...n)}partialSign(...t){if(t.length===0)throw new Error("No signers");let e=new Set,n=[];for(let o of t){let s=o.publicKey.toString();e.has(s)||(e.add(s),n.push(o))}let i=this._compile();this._partialSign(i,...n)}_partialSign(t,...e){let n=t.serialize();e.forEach(i=>{let o=Fl(n,i.secretKey);this._addSignature(i.publicKey,qe(o))})}addSignature(t,e){this._compile(),this._addSignature(t,e)}_addSignature(t,e){xr(e.length===64);let n=this.signatures.findIndex(i=>t.equals(i.publicKey));if(n<0)throw new Error(`unknown signer: ${t.toString()}`);this.signatures[n].signature=se.Buffer.from(e)}verifySignatures(){return this._verifySignatures(this.serializeMessage(),!0)}_verifySignatures(t,e){for(let{signature:n,publicKey:i}of this.signatures)if(n===null){if(e)return!1}else if(!Sg(n,t,i.toBuffer()))return!1;return!0}serialize(t){let{requireAllSignatures:e,verifySignatures:n}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},t),i=this.serializeMessage();if(n&&!this._verifySignatures(i,e))throw new Error("Signature verification failed");return this._serialize(i)}_serialize(t){let{signatures:e}=this,n=[];Qo(n,e.length);let i=n.length+e.length*64+t.length,o=se.Buffer.alloc(i);return xr(e.length<256),se.Buffer.from(n).copy(o,0),e.forEach(({signature:s},d)=>{s!==null&&(xr(s.length===64,"signature has invalid length"),se.Buffer.from(s).copy(o,n.length+d*64))}),t.copy(o,n.length+e.length*64),xr(o.length<=Pa,`Transaction too large: ${o.length} > ${Pa}`),o}get keys(){return xr(this.instructions.length===1),this.instructions[0].keys.map(t=>t.pubkey)}get programId(){return xr(this.instructions.length===1),this.instructions[0].programId}get data(){return xr(this.instructions.length===1),this.instructions[0].data}static from(t){let e=[...t],n=Jo(e),i=[];for(let o=0;o<n;o++){let s=e.slice(0,Fu);e=e.slice(Fu),i.push(Vr.default.encode(se.Buffer.from(s)))}return Ke.populate(Bi.from(e),i)}static populate(t,e=[]){let n=new Ke;return n.recentBlockhash=t.recentBlockhash,t.header.numRequiredSignatures>0&&(n.feePayer=t.accountKeys[0]),e.forEach((i,o)=>{let s={signature:i==Vr.default.encode(Cg)?null:Vr.default.decode(i),publicKey:t.accountKeys[o]};n.signatures.push(s)}),t.instructions.forEach(i=>{let o=i.accounts.map(s=>{let d=t.accountKeys[s];return{pubkey:d,isSigner:n.signatures.some(g=>g.publicKey.toString()===d.toString())||t.isAccountSigner(s),isWritable:t.isAccountWritable(s)}});n.instructions.push(new Vt({keys:o,programId:t.accountKeys[i.programIdIndex],data:Vr.default.decode(i.data)}))}),n._message=t,n._json=n.toJSON(),n}};var Un=new kt("SysvarC1ock11111111111111111111111111111111"),v2=new kt("SysvarEpochSchedu1e111111111111111111111111"),k2=new kt("Sysvar1nstructions1111111111111111111111111"),Tu=new kt("SysvarRecentB1ockHashes11111111111111111111"),Nn=new kt("SysvarRent111111111111111111111111111111111"),I2=new kt("SysvarRewards111111111111111111111111111111"),A2=new kt("SysvarS1otHashes111111111111111111111111111"),_2=new kt("SysvarS1otHistory11111111111111111111111111"),Mu=new kt("SysvarStakeHistory1111111111111111111111111");async function Lu(r,t,e,n){let i=n&&{skipPreflight:n.skipPreflight,preflightCommitment:n.preflightCommitment||n.commitment,maxRetries:n.maxRetries,minContextSlot:n.minContextSlot},o=await r.sendTransaction(t,e,i),s=t.recentBlockhash!=null&&t.lastValidBlockHeight!=null?(await r.confirmTransaction({signature:o,blockhash:t.recentBlockhash,lastValidBlockHeight:t.lastValidBlockHeight},n&&n.commitment)).value:(await r.confirmTransaction(o,n&&n.commitment)).value;if(s.err)throw new Error(`Transaction ${o} failed (${JSON.stringify(s)})`);return o}function Ug(r){return new Promise(t=>setTimeout(t,r))}function Ue(r,t){let e=r.layout.span>=0?r.layout.span:Dl(r,t),n=se.Buffer.alloc(e),i=Object.assign({instruction:r.index},t);return r.layout.encode(i,n),n}function on(r,t){let e;try{e=r.layout.decode(t)}catch(n){throw new Error("invalid instruction; "+n)}if(e.instruction!==r.index)throw new Error(`invalid instruction; instruction index mismatch ${e.instruction} != ${r.index}`);return e}var Ng=W.nu64("lamportsPerSignature"),zg=W.struct([W.u32("version"),W.u32("state"),Ne("authorizedPubkey"),Ne("nonce"),W.struct([Ng],"feeCalculator")]),Tl=zg.span;var Fg=r=>{let t=r.decode.bind(r),e=r.encode.bind(r);return{decode:t,encode:e}},Dg=r=>t=>{let e=(0,zl.blob)(r,t),{encode:n,decode:i}=Fg(e),o=e;return o.decode=(s,d)=>{let g=i(s,d);return(0,ns.toBigIntLE)(se.Buffer.from(g))},o.encode=(s,d,g)=>{let A=(0,ns.toBufferLE)(s,r);return n(A,d,g)},o},no=Dg(8),Ca=class{constructor(){}static decodeInstructionType(t){this.checkProgramId(t.programId);let n=W.u32("instruction").decode(t.data),i;for(let[o,s]of Object.entries(rr))if(s.index==n){i=o;break}if(!i)throw new Error("Instruction type incorrect; not a SystemInstruction");return i}static decodeCreateAccount(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,2);let{lamports:e,space:n,programId:i}=on(rr.Create,t.data);return{fromPubkey:t.keys[0].pubkey,newAccountPubkey:t.keys[1].pubkey,lamports:e,space:n,programId:new kt(i)}}static decodeTransfer(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,2);let{lamports:e}=on(rr.Transfer,t.data);return{fromPubkey:t.keys[0].pubkey,toPubkey:t.keys[1].pubkey,lamports:e}}static decodeTransferWithSeed(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3);let{lamports:e,seed:n,programId:i}=on(rr.TransferWithSeed,t.data);return{fromPubkey:t.keys[0].pubkey,basePubkey:t.keys[1].pubkey,toPubkey:t.keys[2].pubkey,lamports:e,seed:n,programId:new kt(i)}}static decodeAllocate(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,1);let{space:e}=on(rr.Allocate,t.data);return{accountPubkey:t.keys[0].pubkey,space:e}}static decodeAllocateWithSeed(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,1);let{base:e,seed:n,space:i,programId:o}=on(rr.AllocateWithSeed,t.data);return{accountPubkey:t.keys[0].pubkey,basePubkey:new kt(e),seed:n,space:i,programId:new kt(o)}}static decodeAssign(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,1);let{programId:e}=on(rr.Assign,t.data);return{accountPubkey:t.keys[0].pubkey,programId:new kt(e)}}static decodeAssignWithSeed(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,1);let{base:e,seed:n,programId:i}=on(rr.AssignWithSeed,t.data);return{accountPubkey:t.keys[0].pubkey,basePubkey:new kt(e),seed:n,programId:new kt(i)}}static decodeCreateWithSeed(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,2);let{base:e,seed:n,lamports:i,space:o,programId:s}=on(rr.CreateWithSeed,t.data);return{fromPubkey:t.keys[0].pubkey,newAccountPubkey:t.keys[1].pubkey,basePubkey:new kt(e),seed:n,lamports:i,space:o,programId:new kt(s)}}static decodeNonceInitialize(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3);let{authorized:e}=on(rr.InitializeNonceAccount,t.data);return{noncePubkey:t.keys[0].pubkey,authorizedPubkey:new kt(e)}}static decodeNonceAdvance(t){return this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3),on(rr.AdvanceNonceAccount,t.data),{noncePubkey:t.keys[0].pubkey,authorizedPubkey:t.keys[2].pubkey}}static decodeNonceWithdraw(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,5);let{lamports:e}=on(rr.WithdrawNonceAccount,t.data);return{noncePubkey:t.keys[0].pubkey,toPubkey:t.keys[1].pubkey,authorizedPubkey:t.keys[4].pubkey,lamports:e}}static decodeNonceAuthorize(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,2);let{authorized:e}=on(rr.AuthorizeNonceAccount,t.data);return{noncePubkey:t.keys[0].pubkey,authorizedPubkey:t.keys[1].pubkey,newAuthorizedPubkey:new kt(e)}}static checkProgramId(t){if(!t.equals(yr.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(t,e){if(t.length<e)throw new Error(`invalid instruction; found ${t.length} keys, expected at least ${e}`)}},rr=Object.freeze({Create:{index:0,layout:W.struct([W.u32("instruction"),W.ns64("lamports"),W.ns64("space"),Ne("programId")])},Assign:{index:1,layout:W.struct([W.u32("instruction"),Ne("programId")])},Transfer:{index:2,layout:W.struct([W.u32("instruction"),no("lamports")])},CreateWithSeed:{index:3,layout:W.struct([W.u32("instruction"),Ne("base"),ro("seed"),W.ns64("lamports"),W.ns64("space"),Ne("programId")])},AdvanceNonceAccount:{index:4,layout:W.struct([W.u32("instruction")])},WithdrawNonceAccount:{index:5,layout:W.struct([W.u32("instruction"),W.ns64("lamports")])},InitializeNonceAccount:{index:6,layout:W.struct([W.u32("instruction"),Ne("authorized")])},AuthorizeNonceAccount:{index:7,layout:W.struct([W.u32("instruction"),Ne("authorized")])},Allocate:{index:8,layout:W.struct([W.u32("instruction"),W.ns64("space")])},AllocateWithSeed:{index:9,layout:W.struct([W.u32("instruction"),Ne("base"),ro("seed"),W.ns64("space"),Ne("programId")])},AssignWithSeed:{index:10,layout:W.struct([W.u32("instruction"),Ne("base"),ro("seed"),Ne("programId")])},TransferWithSeed:{index:11,layout:W.struct([W.u32("instruction"),no("lamports"),ro("seed"),Ne("programId")])},UpgradeNonceAccount:{index:12,layout:W.struct([W.u32("instruction")])}}),yr=class{constructor(){}static createAccount(t){let e=rr.Create,n=Ue(e,{lamports:t.lamports,space:t.space,programId:qe(t.programId.toBuffer())});return new Vt({keys:[{pubkey:t.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:t.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:n})}static transfer(t){let e,n;if("basePubkey"in t){let i=rr.TransferWithSeed;e=Ue(i,{lamports:BigInt(t.lamports),seed:t.seed,programId:qe(t.programId.toBuffer())}),n=[{pubkey:t.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:t.basePubkey,isSigner:!0,isWritable:!1},{pubkey:t.toPubkey,isSigner:!1,isWritable:!0}]}else{let i=rr.Transfer;e=Ue(i,{lamports:BigInt(t.lamports)}),n=[{pubkey:t.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:t.toPubkey,isSigner:!1,isWritable:!0}]}return new Vt({keys:n,programId:this.programId,data:e})}static assign(t){let e,n;if("basePubkey"in t){let i=rr.AssignWithSeed;e=Ue(i,{base:qe(t.basePubkey.toBuffer()),seed:t.seed,programId:qe(t.programId.toBuffer())}),n=[{pubkey:t.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:t.basePubkey,isSigner:!0,isWritable:!1}]}else{let i=rr.Assign;e=Ue(i,{programId:qe(t.programId.toBuffer())}),n=[{pubkey:t.accountPubkey,isSigner:!0,isWritable:!0}]}return new Vt({keys:n,programId:this.programId,data:e})}static createAccountWithSeed(t){let e=rr.CreateWithSeed,n=Ue(e,{base:qe(t.basePubkey.toBuffer()),seed:t.seed,lamports:t.lamports,space:t.space,programId:qe(t.programId.toBuffer())}),i=[{pubkey:t.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:t.newAccountPubkey,isSigner:!1,isWritable:!0}];return t.basePubkey!=t.fromPubkey&&i.push({pubkey:t.basePubkey,isSigner:!0,isWritable:!1}),new Vt({keys:i,programId:this.programId,data:n})}static createNonceAccount(t){let e=new Ke;"basePubkey"in t&&"seed"in t?e.add(yr.createAccountWithSeed({fromPubkey:t.fromPubkey,newAccountPubkey:t.noncePubkey,basePubkey:t.basePubkey,seed:t.seed,lamports:t.lamports,space:Tl,programId:this.programId})):e.add(yr.createAccount({fromPubkey:t.fromPubkey,newAccountPubkey:t.noncePubkey,lamports:t.lamports,space:Tl,programId:this.programId}));let n={noncePubkey:t.noncePubkey,authorizedPubkey:t.authorizedPubkey};return e.add(this.nonceInitialize(n)),e}static nonceInitialize(t){let e=rr.InitializeNonceAccount,n=Ue(e,{authorized:qe(t.authorizedPubkey.toBuffer())}),i={keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:Tu,isSigner:!1,isWritable:!1},{pubkey:Nn,isSigner:!1,isWritable:!1}],programId:this.programId,data:n};return new Vt(i)}static nonceAdvance(t){let e=rr.AdvanceNonceAccount,n=Ue(e),i={keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:Tu,isSigner:!1,isWritable:!1},{pubkey:t.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n};return new Vt(i)}static nonceWithdraw(t){let e=rr.WithdrawNonceAccount,n=Ue(e,{lamports:t.lamports});return new Vt({keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:t.toPubkey,isSigner:!1,isWritable:!0},{pubkey:Tu,isSigner:!1,isWritable:!1},{pubkey:Nn,isSigner:!1,isWritable:!1},{pubkey:t.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}static nonceAuthorize(t){let e=rr.AuthorizeNonceAccount,n=Ue(e,{authorized:qe(t.newAuthorizedPubkey.toBuffer())});return new Vt({keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:t.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}static allocate(t){let e,n;if("basePubkey"in t){let i=rr.AllocateWithSeed;e=Ue(i,{base:qe(t.basePubkey.toBuffer()),seed:t.seed,space:t.space,programId:qe(t.programId.toBuffer())}),n=[{pubkey:t.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:t.basePubkey,isSigner:!0,isWritable:!1}]}else{let i=rr.Allocate;e=Ue(i,{space:t.space}),n=[{pubkey:t.accountPubkey,isSigner:!0,isWritable:!0}]}return new Vt({keys:n,programId:this.programId,data:e})}};yr.programId=new kt("11111111111111111111111111111111");var qg=Pa-300,io=class{constructor(){}static getMinNumSignatures(t){return 2*(Math.ceil(t/io.chunkSize)+1+1)}static async load(t,e,n,i,o){{let M=await t.getMinimumBalanceForRentExemption(o.length),$=await t.getAccountInfo(n.publicKey,"confirmed"),K=null;if($!==null){if($.executable)return console.error("Program load failed, account is already executable"),!1;$.data.length!==o.length&&(K=K||new Ke,K.add(yr.allocate({accountPubkey:n.publicKey,space:o.length}))),$.owner.equals(i)||(K=K||new Ke,K.add(yr.assign({accountPubkey:n.publicKey,programId:i}))),$.lamports<M&&(K=K||new Ke,K.add(yr.transfer({fromPubkey:e.publicKey,toPubkey:n.publicKey,lamports:M-$.lamports})))}else K=new Ke().add(yr.createAccount({fromPubkey:e.publicKey,newAccountPubkey:n.publicKey,lamports:M>0?M:1,space:o.length,programId:i}));K!==null&&await Lu(t,K,[e,n],{commitment:"confirmed"})}let s=W.struct([W.u32("instruction"),W.u32("offset"),W.u32("bytesLength"),W.u32("bytesLengthPadding"),W.seq(W.u8("byte"),W.offset(W.u32(),-8),"bytes")]),d=io.chunkSize,g=0,A=o,L=[];for(;A.length>0;){let M=A.slice(0,d),$=se.Buffer.alloc(d+16);s.encode({instruction:0,offset:g,bytes:M,bytesLength:0,bytesLengthPadding:0},$);let K=new Ke().add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0}],programId:i,data:$});L.push(Lu(t,K,[e,n],{commitment:"confirmed"})),t._rpcEndpoint.includes("solana.com")&&await Ug(1e3/4),g+=d,A=A.slice(d)}await Promise.all(L);{let M=W.struct([W.u32("instruction")]),$=se.Buffer.alloc(M.span);M.encode({instruction:1},$);let K=new Ke().add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0},{pubkey:Nn,isSigner:!1,isWritable:!1}],programId:i,data:$});await Lu(t,K,[e,n],{commitment:"confirmed"})}return!0}};io.chunkSize=qg;var E2=new kt("BPFLoader2111111111111111111111111111111111");var S2=globalThis.fetch,Kg=160,Wg=64,Hg=Kg/Wg,B2=1e3/Hg;var R2={index:1,layout:W.struct([W.u32("typeIndex"),no("deactivationSlot"),W.nu64("lastExtendedSlot"),W.u8("lastExtendedStartIndex"),W.u8(),W.seq(Ne(),W.offset(W.u8(),-1),"authority")])};var Pu,br=Yi(oa(kt),St(),r=>new kt(r)),ql=sa([St(),or("base64")]),$u=Yi(oa(se.Buffer),ql,r=>se.Buffer.from(r[0],"base64")),T2=30*1e3;function Kl(r){return Kr([wt({jsonrpc:or("2.0"),id:St(),result:r}),wt({jsonrpc:or("2.0"),id:St(),error:wt({code:Vi(),message:St(),data:ve(Ih())})})])}var $g=Kl(Vi());function vr(r){return Yi(Kl(r),$g,t=>"error"in t?t:{...t,result:Gi(t.result,r)})}function hn(r){return vr(wt({context:wt({slot:it()}),value:r}))}function za(r){return wt({context:wt({slot:it()}),value:r})}var jg=wt({foundation:it(),foundationTerm:it(),initial:it(),taper:it(),terminal:it()}),M2=vr(Kt(ie(wt({epoch:it(),effectiveSlot:it(),amount:it(),postBalance:it()})))),Gg=wt({epoch:it(),slotIndex:it(),slotsInEpoch:it(),absoluteSlot:it(),blockHeight:ve(it()),transactionCount:ve(it())}),Vg=wt({slotsPerEpoch:it(),leaderScheduleSlotOffset:it(),warmup:bn(),firstNormalEpoch:it(),firstNormalSlot:it()}),Yg=cu(St(),Kt(it())),Ri=ie(Kr([wt({}),St()])),Zg=wt({err:Ri}),Xg=or("receivedSignature"),L2=wt({"solana-core":St(),"feature-set":ve(it())}),P2=hn(wt({err:ie(Kr([wt({}),St()])),logs:ie(Kt(St())),accounts:ve(ie(Kt(ie(wt({executable:bn(),owner:St(),lamports:it(),data:Kt(St()),rentEpoch:ve(it())}))))),unitsConsumed:ve(it()),returnData:ve(ie(wt({programId:St(),data:sa([St(),or("base64")])})))})),O2=hn(wt({byIdentity:cu(St(),Kt(it())),range:wt({firstSlot:it(),lastSlot:it()})}));var C2=vr(jg),U2=vr(Gg),N2=vr(Vg),z2=vr(Yg),F2=vr(it()),D2=hn(wt({total:it(),circulating:it(),nonCirculating:it(),nonCirculatingAccounts:Kt(br)})),Jg=wt({amount:St(),uiAmount:ie(it()),decimals:it(),uiAmountString:ve(St())}),q2=hn(Kt(wt({address:br,amount:St(),uiAmount:ie(it()),decimals:it(),uiAmountString:ve(St())}))),K2=hn(Kt(wt({pubkey:br,account:wt({executable:bn(),owner:br,lamports:it(),data:$u,rentEpoch:it()})}))),Ku=wt({program:St(),parsed:Vi(),space:it()}),W2=hn(Kt(wt({pubkey:br,account:wt({executable:bn(),owner:br,lamports:it(),data:Ku,rentEpoch:it()})}))),H2=hn(Kt(wt({lamports:it(),address:br}))),ju=wt({executable:bn(),owner:br,lamports:it(),data:$u,rentEpoch:it()}),$2=wt({pubkey:br,account:ju}),Qg=Yi(Kr([oa(se.Buffer),Ku]),Kr([ql,Ku]),r=>Array.isArray(r)?Gi(r,$u):r),tm=wt({executable:bn(),owner:br,lamports:it(),data:Qg,rentEpoch:it()}),j2=wt({pubkey:br,account:tm}),G2=wt({state:Kr([or("active"),or("inactive"),or("activating"),or("deactivating")]),active:it(),inactive:it()}),V2=vr(Kt(wt({signature:St(),slot:it(),err:Ri,memo:ie(St()),blockTime:ve(ie(it()))}))),Y2=vr(Kt(wt({signature:St(),slot:it(),err:Ri,memo:ie(St()),blockTime:ve(ie(it()))}))),Z2=wt({subscription:it(),result:za(ju)}),em=wt({pubkey:br,account:ju}),X2=wt({subscription:it(),result:za(em)}),rm=wt({parent:it(),slot:it(),root:it()}),J2=wt({subscription:it(),result:rm}),nm=Kr([wt({type:Kr([or("firstShredReceived"),or("completed"),or("optimisticConfirmation"),or("root")]),slot:it(),timestamp:it()}),wt({type:or("createdBank"),parent:it(),slot:it(),timestamp:it()}),wt({type:or("frozen"),slot:it(),timestamp:it(),stats:wt({numTransactionEntries:it(),numSuccessfulTransactions:it(),numFailedTransactions:it(),maxTransactionsPerEntry:it()})}),wt({type:or("dead"),slot:it(),timestamp:it(),err:St()})]),Q2=wt({subscription:it(),result:nm}),tb=wt({subscription:it(),result:za(Kr([Zg,Xg]))}),eb=wt({subscription:it(),result:it()}),rb=wt({pubkey:St(),gossip:ie(St()),tpu:ie(St()),rpc:ie(St()),version:ie(St())}),Ml=wt({votePubkey:St(),nodePubkey:St(),activatedStake:it(),epochVoteAccount:bn(),epochCredits:Kt(sa([it(),it(),it()])),commission:it(),lastVote:it(),rootSlot:ie(it())}),nb=vr(wt({current:Kt(Ml),delinquent:Kt(Ml)})),im=Kr([or("processed"),or("confirmed"),or("finalized")]),om=wt({slot:it(),confirmations:ie(it()),err:Ri,confirmationStatus:ve(im)}),ib=hn(Kt(ie(om))),ob=vr(it()),Wl=wt({accountKey:br,writableIndexes:Kt(it()),readonlyIndexes:Kt(it())}),Gu=wt({signatures:Kt(St()),message:wt({accountKeys:Kt(St()),header:wt({numRequiredSignatures:it(),numReadonlySignedAccounts:it(),numReadonlyUnsignedAccounts:it()}),instructions:Kt(wt({accounts:Kt(it()),data:St(),programIdIndex:it()})),recentBlockhash:St(),addressTableLookups:ve(Kt(Wl))})}),Hl=wt({parsed:Vi(),program:St(),programId:br}),$l=wt({accounts:Kt(br),data:St(),programId:br}),sm=Kr([$l,Hl]),am=Kr([wt({parsed:Vi(),program:St(),programId:St()}),wt({accounts:Kt(St()),data:St(),programId:St()})]),jl=Yi(sm,am,r=>"accounts"in r?Gi(r,$l):Gi(r,Hl)),cm=wt({signatures:Kt(St()),message:wt({accountKeys:Kt(wt({pubkey:br,signer:bn(),writable:bn(),source:ve(Kr([or("transaction"),or("lookupTable")]))})),instructions:Kt(jl),recentBlockhash:St(),addressTableLookups:ve(ie(Kt(Wl)))})}),Ua=wt({accountIndex:it(),mint:St(),owner:ve(St()),uiTokenAmount:Jg}),Gl=wt({writable:Kt(br),readonly:Kt(br)}),Vu=wt({err:Ri,fee:it(),innerInstructions:ve(ie(Kt(wt({index:it(),instructions:Kt(wt({accounts:Kt(it()),data:St(),programIdIndex:it()}))})))),preBalances:Kt(it()),postBalances:Kt(it()),logMessages:ve(ie(Kt(St()))),preTokenBalances:ve(ie(Kt(Ua))),postTokenBalances:ve(ie(Kt(Ua))),loadedAddresses:ve(Gl),computeUnitsConsumed:ve(it())}),um=wt({err:Ri,fee:it(),innerInstructions:ve(ie(Kt(wt({index:it(),instructions:Kt(jl)})))),preBalances:Kt(it()),postBalances:Kt(it()),logMessages:ve(ie(Kt(St()))),preTokenBalances:ve(ie(Kt(Ua))),postTokenBalances:ve(ie(Kt(Ua))),loadedAddresses:ve(Gl),computeUnitsConsumed:ve(it())}),Yu=Kr([or(0),or("legacy")]),sb=vr(ie(wt({blockhash:St(),previousBlockhash:St(),parentSlot:it(),transactions:Kt(wt({transaction:Gu,meta:ie(Vu),version:ve(Yu)})),rewards:ve(Kt(wt({pubkey:St(),lamports:it(),postBalance:ie(it()),rewardType:ie(St())}))),blockTime:ie(it()),blockHeight:ie(it())}))),ab=vr(ie(wt({blockhash:St(),previousBlockhash:St(),parentSlot:it(),transactions:Kt(wt({transaction:Gu,meta:ie(Vu)})),rewards:ve(Kt(wt({pubkey:St(),lamports:it(),postBalance:ie(it()),rewardType:ie(St())}))),blockTime:ie(it())}))),cb=vr(ie(wt({blockhash:St(),previousBlockhash:St(),parentSlot:it(),signatures:Kt(St()),blockTime:ie(it())}))),ub=vr(ie(wt({slot:it(),meta:Vu,blockTime:ve(ie(it())),transaction:Gu,version:ve(Yu)}))),fb=vr(ie(wt({slot:it(),transaction:cm,meta:ie(um),blockTime:ve(ie(it())),version:ve(Yu)}))),hb=hn(wt({blockhash:St(),feeCalculator:wt({lamportsPerSignature:it()})})),lb=hn(wt({blockhash:St(),lastValidBlockHeight:it()})),fm=wt({slot:it(),numTransactions:it(),numSlots:it(),samplePeriodSecs:it()}),db=vr(Kt(fm)),pb=hn(ie(wt({feeCalculator:wt({lamportsPerSignature:it()})}))),yb=vr(St()),gb=vr(St()),hm=wt({err:Ri,logs:Kt(St()),signature:St()}),mb=wt({result:za(hm),subscription:it()}),wb={"solana-client":`js/${(Pu="0.0.0-development")!==null&&Pu!==void 0?Pu:"UNKNOWN"}`};var Ei=class{constructor(t){this._keypair=void 0,this._keypair=t??El()}static generate(){return new Ei(El())}static fromSecretKey(t,e){if(t.byteLength!==64)throw new Error("bad secret key size");let n=t.slice(32,64);if(!e||!e.skipValidation){let i=t.slice(0,32),o=Nu(i);for(let s=0;s<32;s++)if(n[s]!==o[s])throw new Error("provided secretKey is invalid")}return new Ei({publicKey:n,secretKey:t})}static fromSeed(t){let e=Nu(t),n=new Uint8Array(64);return n.set(t),n.set(e,32),new Ei({publicKey:e,secretKey:n})}get publicKey(){return new kt(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}},Xo=Object.freeze({CreateLookupTable:{index:0,layout:W.struct([W.u32("instruction"),no("recentSlot"),W.u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:W.struct([W.u32("instruction")])},ExtendLookupTable:{index:2,layout:W.struct([W.u32("instruction"),no(),W.seq(Ne(),W.offset(W.u32(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:W.struct([W.u32("instruction")])},CloseLookupTable:{index:4,layout:W.struct([W.u32("instruction")])}});var Wu=class{constructor(){}static createLookupTable(t){let[e,n]=kt.findProgramAddressSync([t.authority.toBuffer(),(0,ns.toBufferLE)(BigInt(t.recentSlot),8)],this.programId),i=Xo.CreateLookupTable,o=Ue(i,{recentSlot:BigInt(t.recentSlot),bumpSeed:n}),s=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:t.authority,isSigner:!0,isWritable:!1},{pubkey:t.payer,isSigner:!0,isWritable:!0},{pubkey:yr.programId,isSigner:!1,isWritable:!1}];return[new Vt({programId:this.programId,keys:s,data:o}),e]}static freezeLookupTable(t){let e=Xo.FreezeLookupTable,n=Ue(e),i=[{pubkey:t.lookupTable,isSigner:!1,isWritable:!0},{pubkey:t.authority,isSigner:!0,isWritable:!1}];return new Vt({programId:this.programId,keys:i,data:n})}static extendLookupTable(t){let e=Xo.ExtendLookupTable,n=Ue(e,{addresses:t.addresses.map(o=>o.toBytes())}),i=[{pubkey:t.lookupTable,isSigner:!1,isWritable:!0},{pubkey:t.authority,isSigner:!0,isWritable:!1}];return t.payer&&i.push({pubkey:t.payer,isSigner:!0,isWritable:!0},{pubkey:yr.programId,isSigner:!1,isWritable:!1}),new Vt({programId:this.programId,keys:i,data:n})}static deactivateLookupTable(t){let e=Xo.DeactivateLookupTable,n=Ue(e),i=[{pubkey:t.lookupTable,isSigner:!1,isWritable:!0},{pubkey:t.authority,isSigner:!0,isWritable:!1}];return new Vt({programId:this.programId,keys:i,data:n})}static closeLookupTable(t){let e=Xo.CloseLookupTable,n=Ue(e),i=[{pubkey:t.lookupTable,isSigner:!1,isWritable:!0},{pubkey:t.authority,isSigner:!0,isWritable:!1},{pubkey:t.recipient,isSigner:!1,isWritable:!0}];return new Vt({programId:this.programId,keys:i,data:n})}};Wu.programId=new kt("AddressLookupTab1e1111111111111111111111111");var Ta=Object.freeze({RequestUnits:{index:0,layout:W.struct([W.u8("instruction"),W.u32("units"),W.u32("additionalFee")])},RequestHeapFrame:{index:1,layout:W.struct([W.u8("instruction"),W.u32("bytes")])},SetComputeUnitLimit:{index:2,layout:W.struct([W.u8("instruction"),W.u32("units")])},SetComputeUnitPrice:{index:3,layout:W.struct([W.u8("instruction"),no("microLamports")])}}),Hu=class{constructor(){}static requestUnits(t){let e=Ta.RequestUnits,n=Ue(e,t);return new Vt({keys:[],programId:this.programId,data:n})}static requestHeapFrame(t){let e=Ta.RequestHeapFrame,n=Ue(e,t);return new Vt({keys:[],programId:this.programId,data:n})}static setComputeUnitLimit(t){let e=Ta.SetComputeUnitLimit,n=Ue(e,t);return new Vt({keys:[],programId:this.programId,data:n})}static setComputeUnitPrice(t){let e=Ta.SetComputeUnitPrice,n=Ue(e,{microLamports:BigInt(t.microLamports)});return new Vt({keys:[],programId:this.programId,data:n})}};Hu.programId=new kt("ComputeBudget111111111111111111111111111111");var Ll=64,Pl=32,Ol=64,Cl=W.struct([W.u8("numSignatures"),W.u8("padding"),W.u16("signatureOffset"),W.u16("signatureInstructionIndex"),W.u16("publicKeyOffset"),W.u16("publicKeyInstructionIndex"),W.u16("messageDataOffset"),W.u16("messageDataSize"),W.u16("messageInstructionIndex")]),es=class{constructor(){}static createInstructionWithPublicKey(t){let{publicKey:e,message:n,signature:i,instructionIndex:o}=t;xr(e.length===Pl,`Public Key must be ${Pl} bytes but received ${e.length} bytes`),xr(i.length===Ol,`Signature must be ${Ol} bytes but received ${i.length} bytes`);let s=Cl.span,d=s+e.length,g=d+i.length,A=1,L=se.Buffer.alloc(g+n.length),M=o??65535;return Cl.encode({numSignatures:A,padding:0,signatureOffset:d,signatureInstructionIndex:M,publicKeyOffset:s,publicKeyInstructionIndex:M,messageDataOffset:g,messageDataSize:n.length,messageInstructionIndex:M},L),L.fill(e,s),L.fill(i,d),L.fill(n,g),new Vt({keys:[],programId:es.programId,data:L})}static createInstructionWithPrivateKey(t){let{privateKey:e,message:n,instructionIndex:i}=t;xr(e.length===Ll,`Private key must be ${Ll} bytes but received ${e.length} bytes`);try{let o=Ei.fromSecretKey(e),s=o.publicKey.toBytes(),d=Fl(n,o.secretKey);return this.createInstructionWithPublicKey({publicKey:s,message:n,signature:d,instructionIndex:i})}catch(o){throw new Error(`Error creating instruction; ${o}`)}}};es.programId=new kt("Ed25519SigVerify111111111111111111111111111");vn.hmacSha256Sync=(r,...t)=>{let e=_u.create(Ls,r);return t.forEach(n=>e.update(n)),e.digest()};var lm=(r,t)=>_l(r,t,{der:!1,recovered:!0});vn.isValidPrivateKey;var dm=kl,Ul=32,Ou=20,Nl=64,pm=11,Cu=W.struct([W.u8("numSignatures"),W.u16("signatureOffset"),W.u8("signatureInstructionIndex"),W.u16("ethAddressOffset"),W.u8("ethAddressInstructionIndex"),W.u16("messageDataOffset"),W.u16("messageDataSize"),W.u8("messageInstructionIndex"),W.blob(20,"ethAddress"),W.blob(64,"signature"),W.u8("recoveryId")]),Si=class{constructor(){}static publicKeyToEthAddress(t){xr(t.length===Nl,`Public key must be ${Nl} bytes but received ${t.length} bytes`);try{return se.Buffer.from(Au(qe(t))).slice(-Ou)}catch(e){throw new Error(`Error constructing Ethereum address: ${e}`)}}static createInstructionWithPublicKey(t){let{publicKey:e,message:n,signature:i,recoveryId:o,instructionIndex:s}=t;return Si.createInstructionWithEthAddress({ethAddress:Si.publicKeyToEthAddress(e),message:n,signature:i,recoveryId:o,instructionIndex:s})}static createInstructionWithEthAddress(t){let{ethAddress:e,message:n,signature:i,recoveryId:o,instructionIndex:s=0}=t,d;typeof e=="string"?e.startsWith("0x")?d=se.Buffer.from(e.substr(2),"hex"):d=se.Buffer.from(e,"hex"):d=e,xr(d.length===Ou,`Address must be ${Ou} bytes but received ${d.length} bytes`);let g=1+pm,A=g,L=g+d.length,M=L+i.length+1,$=1,K=se.Buffer.alloc(Cu.span+n.length);return Cu.encode({numSignatures:$,signatureOffset:L,signatureInstructionIndex:s,ethAddressOffset:A,ethAddressInstructionIndex:s,messageDataOffset:M,messageDataSize:n.length,messageInstructionIndex:s,signature:qe(i),ethAddress:qe(d),recoveryId:o},K),K.fill(qe(n),Cu.span),new Vt({keys:[],programId:Si.programId,data:K})}static createInstructionWithPrivateKey(t){let{privateKey:e,message:n,instructionIndex:i}=t;xr(e.length===Ul,`Private key must be ${Ul} bytes but received ${e.length} bytes`);try{let o=qe(e),s=dm(o,!1).slice(1),d=se.Buffer.from(Au(qe(n))),[g,A]=lm(d,o);return this.createInstructionWithPublicKey({publicKey:s,message:n,signature:g,recoveryId:A,instructionIndex:i})}catch(o){throw new Error(`Error creating instruction; ${o}`)}}};Si.programId=new kt("KeccakSecp256k11111111111111111111111111111");var ym=new kt("StakeConfig11111111111111111111111111111111");var rs=class{constructor(t,e,n){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=t,this.epoch=e,this.custodian=n}};rs.default=new rs(0,0,kt.default);var hi=Object.freeze({Initialize:{index:0,layout:W.struct([W.u32("instruction"),Mg(),Lg()])},Authorize:{index:1,layout:W.struct([W.u32("instruction"),Ne("newAuthorized"),W.u32("stakeAuthorizationType")])},Delegate:{index:2,layout:W.struct([W.u32("instruction")])},Split:{index:3,layout:W.struct([W.u32("instruction"),W.ns64("lamports")])},Withdraw:{index:4,layout:W.struct([W.u32("instruction"),W.ns64("lamports")])},Deactivate:{index:5,layout:W.struct([W.u32("instruction")])},Merge:{index:7,layout:W.struct([W.u32("instruction")])},AuthorizeWithSeed:{index:8,layout:W.struct([W.u32("instruction"),Ne("newAuthorized"),W.u32("stakeAuthorizationType"),ro("authoritySeed"),Ne("authorityOwner")])}}),xb=Object.freeze({Staker:{index:0},Withdrawer:{index:1}}),Na=class{constructor(){}static initialize(t){let{stakePubkey:e,authorized:n,lockup:i}=t,o=i||rs.default,s=hi.Initialize,d=Ue(s,{authorized:{staker:qe(n.staker.toBuffer()),withdrawer:qe(n.withdrawer.toBuffer())},lockup:{unixTimestamp:o.unixTimestamp,epoch:o.epoch,custodian:qe(o.custodian.toBuffer())}}),g={keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:Nn,isSigner:!1,isWritable:!1}],programId:this.programId,data:d};return new Vt(g)}static createAccountWithSeed(t){let e=new Ke;e.add(yr.createAccountWithSeed({fromPubkey:t.fromPubkey,newAccountPubkey:t.stakePubkey,basePubkey:t.basePubkey,seed:t.seed,lamports:t.lamports,space:this.space,programId:this.programId}));let{stakePubkey:n,authorized:i,lockup:o}=t;return e.add(this.initialize({stakePubkey:n,authorized:i,lockup:o}))}static createAccount(t){let e=new Ke;e.add(yr.createAccount({fromPubkey:t.fromPubkey,newAccountPubkey:t.stakePubkey,lamports:t.lamports,space:this.space,programId:this.programId}));let{stakePubkey:n,authorized:i,lockup:o}=t;return e.add(this.initialize({stakePubkey:n,authorized:i,lockup:o}))}static delegate(t){let{stakePubkey:e,authorizedPubkey:n,votePubkey:i}=t,o=hi.Delegate,s=Ue(o);return new Ke().add({keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:Un,isSigner:!1,isWritable:!1},{pubkey:Mu,isSigner:!1,isWritable:!1},{pubkey:ym,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}static authorize(t){let{stakePubkey:e,authorizedPubkey:n,newAuthorizedPubkey:i,stakeAuthorizationType:o,custodianPubkey:s}=t,d=hi.Authorize,g=Ue(d,{newAuthorized:qe(i.toBuffer()),stakeAuthorizationType:o.index}),A=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:Un,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return s&&A.push({pubkey:s,isSigner:!1,isWritable:!1}),new Ke().add({keys:A,programId:this.programId,data:g})}static authorizeWithSeed(t){let{stakePubkey:e,authorityBase:n,authoritySeed:i,authorityOwner:o,newAuthorizedPubkey:s,stakeAuthorizationType:d,custodianPubkey:g}=t,A=hi.AuthorizeWithSeed,L=Ue(A,{newAuthorized:qe(s.toBuffer()),stakeAuthorizationType:d.index,authoritySeed:i,authorityOwner:qe(o.toBuffer())}),M=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1},{pubkey:Un,isSigner:!1,isWritable:!1}];return g&&M.push({pubkey:g,isSigner:!1,isWritable:!1}),new Ke().add({keys:M,programId:this.programId,data:L})}static splitInstruction(t){let{stakePubkey:e,authorizedPubkey:n,splitStakePubkey:i,lamports:o}=t,s=hi.Split,d=Ue(s,{lamports:o});return new Vt({keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:d})}static split(t){let e=new Ke;return e.add(yr.createAccount({fromPubkey:t.authorizedPubkey,newAccountPubkey:t.splitStakePubkey,lamports:0,space:this.space,programId:this.programId})),e.add(this.splitInstruction(t))}static splitWithSeed(t){let{stakePubkey:e,authorizedPubkey:n,splitStakePubkey:i,basePubkey:o,seed:s,lamports:d}=t,g=new Ke;return g.add(yr.allocate({accountPubkey:i,basePubkey:o,seed:s,space:this.space,programId:this.programId})),g.add(this.splitInstruction({stakePubkey:e,authorizedPubkey:n,splitStakePubkey:i,lamports:d}))}static merge(t){let{stakePubkey:e,sourceStakePubKey:n,authorizedPubkey:i}=t,o=hi.Merge,s=Ue(o);return new Ke().add({keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:Un,isSigner:!1,isWritable:!1},{pubkey:Mu,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}static withdraw(t){let{stakePubkey:e,authorizedPubkey:n,toPubkey:i,lamports:o,custodianPubkey:s}=t,d=hi.Withdraw,g=Ue(d,{lamports:o}),A=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:Un,isSigner:!1,isWritable:!1},{pubkey:Mu,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return s&&A.push({pubkey:s,isSigner:!1,isWritable:!1}),new Ke().add({keys:A,programId:this.programId,data:g})}static deactivate(t){let{stakePubkey:e,authorizedPubkey:n}=t,i=hi.Deactivate,o=Ue(i);return new Ke().add({keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:Un,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}};Na.programId=new kt("Stake11111111111111111111111111111111111111");Na.space=200;var Ma=Object.freeze({InitializeAccount:{index:0,layout:W.struct([W.u32("instruction"),Pg()])},Authorize:{index:1,layout:W.struct([W.u32("instruction"),Ne("newAuthorized"),W.u32("voteAuthorizationType")])},Withdraw:{index:3,layout:W.struct([W.u32("instruction"),W.ns64("lamports")])},AuthorizeWithSeed:{index:10,layout:W.struct([W.u32("instruction"),Og()])}}),bb=Object.freeze({Voter:{index:0},Withdrawer:{index:1}}),oo=class{constructor(){}static initializeAccount(t){let{votePubkey:e,nodePubkey:n,voteInit:i}=t,o=Ma.InitializeAccount,s=Ue(o,{voteInit:{nodePubkey:qe(i.nodePubkey.toBuffer()),authorizedVoter:qe(i.authorizedVoter.toBuffer()),authorizedWithdrawer:qe(i.authorizedWithdrawer.toBuffer()),commission:i.commission}}),d={keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:Nn,isSigner:!1,isWritable:!1},{pubkey:Un,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:s};return new Vt(d)}static createAccount(t){let e=new Ke;return e.add(yr.createAccount({fromPubkey:t.fromPubkey,newAccountPubkey:t.votePubkey,lamports:t.lamports,space:this.space,programId:this.programId})),e.add(this.initializeAccount({votePubkey:t.votePubkey,nodePubkey:t.voteInit.nodePubkey,voteInit:t.voteInit}))}static authorize(t){let{votePubkey:e,authorizedPubkey:n,newAuthorizedPubkey:i,voteAuthorizationType:o}=t,s=Ma.Authorize,d=Ue(s,{newAuthorized:qe(i.toBuffer()),voteAuthorizationType:o.index}),g=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:Un,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return new Ke().add({keys:g,programId:this.programId,data:d})}static authorizeWithSeed(t){let{currentAuthorityDerivedKeyBasePubkey:e,currentAuthorityDerivedKeyOwnerPubkey:n,currentAuthorityDerivedKeySeed:i,newAuthorizedPubkey:o,voteAuthorizationType:s,votePubkey:d}=t,g=Ma.AuthorizeWithSeed,A=Ue(g,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:qe(n.toBuffer()),currentAuthorityDerivedKeySeed:i,newAuthorized:qe(o.toBuffer()),voteAuthorizationType:s.index}}),L=[{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:Un,isSigner:!1,isWritable:!1},{pubkey:e,isSigner:!0,isWritable:!1}];return new Ke().add({keys:L,programId:this.programId,data:A})}static withdraw(t){let{votePubkey:e,authorizedWithdrawerPubkey:n,lamports:i,toPubkey:o}=t,s=Ma.Withdraw,d=Ue(s,{lamports:i}),g=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return new Ke().add({keys:g,programId:this.programId,data:d})}static safeWithdraw(t,e,n){if(t.lamports>e-n)throw new Error("Withdraw will leave vote account with insuffcient funds.");return oo.withdraw(t)}};oo.programId=new kt("Vote111111111111111111111111111111111111111");oo.space=3731;var vb=new kt("Va1idator1nfo111111111111111111111111111111"),kb=wt({name:St(),website:ve(St()),details:ve(St()),keybaseUsername:ve(St())});var Ib=new kt("Vote111111111111111111111111111111111111111"),Ab=W.struct([Ne("nodePubkey"),Ne("authorizedWithdrawer"),W.u8("commission"),W.nu64(),W.seq(W.struct([W.nu64("slot"),W.u32("confirmationCount")]),W.offset(W.u32(),-8),"votes"),W.u8("rootSlotValid"),W.nu64("rootSlot"),W.nu64(),W.seq(W.struct([W.nu64("epoch"),Ne("authorizedVoter")]),W.offset(W.u32(),-8),"authorizedVoters"),W.struct([W.seq(W.struct([Ne("authorizedPubkey"),W.nu64("epochOfLastAuthorizedSwitch"),W.nu64("targetEpoch")]),32,"buf"),W.nu64("idx"),W.u8("isEmpty")],"priorVoters"),W.nu64(),W.seq(W.struct([W.nu64("epoch"),W.nu64("credits"),W.nu64("prevCredits")]),W.offset(W.u32(),-8),"epochCredits"),W.struct([W.nu64("slot"),W.nu64("timestamp")],"lastTimestamp")]);var is=1e9;var gm=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,Zu=Math.ceil,In=Math.floor,Yr="[BigNumber Error] ",Vl=Yr+"Number primitive has more than 15 significant digits: ",ln=1e14,ye=14,Xu=9007199254740991,Ju=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],li=1e7,_r=1e9;function Yl(r){var t,e,n,i=Q.prototype={constructor:Q,toString:null,valueOf:null},o=new Q(1),s=20,d=4,g=-7,A=21,L=-1e7,M=1e7,$=!1,K=1,et=0,tt={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"\xA0",suffix:""},ht="0123456789abcdefghijklmnopqrstuvwxyz",mt=!0;function Q(T,C){var x,B,v,y,a,c,f,p,m=this;if(!(m instanceof Q))return new Q(T,C);if(C==null){if(T&&T._isBigNumber===!0){m.s=T.s,!T.c||T.e>M?m.c=m.e=null:T.e<L?m.c=[m.e=0]:(m.e=T.e,m.c=T.c.slice());return}if((c=typeof T=="number")&&T*0==0){if(m.s=1/T<0?(T=-T,-1):1,T===~~T){for(y=0,a=T;a>=10;a/=10,y++);y>M?m.c=m.e=null:(m.e=y,m.c=[T]);return}p=String(T)}else{if(!gm.test(p=String(T)))return n(m,p,c);m.s=p.charCodeAt(0)==45?(p=p.slice(1),-1):1}(y=p.indexOf("."))>-1&&(p=p.replace(".","")),(a=p.search(/e/i))>0?(y<0&&(y=a),y+=+p.slice(a+1),p=p.substring(0,a)):y<0&&(y=p.length)}else{if(hr(C,2,ht.length,"Base"),C==10&&mt)return m=new Q(T),Ft(m,s+m.e+1,d);if(p=String(T),c=typeof T=="number"){if(T*0!=0)return n(m,p,c,C);if(m.s=1/T<0?(p=p.slice(1),-1):1,Q.DEBUG&&p.replace(/^0\.0*|\./,"").length>15)throw Error(Vl+T)}else m.s=p.charCodeAt(0)===45?(p=p.slice(1),-1):1;for(x=ht.slice(0,C),y=a=0,f=p.length;a<f;a++)if(x.indexOf(B=p.charAt(a))<0){if(B=="."){if(a>y){y=f;continue}}else if(!v&&(p==p.toUpperCase()&&(p=p.toLowerCase())||p==p.toLowerCase()&&(p=p.toUpperCase()))){v=!0,a=-1,y=0;continue}return n(m,String(T),c,C)}c=!1,p=e(p,C,10,m.s),(y=p.indexOf("."))>-1?p=p.replace(".",""):y=p.length}for(a=0;p.charCodeAt(a)===48;a++);for(f=p.length;p.charCodeAt(--f)===48;);if(p=p.slice(a,++f)){if(f-=a,c&&Q.DEBUG&&f>15&&(T>Xu||T!==In(T)))throw Error(Vl+m.s*T);if((y=y-a-1)>M)m.c=m.e=null;else if(y<L)m.c=[m.e=0];else{if(m.e=y,m.c=[],a=(y+1)%ye,y<0&&(a+=ye),a<f){for(a&&m.c.push(+p.slice(0,a)),f-=ye;a<f;)m.c.push(+p.slice(a,a+=ye));a=ye-(p=p.slice(a)).length}else a-=f;for(;a--;p+="0");m.c.push(+p)}}else m.c=[m.e=0]}Q.clone=Yl,Q.ROUND_UP=0,Q.ROUND_DOWN=1,Q.ROUND_CEIL=2,Q.ROUND_FLOOR=3,Q.ROUND_HALF_UP=4,Q.ROUND_HALF_DOWN=5,Q.ROUND_HALF_EVEN=6,Q.ROUND_HALF_CEIL=7,Q.ROUND_HALF_FLOOR=8,Q.EUCLID=9,Q.config=Q.set=function(T){var C,x;if(T!=null)if(typeof T=="object"){if(T.hasOwnProperty(C="DECIMAL_PLACES")&&(x=T[C],hr(x,0,_r,C),s=x),T.hasOwnProperty(C="ROUNDING_MODE")&&(x=T[C],hr(x,0,8,C),d=x),T.hasOwnProperty(C="EXPONENTIAL_AT")&&(x=T[C],x&&x.pop?(hr(x[0],-_r,0,C),hr(x[1],0,_r,C),g=x[0],A=x[1]):(hr(x,-_r,_r,C),g=-(A=x<0?-x:x))),T.hasOwnProperty(C="RANGE"))if(x=T[C],x&&x.pop)hr(x[0],-_r,-1,C),hr(x[1],1,_r,C),L=x[0],M=x[1];else if(hr(x,-_r,_r,C),x)L=-(M=x<0?-x:x);else throw Error(Yr+C+" cannot be zero: "+x);if(T.hasOwnProperty(C="CRYPTO"))if(x=T[C],x===!!x)if(x)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))$=x;else throw $=!x,Error(Yr+"crypto unavailable");else $=x;else throw Error(Yr+C+" not true or false: "+x);if(T.hasOwnProperty(C="MODULO_MODE")&&(x=T[C],hr(x,0,9,C),K=x),T.hasOwnProperty(C="POW_PRECISION")&&(x=T[C],hr(x,0,_r,C),et=x),T.hasOwnProperty(C="FORMAT"))if(x=T[C],typeof x=="object")tt=x;else throw Error(Yr+C+" not an object: "+x);if(T.hasOwnProperty(C="ALPHABET"))if(x=T[C],typeof x=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(x))mt=x.slice(0,10)=="0123456789",ht=x;else throw Error(Yr+C+" invalid: "+x)}else throw Error(Yr+"Object expected: "+T);return{DECIMAL_PLACES:s,ROUNDING_MODE:d,EXPONENTIAL_AT:[g,A],RANGE:[L,M],CRYPTO:$,MODULO_MODE:K,POW_PRECISION:et,FORMAT:tt,ALPHABET:ht}},Q.isBigNumber=function(T){if(!T||T._isBigNumber!==!0)return!1;if(!Q.DEBUG)return!0;var C,x,B=T.c,v=T.e,y=T.s;t:if({}.toString.call(B)=="[object Array]"){if((y===1||y===-1)&&v>=-_r&&v<=_r&&v===In(v)){if(B[0]===0){if(v===0&&B.length===1)return!0;break t}if(C=(v+1)%ye,C<1&&(C+=ye),String(B[0]).length==C){for(C=0;C<B.length;C++)if(x=B[C],x<0||x>=ln||x!==In(x))break t;if(x!==0)return!0}}}else if(B===null&&v===null&&(y===null||y===1||y===-1))return!0;throw Error(Yr+"Invalid BigNumber: "+T)},Q.maximum=Q.max=function(){return Tt(arguments,i.lt)},Q.minimum=Q.min=function(){return Tt(arguments,i.gt)},Q.random=function(){var T=9007199254740992,C=Math.random()*T&2097151?function(){return In(Math.random()*T)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(x){var B,v,y,a,c,f=0,p=[],m=new Q(o);if(x==null?x=s:hr(x,0,_r),a=Zu(x/ye),$)if(crypto.getRandomValues){for(B=crypto.getRandomValues(new Uint32Array(a*=2));f<a;)c=B[f]*131072+(B[f+1]>>>11),c>=9e15?(v=crypto.getRandomValues(new Uint32Array(2)),B[f]=v[0],B[f+1]=v[1]):(p.push(c%1e14),f+=2);f=a/2}else if(crypto.randomBytes){for(B=crypto.randomBytes(a*=7);f<a;)c=(B[f]&31)*281474976710656+B[f+1]*1099511627776+B[f+2]*4294967296+B[f+3]*16777216+(B[f+4]<<16)+(B[f+5]<<8)+B[f+6],c>=9e15?crypto.randomBytes(7).copy(B,f):(p.push(c%1e14),f+=7);f=a/7}else throw $=!1,Error(Yr+"crypto unavailable");if(!$)for(;f<a;)c=C(),c<9e15&&(p[f++]=c%1e14);for(a=p[--f],x%=ye,a&&x&&(c=Ju[ye-x],p[f]=In(a/c)*c);p[f]===0;p.pop(),f--);if(f<0)p=[y=0];else{for(y=-1;p[0]===0;p.splice(0,1),y-=ye);for(f=1,c=p[0];c>=10;c/=10,f++);f<ye&&(y-=ye-f)}return m.e=y,m.c=p,m}}(),Q.sum=function(){for(var T=1,C=arguments,x=new Q(C[0]);T<C.length;)x=x.plus(C[T++]);return x},e=function(){var T="0123456789";function C(x,B,v,y){for(var a,c=[0],f,p=0,m=x.length;p<m;){for(f=c.length;f--;c[f]*=B);for(c[0]+=y.indexOf(x.charAt(p++)),a=0;a<c.length;a++)c[a]>v-1&&(c[a+1]==null&&(c[a+1]=0),c[a+1]+=c[a]/v|0,c[a]%=v)}return c.reverse()}return function(x,B,v,y,a){var c,f,p,m,b,P,E,u,l=x.indexOf("."),_=s,S=d;for(l>=0&&(m=et,et=0,x=x.replace(".",""),u=new Q(B),P=u.pow(x.length-l),et=m,u.c=C(zn(sn(P.c),P.e,"0"),10,v,T),u.e=u.c.length),E=C(x,B,v,a?(c=ht,T):(c=T,ht)),p=m=E.length;E[--m]==0;E.pop());if(!E[0])return c.charAt(0);if(l<0?--p:(P.c=E,P.e=p,P.s=y,P=t(P,u,_,S,v),E=P.c,b=P.r,p=P.e),f=p+_+1,l=E[f],m=v/2,b=b||f<0||E[f+1]!=null,b=S<4?(l!=null||b)&&(S==0||S==(P.s<0?3:2)):l>m||l==m&&(S==4||b||S==6&&E[f-1]&1||S==(P.s<0?8:7)),f<1||!E[0])x=b?zn(c.charAt(1),-_,c.charAt(0)):c.charAt(0);else{if(E.length=f,b)for(--v;++E[--f]>v;)E[f]=0,f||(++p,E=[1].concat(E));for(m=E.length;!E[--m];);for(l=0,x="";l<=m;x+=c.charAt(E[l++]));x=zn(x,p,c.charAt(0))}return x}}(),t=function(){function T(B,v,y){var a,c,f,p,m=0,b=B.length,P=v%li,E=v/li|0;for(B=B.slice();b--;)f=B[b]%li,p=B[b]/li|0,a=E*f+p*P,c=P*f+a%li*li+m,m=(c/y|0)+(a/li|0)+E*p,B[b]=c%y;return m&&(B=[m].concat(B)),B}function C(B,v,y,a){var c,f;if(y!=a)f=y>a?1:-1;else for(c=f=0;c<y;c++)if(B[c]!=v[c]){f=B[c]>v[c]?1:-1;break}return f}function x(B,v,y,a){for(var c=0;y--;)B[y]-=c,c=B[y]<v[y]?1:0,B[y]=c*a+B[y]-v[y];for(;!B[0]&&B.length>1;B.splice(0,1));}return function(B,v,y,a,c){var f,p,m,b,P,E,u,l,_,S,O,F,D,Z,N,z,U,H=B.s==v.s?1:-1,G=B.c,nt=v.c;if(!G||!G[0]||!nt||!nt[0])return new Q(!B.s||!v.s||(G?nt&&G[0]==nt[0]:!nt)?NaN:G&&G[0]==0||!nt?H*0:H/0);for(l=new Q(H),_=l.c=[],p=B.e-v.e,H=y+p+1,c||(c=ln,p=an(B.e/ye)-an(v.e/ye),H=H/ye|0),m=0;nt[m]==(G[m]||0);m++);if(nt[m]>(G[m]||0)&&p--,H<0)_.push(1),b=!0;else{for(Z=G.length,z=nt.length,m=0,H+=2,P=In(c/(nt[0]+1)),P>1&&(nt=T(nt,P,c),G=T(G,P,c),z=nt.length,Z=G.length),D=z,S=G.slice(0,z),O=S.length;O<z;S[O++]=0);U=nt.slice(),U=[0].concat(U),N=nt[0],nt[1]>=c/2&&N++;do{if(P=0,f=C(nt,S,z,O),f<0){if(F=S[0],z!=O&&(F=F*c+(S[1]||0)),P=In(F/N),P>1)for(P>=c&&(P=c-1),E=T(nt,P,c),u=E.length,O=S.length;C(E,S,u,O)==1;)P--,x(E,z<u?U:nt,u,c),u=E.length,f=1;else P==0&&(f=P=1),E=nt.slice(),u=E.length;if(u<O&&(E=[0].concat(E)),x(S,E,O,c),O=S.length,f==-1)for(;C(nt,S,z,O)<1;)P++,x(S,z<O?U:nt,O,c),O=S.length}else f===0&&(P++,S=[0]);_[m++]=P,S[0]?S[O++]=G[D]||0:(S=[G[D]],O=1)}while((D++<Z||S[0]!=null)&&H--);b=S[0]!=null,_[0]||_.splice(0,1)}if(c==ln){for(m=1,H=_[0];H>=10;H/=10,m++);Ft(l,y+(l.e=m+p*ye-1)+1,a,b)}else l.e=p,l.r=+b;return l}}();function _t(T,C,x,B){var v,y,a,c,f;if(x==null?x=d:hr(x,0,8),!T.c)return T.toString();if(v=T.c[0],a=T.e,C==null)f=sn(T.c),f=B==1||B==2&&(a<=g||a>=A)?Da(f,a):zn(f,a,"0");else if(T=Ft(new Q(T),C,x),y=T.e,f=sn(T.c),c=f.length,B==1||B==2&&(C<=y||y<=g)){for(;c<C;f+="0",c++);f=Da(f,y)}else if(C-=a,f=zn(f,y,"0"),y+1>c){if(--C>0)for(f+=".";C--;f+="0");}else if(C+=y-c,C>0)for(y+1==c&&(f+=".");C--;f+="0");return T.s<0&&v?"-"+f:f}function Tt(T,C){for(var x,B=1,v=new Q(T[0]);B<T.length;B++)if(x=new Q(T[B]),x.s)C.call(v,x)&&(v=x);else{v=x;break}return v}function ee(T,C,x){for(var B=1,v=C.length;!C[--v];C.pop());for(v=C[0];v>=10;v/=10,B++);return(x=B+x*ye-1)>M?T.c=T.e=null:x<L?T.c=[T.e=0]:(T.e=x,T.c=C),T}n=function(){var T=/^(-?)0([xbo])(?=\w[\w.]*$)/i,C=/^([^.]+)\.$/,x=/^\.([^.]+)$/,B=/^-?(Infinity|NaN)$/,v=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(y,a,c,f){var p,m=c?a:a.replace(v,"");if(B.test(m))y.s=isNaN(m)?null:m<0?-1:1;else{if(!c&&(m=m.replace(T,function(b,P,E){return p=(E=E.toLowerCase())=="x"?16:E=="b"?2:8,!f||f==p?P:b}),f&&(p=f,m=m.replace(C,"$1").replace(x,"0.$1")),a!=m))return new Q(m,p);if(Q.DEBUG)throw Error(Yr+"Not a"+(f?" base "+f:"")+" number: "+a);y.s=null}y.c=y.e=null}}();function Ft(T,C,x,B){var v,y,a,c,f,p,m,b=T.c,P=Ju;if(b){t:{for(v=1,c=b[0];c>=10;c/=10,v++);if(y=C-v,y<0)y+=ye,a=C,f=b[p=0],m=f/P[v-a-1]%10|0;else if(p=Zu((y+1)/ye),p>=b.length)if(B){for(;b.length<=p;b.push(0));f=m=0,v=1,y%=ye,a=y-ye+1}else break t;else{for(f=c=b[p],v=1;c>=10;c/=10,v++);y%=ye,a=y-ye+v,m=a<0?0:f/P[v-a-1]%10|0}if(B=B||C<0||b[p+1]!=null||(a<0?f:f%P[v-a-1]),B=x<4?(m||B)&&(x==0||x==(T.s<0?3:2)):m>5||m==5&&(x==4||B||x==6&&(y>0?a>0?f/P[v-a]:0:b[p-1])%10&1||x==(T.s<0?8:7)),C<1||!b[0])return b.length=0,B?(C-=T.e+1,b[0]=P[(ye-C%ye)%ye],T.e=-C||0):b[0]=T.e=0,T;if(y==0?(b.length=p,c=1,p--):(b.length=p+1,c=P[ye-y],b[p]=a>0?In(f/P[v-a]%P[a])*c:0),B)for(;;)if(p==0){for(y=1,a=b[0];a>=10;a/=10,y++);for(a=b[0]+=c,c=1;a>=10;a/=10,c++);y!=c&&(T.e++,b[0]==ln&&(b[0]=1));break}else{if(b[p]+=c,b[p]!=ln)break;b[p--]=0,c=1}for(y=b.length;b[--y]===0;b.pop());}T.e>M?T.c=T.e=null:T.e<L&&(T.c=[T.e=0])}return T}function Dt(T){var C,x=T.e;return x===null?T.toString():(C=sn(T.c),C=x<=g||x>=A?Da(C,x):zn(C,x,"0"),T.s<0?"-"+C:C)}return i.absoluteValue=i.abs=function(){var T=new Q(this);return T.s<0&&(T.s=1),T},i.comparedTo=function(T,C){return ao(this,new Q(T,C))},i.decimalPlaces=i.dp=function(T,C){var x,B,v,y=this;if(T!=null)return hr(T,0,_r),C==null?C=d:hr(C,0,8),Ft(new Q(y),T+y.e+1,C);if(!(x=y.c))return null;if(B=((v=x.length-1)-an(this.e/ye))*ye,v=x[v])for(;v%10==0;v/=10,B--);return B<0&&(B=0),B},i.dividedBy=i.div=function(T,C){return t(this,new Q(T,C),s,d)},i.dividedToIntegerBy=i.idiv=function(T,C){return t(this,new Q(T,C),0,1)},i.exponentiatedBy=i.pow=function(T,C){var x,B,v,y,a,c,f,p,m,b=this;if(T=new Q(T),T.c&&!T.isInteger())throw Error(Yr+"Exponent not an integer: "+Dt(T));if(C!=null&&(C=new Q(C)),c=T.e>14,!b.c||!b.c[0]||b.c[0]==1&&!b.e&&b.c.length==1||!T.c||!T.c[0])return m=new Q(Math.pow(+Dt(b),c?2-Fa(T):+Dt(T))),C?m.mod(C):m;if(f=T.s<0,C){if(C.c?!C.c[0]:!C.s)return new Q(NaN);B=!f&&b.isInteger()&&C.isInteger(),B&&(b=b.mod(C))}else{if(T.e>9&&(b.e>0||b.e<-1||(b.e==0?b.c[0]>1||c&&b.c[1]>=24e7:b.c[0]<8e13||c&&b.c[0]<=9999975e7)))return y=b.s<0&&Fa(T)?-0:0,b.e>-1&&(y=1/y),new Q(f?1/y:y);et&&(y=Zu(et/ye+2))}for(c?(x=new Q(.5),f&&(T.s=1),p=Fa(T)):(v=Math.abs(+Dt(T)),p=v%2),m=new Q(o);;){if(p){if(m=m.times(b),!m.c)break;y?m.c.length>y&&(m.c.length=y):B&&(m=m.mod(C))}if(v){if(v=In(v/2),v===0)break;p=v%2}else if(T=T.times(x),Ft(T,T.e+1,1),T.e>14)p=Fa(T);else{if(v=+Dt(T),v===0)break;p=v%2}b=b.times(b),y?b.c&&b.c.length>y&&(b.c.length=y):B&&(b=b.mod(C))}return B?m:(f&&(m=o.div(m)),C?m.mod(C):y?Ft(m,et,d,a):m)},i.integerValue=function(T){var C=new Q(this);return T==null?T=d:hr(T,0,8),Ft(C,C.e+1,T)},i.isEqualTo=i.eq=function(T,C){return ao(this,new Q(T,C))===0},i.isFinite=function(){return!!this.c},i.isGreaterThan=i.gt=function(T,C){return ao(this,new Q(T,C))>0},i.isGreaterThanOrEqualTo=i.gte=function(T,C){return(C=ao(this,new Q(T,C)))===1||C===0},i.isInteger=function(){return!!this.c&&an(this.e/ye)>this.c.length-2},i.isLessThan=i.lt=function(T,C){return ao(this,new Q(T,C))<0},i.isLessThanOrEqualTo=i.lte=function(T,C){return(C=ao(this,new Q(T,C)))===-1||C===0},i.isNaN=function(){return!this.s},i.isNegative=function(){return this.s<0},i.isPositive=function(){return this.s>0},i.isZero=function(){return!!this.c&&this.c[0]==0},i.minus=function(T,C){var x,B,v,y,a=this,c=a.s;if(T=new Q(T,C),C=T.s,!c||!C)return new Q(NaN);if(c!=C)return T.s=-C,a.plus(T);var f=a.e/ye,p=T.e/ye,m=a.c,b=T.c;if(!f||!p){if(!m||!b)return m?(T.s=-C,T):new Q(b?a:NaN);if(!m[0]||!b[0])return b[0]?(T.s=-C,T):new Q(m[0]?a:d==3?-0:0)}if(f=an(f),p=an(p),m=m.slice(),c=f-p){for((y=c<0)?(c=-c,v=m):(p=f,v=b),v.reverse(),C=c;C--;v.push(0));v.reverse()}else for(B=(y=(c=m.length)<(C=b.length))?c:C,c=C=0;C<B;C++)if(m[C]!=b[C]){y=m[C]<b[C];break}if(y&&(v=m,m=b,b=v,T.s=-T.s),C=(B=b.length)-(x=m.length),C>0)for(;C--;m[x++]=0);for(C=ln-1;B>c;){if(m[--B]<b[B]){for(x=B;x&&!m[--x];m[x]=C);--m[x],m[B]+=ln}m[B]-=b[B]}for(;m[0]==0;m.splice(0,1),--p);return m[0]?ee(T,m,p):(T.s=d==3?-1:1,T.c=[T.e=0],T)},i.modulo=i.mod=function(T,C){var x,B,v=this;return T=new Q(T,C),!v.c||!T.s||T.c&&!T.c[0]?new Q(NaN):!T.c||v.c&&!v.c[0]?new Q(v):(K==9?(B=T.s,T.s=1,x=t(v,T,0,3),T.s=B,x.s*=B):x=t(v,T,0,K),T=v.minus(x.times(T)),!T.c[0]&&K==1&&(T.s=v.s),T)},i.multipliedBy=i.times=function(T,C){var x,B,v,y,a,c,f,p,m,b,P,E,u,l,_,S=this,O=S.c,F=(T=new Q(T,C)).c;if(!O||!F||!O[0]||!F[0])return!S.s||!T.s||O&&!O[0]&&!F||F&&!F[0]&&!O?T.c=T.e=T.s=null:(T.s*=S.s,!O||!F?T.c=T.e=null:(T.c=[0],T.e=0)),T;for(B=an(S.e/ye)+an(T.e/ye),T.s*=S.s,f=O.length,b=F.length,f<b&&(u=O,O=F,F=u,v=f,f=b,b=v),v=f+b,u=[];v--;u.push(0));for(l=ln,_=li,v=b;--v>=0;){for(x=0,P=F[v]%_,E=F[v]/_|0,a=f,y=v+a;y>v;)p=O[--a]%_,m=O[a]/_|0,c=E*p+m*P,p=P*p+c%_*_+u[y]+x,x=(p/l|0)+(c/_|0)+E*m,u[y--]=p%l;u[y]=x}return x?++B:u.splice(0,1),ee(T,u,B)},i.negated=function(){var T=new Q(this);return T.s=-T.s||null,T},i.plus=function(T,C){var x,B=this,v=B.s;if(T=new Q(T,C),C=T.s,!v||!C)return new Q(NaN);if(v!=C)return T.s=-C,B.minus(T);var y=B.e/ye,a=T.e/ye,c=B.c,f=T.c;if(!y||!a){if(!c||!f)return new Q(v/0);if(!c[0]||!f[0])return f[0]?T:new Q(c[0]?B:v*0)}if(y=an(y),a=an(a),c=c.slice(),v=y-a){for(v>0?(a=y,x=f):(v=-v,x=c),x.reverse();v--;x.push(0));x.reverse()}for(v=c.length,C=f.length,v-C<0&&(x=f,f=c,c=x,C=v),v=0;C;)v=(c[--C]=c[C]+f[C]+v)/ln|0,c[C]=ln===c[C]?0:c[C]%ln;return v&&(c=[v].concat(c),++a),ee(T,c,a)},i.precision=i.sd=function(T,C){var x,B,v,y=this;if(T!=null&&T!==!!T)return hr(T,1,_r),C==null?C=d:hr(C,0,8),Ft(new Q(y),T,C);if(!(x=y.c))return null;if(v=x.length-1,B=v*ye+1,v=x[v]){for(;v%10==0;v/=10,B--);for(v=x[0];v>=10;v/=10,B++);}return T&&y.e+1>B&&(B=y.e+1),B},i.shiftedBy=function(T){return hr(T,-Xu,Xu),this.times("1e"+T)},i.squareRoot=i.sqrt=function(){var T,C,x,B,v,y=this,a=y.c,c=y.s,f=y.e,p=s+4,m=new Q("0.5");if(c!==1||!a||!a[0])return new Q(!c||c<0&&(!a||a[0])?NaN:a?y:1/0);if(c=Math.sqrt(+Dt(y)),c==0||c==1/0?(C=sn(a),(C.length+f)%2==0&&(C+="0"),c=Math.sqrt(+C),f=an((f+1)/2)-(f<0||f%2),c==1/0?C="5e"+f:(C=c.toExponential(),C=C.slice(0,C.indexOf("e")+1)+f),x=new Q(C)):x=new Q(c+""),x.c[0]){for(f=x.e,c=f+p,c<3&&(c=0);;)if(v=x,x=m.times(v.plus(t(y,v,p,1))),sn(v.c).slice(0,c)===(C=sn(x.c)).slice(0,c))if(x.e<f&&--c,C=C.slice(c-3,c+1),C=="9999"||!B&&C=="4999"){if(!B&&(Ft(v,v.e+s+2,0),v.times(v).eq(y))){x=v;break}p+=4,c+=4,B=1}else{(!+C||!+C.slice(1)&&C.charAt(0)=="5")&&(Ft(x,x.e+s+2,1),T=!x.times(x).eq(y));break}}return Ft(x,x.e+s+1,d,T)},i.toExponential=function(T,C){return T!=null&&(hr(T,0,_r),T++),_t(this,T,C,1)},i.toFixed=function(T,C){return T!=null&&(hr(T,0,_r),T=T+this.e+1),_t(this,T,C)},i.toFormat=function(T,C,x){var B,v=this;if(x==null)T!=null&&C&&typeof C=="object"?(x=C,C=null):T&&typeof T=="object"?(x=T,T=C=null):x=tt;else if(typeof x!="object")throw Error(Yr+"Argument not an object: "+x);if(B=v.toFixed(T,C),v.c){var y,a=B.split("."),c=+x.groupSize,f=+x.secondaryGroupSize,p=x.groupSeparator||"",m=a[0],b=a[1],P=v.s<0,E=P?m.slice(1):m,u=E.length;if(f&&(y=c,c=f,f=y,u-=y),c>0&&u>0){for(y=u%c||c,m=E.substr(0,y);y<u;y+=c)m+=p+E.substr(y,c);f>0&&(m+=p+E.slice(y)),P&&(m="-"+m)}B=b?m+(x.decimalSeparator||"")+((f=+x.fractionGroupSize)?b.replace(new RegExp("\\d{"+f+"}\\B","g"),"$&"+(x.fractionGroupSeparator||"")):b):m}return(x.prefix||"")+B+(x.suffix||"")},i.toFraction=function(T){var C,x,B,v,y,a,c,f,p,m,b,P,E=this,u=E.c;if(T!=null&&(c=new Q(T),!c.isInteger()&&(c.c||c.s!==1)||c.lt(o)))throw Error(Yr+"Argument "+(c.isInteger()?"out of range: ":"not an integer: ")+Dt(c));if(!u)return new Q(E);for(C=new Q(o),p=x=new Q(o),B=f=new Q(o),P=sn(u),y=C.e=P.length-E.e-1,C.c[0]=Ju[(a=y%ye)<0?ye+a:a],T=!T||c.comparedTo(C)>0?y>0?C:p:c,a=M,M=1/0,c=new Q(P),f.c[0]=0;m=t(c,C,0,1),v=x.plus(m.times(B)),v.comparedTo(T)!=1;)x=B,B=v,p=f.plus(m.times(v=p)),f=v,C=c.minus(m.times(v=C)),c=v;return v=t(T.minus(x),B,0,1),f=f.plus(v.times(p)),x=x.plus(v.times(B)),f.s=p.s=E.s,y=y*2,b=t(p,B,y,d).minus(E).abs().comparedTo(t(f,x,y,d).minus(E).abs())<1?[p,B]:[f,x],M=a,b},i.toNumber=function(){return+Dt(this)},i.toPrecision=function(T,C){return T!=null&&hr(T,1,_r),_t(this,T,C,2)},i.toString=function(T){var C,x=this,B=x.s,v=x.e;return v===null?B?(C="Infinity",B<0&&(C="-"+C)):C="NaN":(T==null?C=v<=g||v>=A?Da(sn(x.c),v):zn(sn(x.c),v,"0"):T===10&&mt?(x=Ft(new Q(x),s+v+1,d),C=zn(sn(x.c),x.e,"0")):(hr(T,2,ht.length,"Base"),C=e(zn(sn(x.c),v,"0"),10,T,B,!0)),B<0&&x.c[0]&&(C="-"+C)),C},i.valueOf=i.toJSON=function(){return Dt(this)},i._isBigNumber=!0,i[Symbol.toStringTag]="BigNumber",i[Symbol.for("nodejs.util.inspect.custom")]=i.valueOf,r!=null&&Q.set(r),Q}function an(r){var t=r|0;return r>0||r===t?t:t-1}function sn(r){for(var t,e,n=1,i=r.length,o=r[0]+"";n<i;){for(t=r[n++]+"",e=ye-t.length;e--;t="0"+t);o+=t}for(i=o.length;o.charCodeAt(--i)===48;);return o.slice(0,i+1||1)}function ao(r,t){var e,n,i=r.c,o=t.c,s=r.s,d=t.s,g=r.e,A=t.e;if(!s||!d)return null;if(e=i&&!i[0],n=o&&!o[0],e||n)return e?n?0:-d:s;if(s!=d)return s;if(e=s<0,n=g==A,!i||!o)return n?0:!i^e?1:-1;if(!n)return g>A^e?1:-1;for(d=(g=i.length)<(A=o.length)?g:A,s=0;s<d;s++)if(i[s]!=o[s])return i[s]>o[s]^e?1:-1;return g==A?0:g>A^e?1:-1}function hr(r,t,e,n){if(r<t||r>e||r!==In(r))throw Error(Yr+(n||"Argument")+(typeof r=="number"?r<t||r>e?" out of range: ":" not an integer: ":" not a primitive number: ")+String(r))}function Fa(r){var t=r.c.length-1;return an(r.e/ye)==t&&r.c[t]%2!=0}function Da(r,t){return(r.length>1?r.charAt(0)+"."+r.slice(1):r)+(t<0?"e":"e+")+t}function zn(r,t,e){var n,i;if(t<0){for(i=e+".";++t;i+=e);r=i+r}else if(n=r.length,++t>n){for(i=e,t-=n;--t;i+=e);r+=i}else t<n&&(r=r.slice(0,t)+"."+r.slice(t));return r}var mm=Yl(),Zr=mm;var co="solana:",Qu="https:",os=new kt("MemoSq4gqABAXKb96qnH8TysNcWxMyWCqXgDLGmfcHr"),tf=9,ef=new Zr(10);var Xl=de(Zl(),1);function wm(r,t=512,e="white",n="black"){return new Xl.default(Jl(r,t,e,n))}function Jl(r,t=512,e="white",n="black"){return{type:"svg",width:t,height:t,data:String(r),margin:16,qrOptions:{typeNumber:0,mode:"Byte",errorCorrectionLevel:"Q"},backgroundOptions:{color:e},dotsOptions:{type:"extra-rounded",color:n},cornersSquareOptions:{type:"extra-rounded",color:n},cornersDotOptions:{type:"square",color:n},imageOptions:{hideBackgroundDots:!0,imageSize:.15,margin:8},image:`data:image/svg+xml;utf8,<svg fill="${encodeURIComponent(n)}" height="16" viewBox="0 0 16 14" width="16" xmlns="http://www.w3.org/2000/svg"><path d="m15.9176 11.038-2.6413 2.7713c-.0574.0602-.1269.1082-.2041.141s-.1604.0497-.2446.0497h-12.520966c-.059744 0-.118187-.0171-.168147-.0491-.0499596-.0321-.0892609-.0777-.1130745-.1313-.02381372-.0536-.03110249-.1129-.02097081-.1705.01013171-.0576.03724251-.111.07800141-.1538l2.6432769-2.7713c.05726-.06.12651-.1079.20346-.1407s.15996-.0498.2439-.05h12.52032c.0597 0 .1182.0171.1681.0492.05.032.0893.0776.1131.1313.0238.0536.0311.1128.021.1704-.0102.0576-.0373.1111-.078.1538zm-2.6413-5.58067c-.0574-.0602-.1269-.1082-.2041-.141s-.1604-.04971-.2446-.04966h-12.520966c-.059744 0-.118187.01708-.168147.04913-.0499596.03205-.0892609.07768-.1130745.13129-.02381372.0536-.03110249.11285-.02097081.17045.01013171.05761.03724251.11106.07800141.15379l2.6432769 2.77134c.05726.06004.12651.10794.20346.14073.07695.0328.15996.04979.2439.04993h12.52032c.0597 0 .1182-.01707.1681-.04913.05-.03205.0893-.07768.1131-.13129.0238-.0536.0311-.11285.021-.17045-.0102-.05761-.0373-.11106-.078-.15379zm-12.969666-1.99066h12.520966c.0842.00004.1674-.01687.2446-.04967s.1467-.0808.2041-.141l2.6413-2.771333c.0407-.042736.0678-.096189.078-.153792.0101-.057603.0028-.116847-.021-.170453s-.0631-.0992385-.1131-.1312911c-.0499-.0320526-.1084-.04912893-.1681-.0491309h-12.52032c-.08394.00013975-.16695.0171339-.2439.0499304s-.1462.0806976-.20346.1407366l-2.6425955 2.771333c-.0407196.04269-.0678184.09609-.07797306.15363-.01015467.05754-.00292373.11673.02080606.17031.0237297.05358.0629266.09922.1127835.13132.049857.03211.108207.04928.167893.04941z"/></svg>`}}var Ht=new kt("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),Lb=new kt("TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb"),Ql=new kt("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),Pb=new kt("So11111111111111111111111111111111111111112"),Ob=new kt("9pan9bMn5HatX4EJdBwg9VgCa7Uz5HL8N1m5D3NdXejP");var Ga=de(De(),1);var di=r=>{let t=r.decode.bind(r),e=r.encode.bind(r);return{decode:t,encode:e}};var nf=de(De(),1),pi=de(ou(),1);var qa=r=>t=>{let e=(0,nf.blob)(r,t),{encode:n,decode:i}=di(e),o=e;return o.decode=(s,d)=>{let g=i(s,d);return(0,pi.toBigIntLE)(Buffer.from(g))},o.encode=(s,d,g)=>{let A=(0,pi.toBufferLE)(s,r);return n(A,d,g)},o},Ka=r=>t=>{let e=(0,nf.blob)(r,t),{encode:n,decode:i}=di(e),o=e;return o.decode=(s,d)=>{let g=i(s,d);return(0,pi.toBigIntBE)(Buffer.from(g))},o.encode=(s,d,g)=>{let A=(0,pi.toBufferBE)(s,r);return n(A,d,g)},o},sr=qa(8),zb=Ka(8),xm=qa(16),Fb=Ka(16),Db=qa(24),qb=Ka(24),Kb=qa(32),Wb=Ka(32);var Vb=new Zr("1e+18");var t0=de(De(),1);var Wa=r=>{let t=(0,t0.u8)(r),{encode:e,decode:n}=di(t),i=t;return i.decode=(o,s)=>!!n(o,s),i.encode=(o,s,d)=>{let g=Number(o);return e(g,s,d)},i};var e0=de(De(),1);var We=r=>{let t=(0,e0.blob)(32,r),{encode:e,decode:n}=di(t),i=t;return i.decode=(o,s)=>{let d=n(o,s);return new kt(d)},i.encode=(o,s,d)=>{let g=o.toBuffer();return e(g,s,d)},i};var cn=class extends Error{constructor(t){super(t)}},uo=class extends cn{constructor(){super(...arguments),this.name="TokenAccountNotFoundError"}},Ha=class extends cn{constructor(){super(...arguments),this.name="TokenInvalidAccountError"}},fo=class extends cn{constructor(){super(...arguments),this.name="TokenInvalidAccountOwnerError"}},Fn=class extends cn{constructor(){super(...arguments),this.name="TokenInvalidAccountSizeError"}},$a=class extends cn{constructor(){super(...arguments),this.name="TokenInvalidMintError"}};var ja=class extends cn{constructor(){super(...arguments),this.name="TokenOwnerOffCurveError"}},he=class extends cn{constructor(){super(...arguments),this.name="TokenInvalidInstructionProgramError"}},le=class extends cn{constructor(){super(...arguments),this.name="TokenInvalidInstructionKeysError"}},ae=class extends cn{constructor(){super(...arguments),this.name="TokenInvalidInstructionDataError"}},oe=class extends cn{constructor(){super(...arguments),this.name="TokenInvalidInstructionTypeError"}};var At;(function(r){r[r.InitializeMint=0]="InitializeMint",r[r.InitializeAccount=1]="InitializeAccount",r[r.InitializeMultisig=2]="InitializeMultisig",r[r.Transfer=3]="Transfer",r[r.Approve=4]="Approve",r[r.Revoke=5]="Revoke",r[r.SetAuthority=6]="SetAuthority",r[r.MintTo=7]="MintTo",r[r.Burn=8]="Burn",r[r.CloseAccount=9]="CloseAccount",r[r.FreezeAccount=10]="FreezeAccount",r[r.ThawAccount=11]="ThawAccount",r[r.TransferChecked=12]="TransferChecked",r[r.ApproveChecked=13]="ApproveChecked",r[r.MintToChecked=14]="MintToChecked",r[r.BurnChecked=15]="BurnChecked",r[r.InitializeAccount2=16]="InitializeAccount2",r[r.SyncNative=17]="SyncNative",r[r.InitializeAccount3=18]="InitializeAccount3",r[r.InitializeMultisig2=19]="InitializeMultisig2",r[r.InitializeMint2=20]="InitializeMint2",r[r.GetAccountDataSize=21]="GetAccountDataSize",r[r.InitializeImmutableOwner=22]="InitializeImmutableOwner",r[r.AmountToUiAmount=23]="AmountToUiAmount",r[r.UiAmountToAmount=24]="UiAmountToAmount",r[r.InitializeMintCloseAuthority=25]="InitializeMintCloseAuthority",r[r.TransferFeeExtension=26]="TransferFeeExtension",r[r.ConfidentialTransferExtension=27]="ConfidentialTransferExtension",r[r.DefaultAccountStateExtension=28]="DefaultAccountStateExtension",r[r.Reallocate=29]="Reallocate",r[r.MemoTransferExtension=30]="MemoTransferExtension",r[r.CreateNativeMint=31]="CreateNativeMint",r[r.InitializeNonTransferableMint=32]="InitializeNonTransferableMint",r[r.InterestBearingMintExtension=33]="InterestBearingMintExtension"})(At||(At={}));var r0=(0,Ga.struct)([(0,Ga.u8)("instruction"),sr("amount")]);function n0(r,t=Ht){if(!r.programId.equals(t))throw new he;if(r.data.length!==r0.span)throw new ae;let{keys:{mint:e},data:n}=bm(r);if(n.instruction!==At.AmountToUiAmount)throw new oe;if(!e)throw new le;return{programId:t,keys:{mint:e},data:n}}function bm({programId:r,keys:[t],data:e}){return{programId:r,keys:{mint:t},data:r0.decode(e)}}var Va=de(De(),1);function i0(r,t,e){if(e.length){r.push({pubkey:t,isSigner:!1,isWritable:!1});for(let n of e)r.push({pubkey:n.publicKey,isSigner:!0,isWritable:!1})}else r.push({pubkey:t,isSigner:!0,isWritable:!1});return r}var o0=(0,Va.struct)([(0,Va.u8)("instruction"),sr("amount")]);function s0(r,t=Ht){if(!r.programId.equals(t))throw new he;if(r.data.length!==o0.span)throw new ae;let{keys:{account:e,delegate:n,owner:i,multiSigners:o},data:s}=vm(r);if(s.instruction!==At.Approve)throw new oe;if(!e||!n||!i)throw new le;return{programId:t,keys:{account:e,delegate:n,owner:i,multiSigners:o},data:s}}function vm({programId:r,keys:[t,e,n,...i],data:o}){return{programId:r,keys:{account:t,delegate:e,owner:n,multiSigners:i},data:o0.decode(o)}}var as=de(De(),1);var a0=(0,as.struct)([(0,as.u8)("instruction"),sr("amount"),(0,as.u8)("decimals")]);function c0(r,t=Ht){if(!r.programId.equals(t))throw new he;if(r.data.length!==a0.span)throw new ae;let{keys:{account:e,mint:n,delegate:i,owner:o,multiSigners:s},data:d}=km(r);if(d.instruction!==At.ApproveChecked)throw new oe;if(!e||!n||!i||!o)throw new le;return{programId:t,keys:{account:e,mint:n,delegate:i,owner:o,multiSigners:s},data:d}}function km({programId:r,keys:[t,e,n,i,...o],data:s}){return{programId:r,keys:{account:t,mint:e,delegate:n,owner:i,multiSigners:o},data:a0.decode(s)}}var Ya=de(De(),1);var u0=(0,Ya.struct)([(0,Ya.u8)("instruction"),sr("amount")]);function f0(r,t=Ht){if(!r.programId.equals(t))throw new he;if(r.data.length!==u0.span)throw new ae;let{keys:{account:e,mint:n,owner:i,multiSigners:o},data:s}=Im(r);if(s.instruction!==At.Burn)throw new oe;if(!e||!n||!i)throw new le;return{programId:t,keys:{account:e,mint:n,owner:i,multiSigners:o},data:s}}function Im({programId:r,keys:[t,e,n,...i],data:o}){return{programId:r,keys:{account:t,mint:e,owner:n,multiSigners:i},data:u0.decode(o)}}var cs=de(De(),1);var h0=(0,cs.struct)([(0,cs.u8)("instruction"),sr("amount"),(0,cs.u8)("decimals")]);function l0(r,t=Ht){if(!r.programId.equals(t))throw new he;if(r.data.length!==h0.span)throw new ae;let{keys:{account:e,mint:n,owner:i,multiSigners:o},data:s}=Am(r);if(s.instruction!==At.BurnChecked)throw new oe;if(!e||!n||!i)throw new le;return{programId:t,keys:{account:e,mint:n,owner:i,multiSigners:o},data:s}}function Am({programId:r,keys:[t,e,n,...i],data:o}){return{programId:r,keys:{account:t,mint:e,owner:n,multiSigners:i},data:h0.decode(o)}}var Za=de(De(),1);var d0=(0,Za.struct)([(0,Za.u8)("instruction")]);function p0(r,t=Ht){if(!r.programId.equals(t))throw new he;if(r.data.length!==d0.span)throw new ae;let{keys:{account:e,destination:n,authority:i,multiSigners:o},data:s}=_m(r);if(s.instruction!==At.CloseAccount)throw new oe;if(!e||!n||!i)throw new le;return{programId:t,keys:{account:e,destination:n,authority:i,multiSigners:o},data:s}}function _m({programId:r,keys:[t,e,n,...i],data:o}){return{programId:r,keys:{account:t,destination:e,authority:n,multiSigners:i},data:d0.decode(o)}}var yi=de(De(),1);var ho;(function(r){r[r.Uninitialized=0]="Uninitialized",r[r.Mint=1]="Mint",r[r.Account=2]="Account"})(ho||(ho={}));var Xa=1;var us=de(De(),1);var Em=(0,us.struct)([(0,us.u8)("m"),(0,us.u8)("n"),Wa("isInitialized"),We("signer1"),We("signer2"),We("signer3"),We("signer4"),We("signer5"),We("signer6"),We("signer7"),We("signer8"),We("signer9"),We("signer10"),We("signer11")]),Ja=Em.span;var Qa;(function(r){r[r.Uninitialized=0]="Uninitialized",r[r.Initialized=1]="Initialized",r[r.Frozen=2]="Frozen"})(Qa||(Qa={}));var y0=(0,yi.struct)([We("mint"),We("owner"),sr("amount"),(0,yi.u32)("delegateOption"),We("delegate"),(0,yi.u8)("state"),(0,yi.u32)("isNativeOption"),sr("isNative"),sr("delegatedAmount"),(0,yi.u32)("closeAuthorityOption"),We("closeAuthority")]),Dn=y0.span;async function of(r,t,e,n=Ht){let i=await r.getAccountInfo(t,e);return Sm(t,i,n)}function Sm(r,t,e=Ht){if(!t)throw new uo;if(!t.owner.equals(e))throw new fo;if(t.data.length<Dn)throw new Fn;let n=y0.decode(t.data.slice(0,Dn)),i=Buffer.alloc(0);if(t.data.length>Dn){if(t.data.length===Ja)throw new Fn;if(t.data[Dn]!=ho.Account)throw new Ha;i=t.data.slice(Dn+Xa)}return{address:r,mint:n.mint,owner:n.owner,amount:n.amount,delegate:n.delegateOption?n.delegate:null,delegatedAmount:n.delegatedAmount,isInitialized:n.state!==Qa.Uninitialized,isFrozen:n.state===Qa.Frozen,isNative:!!n.isNativeOption,rentExemptReserve:n.isNativeOption?n.isNative:null,closeAuthority:n.closeAuthorityOption?n.closeAuthority:null,tlvData:i}}var Ti=de(De(),1);var g0=(0,Ti.struct)([(0,Ti.u32)("mintAuthorityOption"),We("mintAuthority"),sr("supply"),(0,Ti.u8)("decimals"),Wa("isInitialized"),(0,Ti.u32)("freezeAuthorityOption"),We("freezeAuthority")]),sf=g0.span;async function m0(r,t,e,n=Ht){let i=await r.getAccountInfo(t,e);return Bm(t,i,n)}function Bm(r,t,e=Ht){if(!t)throw new uo;if(!t.owner.equals(e))throw new fo;if(t.data.length<sf)throw new Fn;let n=g0.decode(t.data.slice(0,sf)),i=Buffer.alloc(0);if(t.data.length>sf){if(t.data.length<=Dn)throw new Fn;if(t.data.length===Ja)throw new Fn;if(t.data[Dn]!=ho.Mint)throw new $a;i=t.data.slice(Dn+Xa)}return{address:r,mintAuthority:n.mintAuthorityOption?n.mintAuthority:null,supply:n.supply,decimals:n.decimals,isInitialized:n.isInitialized,freezeAuthority:n.freezeAuthorityOption?n.freezeAuthority:null,tlvData:i}}async function fs(r,t,e=!1,n=Ht,i=Ql){if(!e&&!kt.isOnCurve(t.toBuffer()))throw new ja;let[o]=await kt.findProgramAddress([t.toBuffer(),n.toBuffer(),r.toBuffer()],i);return o}var tc=de(De(),1);var w0=(0,tc.struct)([(0,tc.u8)("instruction")]);function x0(r,t=Ht){if(!r.programId.equals(t))throw new he;if(r.data.length!==w0.span)throw new ae;let{keys:{account:e,mint:n,owner:i,rent:o},data:s}=Rm(r);if(s.instruction!==At.InitializeAccount)throw new oe;if(!e||!n||!i||!o)throw new le;return{programId:t,keys:{account:e,mint:n,owner:i,rent:o},data:s}}function Rm({programId:r,keys:[t,e,n,i],data:o}){return{programId:r,keys:{account:t,mint:e,owner:n,rent:i},data:w0.decode(o)}}var lo=de(De(),1);var b0=(0,lo.struct)([(0,lo.u8)("instruction"),(0,lo.u8)("decimals"),We("mintAuthority"),(0,lo.u8)("freezeAuthorityOption"),We("freezeAuthority")]);function v0(r,t=Ht){if(!r.programId.equals(t))throw new he;if(r.data.length!==b0.span)throw new ae;let{keys:{mint:e},data:n}=Tm(r);if(n.instruction!==At.InitializeMint2)throw new oe;if(!e)throw new le;return{programId:t,keys:{mint:e},data:n}}function Tm({programId:r,keys:[t],data:e}){let{instruction:n,decimals:i,mintAuthority:o,freezeAuthorityOption:s,freezeAuthority:d}=b0.decode(e);return{programId:r,keys:{mint:t},data:{instruction:n,decimals:i,mintAuthority:o,freezeAuthority:s?d:null}}}var hs=de(De(),1);var k0=(0,hs.struct)([(0,hs.u8)("instruction"),(0,hs.u8)("m")]);function I0(r,t=Ht){if(!r.programId.equals(t))throw new he;if(r.data.length!==k0.span)throw new ae;let{keys:{account:e,rent:n,signers:i},data:o}=Mm(r);if(o.instruction!==At.InitializeMultisig)throw new oe;if(!e||!n||!i.length)throw new le;return{programId:t,keys:{account:e,rent:n,signers:i},data:o}}function Mm({programId:r,keys:[t,e,...n],data:i}){return{programId:r,keys:{account:t,rent:e,signers:n},data:k0.decode(i)}}var ec=de(De(),1);var A0=(0,ec.struct)([(0,ec.u8)("instruction")]);function _0(r,t=Ht){if(!r.programId.equals(t))throw new he;if(r.data.length!==A0.span)throw new ae;let{keys:{account:e},data:n}=Lm(r);if(n.instruction!==At.SyncNative)throw new oe;if(!e)throw new le;return{programId:t,keys:{account:e},data:n}}function Lm({programId:r,keys:[t],data:e}){return{programId:r,keys:{account:t},data:A0.decode(e)}}var rc=de(De(),1);var E0=(0,rc.struct)([(0,rc.u8)("instruction")]);function S0(r,t=Ht){if(!r.programId.equals(t))throw new he;if(r.data.length!==E0.span)throw new ae;let{keys:{account:e,mint:n,authority:i,multiSigners:o},data:s}=Pm(r);if(s.instruction!==At.FreezeAccount)throw new oe;if(!e||!n||!i)throw new le;return{programId:t,keys:{account:e,mint:n,authority:i,multiSigners:o},data:s}}function Pm({programId:r,keys:[t,e,n,...i],data:o}){return{programId:r,keys:{account:t,mint:e,authority:n,multiSigners:i},data:E0.decode(o)}}var nc=de(De(),1);var B0=(0,nc.struct)([(0,nc.u8)("instruction"),sr("amount")]);function R0(r,t=Ht){if(!r.programId.equals(t))throw new he;if(r.data.length!==B0.span)throw new ae;let{keys:{mint:e,destination:n,authority:i,multiSigners:o},data:s}=Om(r);if(s.instruction!==At.MintTo)throw new oe;if(!e||!n||!i)throw new le;return{programId:t,keys:{mint:e,destination:n,authority:i,multiSigners:o},data:s}}function Om({programId:r,keys:[t,e,n,...i],data:o}){return{programId:r,keys:{mint:t,destination:e,authority:n,multiSigners:i},data:B0.decode(o)}}var ls=de(De(),1);var T0=(0,ls.struct)([(0,ls.u8)("instruction"),sr("amount"),(0,ls.u8)("decimals")]);function M0(r,t=Ht){if(!r.programId.equals(t))throw new he;if(r.data.length!==T0.span)throw new ae;let{keys:{mint:e,destination:n,authority:i,multiSigners:o},data:s}=Cm(r);if(s.instruction!==At.MintToChecked)throw new oe;if(!e||!n||!i)throw new le;return{programId:t,keys:{mint:e,destination:n,authority:i,multiSigners:o},data:s}}function Cm({programId:r,keys:[t,e,n,...i],data:o}){return{programId:r,keys:{mint:t,destination:e,authority:n,multiSigners:i},data:T0.decode(o)}}var ic=de(De(),1);var L0=(0,ic.struct)([(0,ic.u8)("instruction")]);function P0(r,t=Ht){if(!r.programId.equals(t))throw new he;if(r.data.length!==L0.span)throw new ae;let{keys:{account:e,owner:n,multiSigners:i},data:o}=Um(r);if(o.instruction!==At.Revoke)throw new oe;if(!e||!n)throw new le;return{programId:t,keys:{account:e,owner:n,multiSigners:i},data:o}}function Um({programId:r,keys:[t,e,...n],data:i}){return{programId:r,keys:{account:t,owner:e,multiSigners:n},data:L0.decode(i)}}var po=de(De(),1);var O0;(function(r){r[r.MintTokens=0]="MintTokens",r[r.FreezeAccount=1]="FreezeAccount",r[r.AccountOwner=2]="AccountOwner",r[r.CloseAccount=3]="CloseAccount"})(O0||(O0={}));var C0=(0,po.struct)([(0,po.u8)("instruction"),(0,po.u8)("authorityType"),(0,po.u8)("newAuthorityOption"),We("newAuthority")]);function U0(r,t=Ht){if(!r.programId.equals(t))throw new he;if(r.data.length!==C0.span)throw new ae;let{keys:{account:e,currentAuthority:n,multiSigners:i},data:o}=Nm(r);if(o.instruction!==At.SetAuthority)throw new oe;if(!e||!n)throw new le;return{programId:t,keys:{account:e,currentAuthority:n,multiSigners:i},data:o}}function Nm({programId:r,keys:[t,e,...n],data:i}){let{instruction:o,authorityType:s,newAuthorityOption:d,newAuthority:g}=C0.decode(i);return{programId:r,keys:{account:t,currentAuthority:e,multiSigners:n},data:{instruction:o,authorityType:s,newAuthority:d?g:null}}}var oc=de(De(),1);var N0=(0,oc.struct)([(0,oc.u8)("instruction")]);function z0(r,t=Ht){if(!r.programId.equals(t))throw new he;if(r.data.length!==N0.span)throw new ae;let{keys:{account:e,mint:n,authority:i,multiSigners:o},data:s}=zm(r);if(s.instruction!==At.ThawAccount)throw new oe;if(!e||!n||!i)throw new le;return{programId:t,keys:{account:e,mint:n,authority:i,multiSigners:o},data:s}}function zm({programId:r,keys:[t,e,n,...i],data:o}){return{programId:r,keys:{account:t,mint:e,authority:n,multiSigners:i},data:N0.decode(o)}}var sc=de(De(),1);var F0=(0,sc.struct)([(0,sc.u8)("instruction"),sr("amount")]);function D0(r,t=Ht){if(!r.programId.equals(t))throw new he;if(r.data.length!==F0.span)throw new ae;let{keys:{source:e,destination:n,owner:i,multiSigners:o},data:s}=Fm(r);if(s.instruction!==At.Transfer)throw new oe;if(!e||!n||!i)throw new le;return{programId:t,keys:{source:e,destination:n,owner:i,multiSigners:o},data:s}}function Fm({programId:r,keys:[t,e,n,...i],data:o}){return{programId:r,keys:{source:t,destination:e,owner:n,multiSigners:i},data:F0.decode(o)}}var ds=de(De(),1);var ac=(0,ds.struct)([(0,ds.u8)("instruction"),sr("amount"),(0,ds.u8)("decimals")]);function q0(r,t,e,n,i,o,s=[],d=Ht){let g=i0([{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:e,isSigner:!1,isWritable:!0}],n,s),A=Buffer.alloc(ac.span);return ac.encode({instruction:At.TransferChecked,amount:BigInt(i),decimals:o},A),new Vt({keys:g,programId:d,data:A})}function K0(r,t=Ht){if(!r.programId.equals(t))throw new he;if(r.data.length!==ac.span)throw new ae;let{keys:{source:e,mint:n,destination:i,owner:o,multiSigners:s},data:d}=Dm(r);if(d.instruction!==At.TransferChecked)throw new oe;if(!e||!n||!i||!o)throw new le;return{programId:t,keys:{source:e,mint:n,destination:i,owner:o,multiSigners:s},data:d}}function Dm({programId:r,keys:[t,e,n,i,...o],data:s}){return{programId:r,keys:{source:t,mint:e,destination:n,owner:i,multiSigners:o},data:ac.decode(s)}}var qn=de(De(),1);function W0(r,t=Ht){if(!r.programId.equals(t))throw new he;let e=(0,qn.struct)([(0,qn.u8)("instruction"),(0,qn.blob)(r.data.length-1,"amount")]);if(r.data.length!==e.span)throw new ae;let{keys:{mint:n},data:i}=qm(r);if(i.instruction!==At.UiAmountToAmount)throw new oe;if(!n)throw new le;return{programId:t,keys:{mint:n},data:i}}function qm({programId:r,keys:[t],data:e}){let n=(0,qn.struct)([(0,qn.u8)("instruction"),(0,qn.blob)(e.length-1,"amount")]);return{programId:r,keys:{mint:t},data:n.decode(e)}}var yo=de(De(),1);var H0=(0,yo.struct)([(0,yo.u8)("instruction"),(0,yo.u8)("decimals"),We("mintAuthority"),(0,yo.u8)("freezeAuthorityOption"),We("freezeAuthority")]);function $0(r,t=Ht){if(!r.programId.equals(t))throw new he;if(r.data.length!==H0.span)throw new ae;let{keys:{mint:e,rent:n},data:i}=Km(r);if(i.instruction!==At.InitializeMint)throw new oe;if(!e||!n)throw new le;return{programId:t,keys:{mint:e,rent:n},data:i}}function Km({programId:r,keys:[t,e],data:n}){let{instruction:i,decimals:o,mintAuthority:s,freezeAuthorityOption:d,freezeAuthority:g}=H0.decode(n);return{programId:r,keys:{mint:t,rent:e},data:{instruction:i,decimals:o,mintAuthority:s,freezeAuthority:d?g:null}}}var Z0=de(De(),1);var cc=de(De(),1);var j0=(0,cc.struct)([(0,cc.u8)("instruction"),We("owner")]);function G0(r,t=Ht){if(!r.programId.equals(t))throw new he;if(r.data.length!==j0.span)throw new ae;let{keys:{account:e,mint:n,rent:i},data:o}=Wm(r);if(o.instruction!==At.InitializeAccount2)throw new oe;if(!e||!n||!i)throw new le;return{programId:t,keys:{account:e,mint:n,rent:i},data:o}}function Wm({programId:r,keys:[t,e,n],data:i}){return{programId:r,keys:{account:t,mint:e,rent:n},data:j0.decode(i)}}var uc=de(De(),1);var V0=(0,uc.struct)([(0,uc.u8)("instruction"),We("owner")]);function Y0(r,t=Ht){if(!r.programId.equals(t))throw new he;if(r.data.length!==V0.span)throw new ae;let{keys:{account:e,mint:n},data:i}=Hm(r);if(i.instruction!==At.InitializeAccount3)throw new oe;if(!e||!n)throw new le;return{programId:t,keys:{account:e,mint:n},data:i}}function Hm({programId:r,keys:[t,e],data:n}){return{programId:r,keys:{account:t,mint:e},data:V0.decode(n)}}function X0(r,t=Ht){if(!r.data.length)throw new ae;let e=(0,Z0.u8)().decode(r.data);if(e===At.InitializeMint)return $0(r,t);if(e===At.InitializeAccount)return x0(r,t);if(e===At.InitializeMultisig)return I0(r,t);if(e===At.Transfer)return D0(r,t);if(e===At.Approve)return s0(r,t);if(e===At.Revoke)return P0(r,t);if(e===At.SetAuthority)return U0(r,t);if(e===At.MintTo)return R0(r,t);if(e===At.Burn)return f0(r,t);if(e===At.CloseAccount)return p0(r,t);if(e===At.FreezeAccount)return S0(r,t);if(e===At.ThawAccount)return z0(r,t);if(e===At.TransferChecked)return K0(r,t);if(e===At.ApproveChecked)return c0(r,t);if(e===At.MintToChecked)return M0(r,t);if(e===At.BurnChecked)return l0(r,t);if(e===At.InitializeAccount2)return G0(r,t);if(e===At.SyncNative)return _0(r,t);if(e===At.InitializeAccount3)return Y0(r,t);if(e===At.InitializeMint2)return v0(r,t);if(e===At.AmountToUiAmount)return n0(r,t);if(e===At.UiAmountToAmount)return W0(r,t);throw e===At.InitializeMultisig2?new oe:new oe}function J0(r){return r.data.instruction===At.Transfer}function Q0(r){return r.data.instruction===At.TransferChecked}var mr=class extends Error{name="CreateTransferError"};async function $m(r,t,{recipient:e,amount:n,splToken:i,reference:o,memo:s},{commitment:d}={}){if(!await r.getAccountInfo(t))throw new mr("sender not found");if(!await r.getAccountInfo(e))throw new mr("recipient not found");let L=i?await Gm(e,n,i,t,r):await jm(e,n,t,r);if(o){Array.isArray(o)||(o=[o]);for(let $ of o)L.keys.push({pubkey:$,isWritable:!1,isSigner:!1})}let M=new Ke;return M.feePayer=t,M.recentBlockhash=(await r.getRecentBlockhash(d)).blockhash,s!=null&&M.add(new Vt({programId:os,keys:[],data:Buffer.from(s,"utf8")})),M.add(L),M}async function jm(r,t,e,n){let i=await n.getAccountInfo(e);if(!i)throw new mr("sender not found");let o=await n.getAccountInfo(r);if(!o)throw new mr("recipient not found");if(!i.owner.equals(yr.programId))throw new mr("sender owner invalid");if(i.executable)throw new mr("sender executable");if(!o.owner.equals(yr.programId))throw new mr("recipient owner invalid");if(o.executable)throw new mr("recipient executable");if((t.decimalPlaces()??0)>tf)throw new mr("amount decimals invalid");t=t.times(is).integerValue(Zr.ROUND_FLOOR);let s=t.toNumber();if(s>i.lamports)throw new mr("insufficient funds");return yr.transfer({fromPubkey:e,toPubkey:r,lamports:s})}async function Gm(r,t,e,n,i){let o=await m0(i,e);if(!o.isInitialized)throw new mr("mint not initialized");if((t.decimalPlaces()??0)>o.decimals)throw new mr("amount decimals invalid");t=t.times(ef.pow(o.decimals)).integerValue(Zr.ROUND_FLOOR);let s=await fs(e,n),d=await of(i,s);if(!d.isInitialized)throw new mr("sender not initialized");if(d.isFrozen)throw new mr("sender frozen");let g=await fs(e,r),A=await of(i,g);if(!A.isInitialized)throw new mr("recipient not initialized");if(A.isFrozen)throw new mr("recipient frozen");let L=BigInt(String(t));if(L>d.amount)throw new mr("insufficient funds");return q0(s,e,g,n,L,o.decimals)}function Vm(r){return"link"in r?Ym(r):Zm(r)}function Ym({link:r,label:t,message:e}){let n=r.search?encodeURIComponent(String(r).replace(/\/\?/,"?")):String(r).replace(/\/$/,""),i=new URL(co+n);return t&&i.searchParams.append("label",t),e&&i.searchParams.append("message",e),i}function Zm({recipient:r,amount:t,splToken:e,reference:n,label:i,message:o,memo:s}){let d=r.toBase58(),g=new URL(co+d);if(t&&g.searchParams.append("amount",t.toFixed(t.decimalPlaces()??0)),e&&g.searchParams.append("spl-token",e.toBase58()),n){Array.isArray(n)||(n=[n]);for(let A of n)g.searchParams.append("reference",A.toBase58())}return i&&g.searchParams.append("label",i),o&&g.searchParams.append("message",o),s&&g.searchParams.append("memo",s),g}var cd=de(rd(),1);var Xm=typeof atob=="function";var id=typeof Buffer=="function",Ik=typeof TextDecoder=="function"?new TextDecoder:void 0,Ak=typeof TextEncoder=="function"?new TextEncoder:void 0,Jm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",Qm=Array.prototype.slice.call(Jm),hc=(r=>{let t={};return r.forEach((e,n)=>t[e]=n),t})(Qm),tw=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,af=String.fromCharCode.bind(String),nd=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):(r,t=e=>e)=>new Uint8Array(Array.prototype.slice.call(r,0).map(t));var od=r=>r.replace(/[^A-Za-z0-9\+\/]/g,"");var ew=r=>{if(r=r.replace(/\s+/g,""),!tw.test(r))throw new TypeError("malformed base64.");r+="==".slice(2-(r.length&3));let t,e="",n,i;for(let o=0;o<r.length;)t=hc[r.charAt(o++)]<<18|hc[r.charAt(o++)]<<12|(n=hc[r.charAt(o++)])<<6|(i=hc[r.charAt(o++)]),e+=n===64?af(t>>16&255):i===64?af(t>>16&255,t>>8&255):af(t>>16&255,t>>8&255,t&255);return e},rw=Xm?r=>atob(od(r)):id?r=>Buffer.from(r,"base64").toString("binary"):ew,nw=id?r=>nd(Buffer.from(r,"base64")):r=>nd(rw(r),t=>t.charCodeAt(0)),sd=r=>nw(iw(r));var iw=r=>od(r.replace(/[-_]/g,t=>t=="-"?"+":"/"));var ud=de(ad(),1),An=class extends Error{name="FetchTransactionError"};async function ow(r,t,e,{commitment:n}={}){let o=await(await(0,cd.default)(String(e),{method:"POST",mode:"cors",cache:"no-cache",credentials:"omit",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({account:t})})).json();if(!o?.transaction)throw new An("missing transaction");if(typeof o.transaction!="string")throw new An("invalid transaction");let s=Ke.from(sd(o.transaction)),{signatures:d,feePayer:g,recentBlockhash:A}=s;if(d.length){if(!g)throw new An("missing fee payer");if(!g.equals(d[0].publicKey))throw new An("invalid fee payer");if(!A)throw new An("missing recent blockhash");let L=s.serializeMessage();for(let{signature:M,publicKey:$}of d)if(M){if(!ud.default.sign.detached.verify(L,M,$.toBuffer()))throw new An("invalid signature")}else if($.equals(t))d.length===1&&(s.recentBlockhash=(await r.getRecentBlockhash(n)).blockhash);else throw new An("missing signature")}else s.feePayer=t,s.recentBlockhash=(await r.getRecentBlockhash(n)).blockhash;return s}var ps=class extends Error{name="FindReferenceError"};async function fd(r,t,{finality:e,...n}={}){let i=await r.getSignaturesForAddress(t,n,e),o=i.length;if(!o)throw new ps("not found");let s=i[o-1];if(o<(n?.limit||1e3))return s;try{return await fd(r,t,{finality:e,...n,before:s.signature})}catch(d){if(d instanceof ps)return s;throw d}}var Qr=class extends Error{name="ParseURLError"};function sw(r){if(typeof r=="string"){if(r.length>2048)throw new Qr("length invalid");r=new URL(r)}if(r.protocol!==co)throw new Qr("protocol invalid");if(!r.pathname)throw new Qr("pathname missing");return/[:%]/.test(r.pathname)?aw(r):cw(r)}function aw({pathname:r,searchParams:t}){let e=new URL(decodeURIComponent(r));if(e.protocol!==Qu)throw new Qr("link invalid");let n=t.get("label")||void 0,i=t.get("message")||void 0;return{link:e,label:n,message:i}}function cw({pathname:r,searchParams:t}){let e;try{e=new kt(r)}catch{throw new Qr("recipient invalid")}let n,i=t.get("amount");if(i!=null){if(!/^\d+(\.\d+)?$/.test(i))throw new Qr("amount invalid");if(n=new Zr(i),n.isNaN())throw new Qr("amount NaN");if(n.isNegative())throw new Qr("amount negative")}let o,s=t.get("spl-token");if(s!=null)try{o=new kt(s)}catch{throw new Qr("spl-token invalid")}let d,g=t.getAll("reference");if(g.length)try{d=g.map($=>new kt($))}catch{throw new Qr("reference invalid")}let A=t.get("label")||void 0,L=t.get("message")||void 0,M=t.get("memo")||void 0;return{recipient:e,amount:n,splToken:o,reference:d,label:A,message:L,memo:M}}var Er=class extends Error{name="ValidateTransferError"};async function uw(r,t,{recipient:e,amount:n,splToken:i,reference:o,memo:s},d){let g=await r.getTransaction(t,d);if(!g)throw new Er("not found");let{message:A,signatures:L}=g.transaction,M=g.meta;if(!M)throw new Er("missing meta");if(M.err)throw M.err;o&&!Array.isArray(o)&&(o=[o]);let K=Ke.populate(A,L).instructions.slice(),et=K.pop();if(!et)throw new Er("missing transfer instruction");let[tt,ht]=i?await lw(et,A,M,e,i,o):await hw(et,A,M,e,o);if(ht.minus(tt).lt(n))throw new Er("amount not transferred");if(s!==void 0){let mt=K.pop();if(!mt)throw new Er("missing memo instruction");fw(mt,s)}return g}function fw(r,t){if(!r.programId.equals(os))throw new Er("invalid memo program");if(r.keys.length)throw new Er("invalid memo keys");if(!r.data.equals(Buffer.from(t,"utf8")))throw new Er("invalid memo")}async function hw(r,t,e,n,i){let o=t.accountKeys.findIndex(s=>s.equals(n));if(o===-1)throw new Er("recipient not found");if(i){Ca.decodeTransfer(r);let[s,d,...g]=r.keys,A=g.length;if(A!==i.length)throw new Er("invalid references");for(let L=0;L<A;L++)if(!g[L].pubkey.equals(i[L]))throw new Er(`invalid reference ${L}`)}return[new Zr(e.preBalances[o]||0).div(is),new Zr(e.postBalances[o]||0).div(is)]}async function lw(r,t,e,n,i,o){let s=await fs(i,n),d=t.accountKeys.findIndex(L=>L.equals(s));if(d===-1)throw new Er("recipient not found");if(o){let L=X0(r);if(!Q0(L)&&!J0(L))throw new Er("invalid transfer");let M=L.keys.multiSigners,$=M.length;if($!==o.length)throw new Er("invalid references");for(let K=0;K<$;K++)if(!M[K].pubkey.equals(o[K]))throw new Er(`invalid reference ${K}`)}let g=e.preTokenBalances?.find(L=>L.accountIndex===d),A=e.postTokenBalances?.find(L=>L.accountIndex===d);return[new Zr(g?.uiTokenAmount.uiAmountString||0),new Zr(A?.uiTokenAmount.uiAmountString||0)]}return dc(dw);})();
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
/*! noble-ed25519 - MIT License (c) 2019 Paul Miller (paulmillr.com) */
/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */
/*! noble-secp256k1 - MIT License (c) 2019 Paul Miller (paulmillr.com) */
/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */
/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
/**
 * Support for translating between Uint8Array instances and JavaScript
 * native types.
 *
 * {@link module:Layout~Layout|Layout} is the basis of a class
 * hierarchy that associates property names with sequences of encoded
 * bytes.
 *
 * Layouts are supported for these scalar (numeric) types:
 * * {@link module:Layout~UInt|Unsigned integers in little-endian
 *   format} with {@link module:Layout.u8|8-bit}, {@link
 *   module:Layout.u16|16-bit}, {@link module:Layout.u24|24-bit},
 *   {@link module:Layout.u32|32-bit}, {@link
 *   module:Layout.u40|40-bit}, and {@link module:Layout.u48|48-bit}
 *   representation ranges;
 * * {@link module:Layout~UIntBE|Unsigned integers in big-endian
 *   format} with {@link module:Layout.u16be|16-bit}, {@link
 *   module:Layout.u24be|24-bit}, {@link module:Layout.u32be|32-bit},
 *   {@link module:Layout.u40be|40-bit}, and {@link
 *   module:Layout.u48be|48-bit} representation ranges;
 * * {@link module:Layout~Int|Signed integers in little-endian
 *   format} with {@link module:Layout.s8|8-bit}, {@link
 *   module:Layout.s16|16-bit}, {@link module:Layout.s24|24-bit},
 *   {@link module:Layout.s32|32-bit}, {@link
 *   module:Layout.s40|40-bit}, and {@link module:Layout.s48|48-bit}
 *   representation ranges;
 * * {@link module:Layout~IntBE|Signed integers in big-endian format}
 *   with {@link module:Layout.s16be|16-bit}, {@link
 *   module:Layout.s24be|24-bit}, {@link module:Layout.s32be|32-bit},
 *   {@link module:Layout.s40be|40-bit}, and {@link
 *   module:Layout.s48be|48-bit} representation ranges;
 * * 64-bit integral values that decode to an exact (if magnitude is
 *   less than 2^53) or nearby integral Number in {@link
 *   module:Layout.nu64|unsigned little-endian}, {@link
 *   module:Layout.nu64be|unsigned big-endian}, {@link
 *   module:Layout.ns64|signed little-endian}, and {@link
 *   module:Layout.ns64be|unsigned big-endian} encodings;
 * * 32-bit floating point values with {@link
 *   module:Layout.f32|little-endian} and {@link
 *   module:Layout.f32be|big-endian} representations;
 * * 64-bit floating point values with {@link
 *   module:Layout.f64|little-endian} and {@link
 *   module:Layout.f64be|big-endian} representations;
 * * {@link module:Layout.const|Constants} that take no space in the
 *   encoded expression.
 *
 * and for these aggregate types:
 * * {@link module:Layout.seq|Sequence}s of instances of a {@link
 *   module:Layout~Layout|Layout}, with JavaScript representation as
 *   an Array and constant or data-dependent {@link
 *   module:Layout~Sequence#count|length};
 * * {@link module:Layout.struct|Structure}s that aggregate a
 *   heterogeneous sequence of {@link module:Layout~Layout|Layout}
 *   instances, with JavaScript representation as an Object;
 * * {@link module:Layout.union|Union}s that support multiple {@link
 *   module:Layout~VariantLayout|variant layouts} over a fixed
 *   (padded) or variable (not padded) span of bytes, using an
 *   unsigned integer at the start of the data or a separate {@link
 *   module:Layout.unionLayoutDiscriminator|layout element} to
 *   determine which layout to use when interpreting the buffer
 *   contents;
 * * {@link module:Layout.bits|BitStructure}s that contain a sequence
 *   of individual {@link
 *   module:Layout~BitStructure#addField|BitField}s packed into an 8,
 *   16, 24, or 32-bit unsigned integer starting at the least- or
 *   most-significant bit;
 * * {@link module:Layout.cstr|C strings} of varying length;
 * * {@link module:Layout.blob|Blobs} of fixed- or variable-{@link
 *   module:Layout~Blob#length|length} raw data.
 *
 * All {@link module:Layout~Layout|Layout} instances are immutable
 * after construction, to prevent internal state from becoming
 * inconsistent.
 *
 * @local Layout
 * @local ExternalLayout
 * @local GreedyCount
 * @local OffsetLayout
 * @local UInt
 * @local UIntBE
 * @local Int
 * @local IntBE
 * @local NearUInt64
 * @local NearUInt64BE
 * @local NearInt64
 * @local NearInt64BE
 * @local Float
 * @local FloatBE
 * @local Double
 * @local DoubleBE
 * @local Sequence
 * @local Structure
 * @local UnionDiscriminator
 * @local UnionLayoutDiscriminator
 * @local Union
 * @local VariantLayout
 * @local BitStructure
 * @local BitField
 * @local Boolean
 * @local Blob
 * @local CString
 * @local Constant
 * @local bindConstructorLayout
 * @module Layout
 * @license MIT
 * @author Peter A. Bigot
 * @see {@link https://github.com/pabigot/buffer-layout|buffer-layout on GitHub}
 */
