(function($){$.fn.toggleClick=function(){var functions=arguments,iteration=0;return this.click(function(){functions[iteration].call();iteration=(iteration+1)%functions.length})};$(document).ready(function(){$("fieldset.collapse").each(function(i,elem){if($(elem).find("div.errors").length==0){$(elem).addClass("collapsed").find("h2").first().append(' (<a id="fieldsetcollapser'+i+'" class="collapse-toggle" style="cursor:pointer;color:#5b80b2">'+gettext("Show")+"</a>)")}});$("fieldset.collapse a.collapse-toggle").each(function(i,elem){$(elem).toggleClick(function(){$(elem).text(gettext("Hide")).closest("fieldset").removeClass("collapsed").trigger("show.fieldset",[$(elem).attr("id")]);return false},function(){$(elem).text(gettext("Show")).closest("fieldset").addClass("collapsed").trigger("hide.fieldset",[$(elem).attr("id")]);return false})})})})(jQuery);
